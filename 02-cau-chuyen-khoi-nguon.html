<!DOCTYPE html>
<html lang="vi">
<head>
<script src="/js/rw-event-id.js"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BD5GXRQFQZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-BD5GXRQFQZ');
  </script>
<!-- === CH√àN CODE N√ÄY NGAY SAU ƒê√ì === -->
<script>
// === RUBY WINGS - AUTOMATIC EVENT TRACKING ===
(function() {
    'use strict';
    
    // ƒê·ª£i DOM ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initTracking);
    } else {
        initTracking();
    }
    
    function initTracking() {
        // 1. TRACK PAGE_VIEW - Ngay khi trang load
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                page_title: document.title,
                page_location: window.location.href,
                page_path: window.location.pathname
            });
        }
        
        // 2. TRACK SESSION_START - M·ªói phi√™n m·ªõi
        if (!sessionStorage.getItem('ruby_session_started')) {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'session_start');
            }
            sessionStorage.setItem('ruby_session_started', 'true');
        }
        
        // 3. TRACK FIRST_VISIT - Ch·ªâ l·∫ßn ƒë·∫ßu
        if (!localStorage.getItem('ruby_first_visit')) {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'first_visit');
            }
            localStorage.setItem('ruby_first_visit', new Date().toISOString());
        }
        
        // 4. TRACK SCROLL - Khi cu·ªôn 90% trang
        let scrollTracked = false;
        window.addEventListener('scroll', function() {
            if (!scrollTracked) {
                const scrolled = (window.scrollY + window.innerHeight) / document.documentElement.scrollHeight;
                if (scrolled >= 0.9) {
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'scroll', {
                            scroll_percentage: 90,
                            page_path: window.location.pathname
                        });
                    }
                    scrollTracked = true;
                }
            }
        }, { passive: true });
        
        // 5. TRACK USER_ENGAGEMENT - Sau 30 gi√¢y
        setTimeout(function() {
            if (typeof gtag !== 'undefined') {
                gtag('event', 'user_engagement', {
                    engagement_time: 30,
                    page_path: window.location.pathname
                });
            }
        }, 30000);
        
        // 6. TRACK CLICK - T·∫•t c·∫£ click c∆° b·∫£n
        document.addEventListener('click', function(e) {
            if (typeof gtag !== 'undefined') {
                const target = e.target;
                gtag('event', 'click', {
                    element_text: target.textContent?.substring(0, 50) || 'unknown',
                    element_tag: target.tagName,
                    page_path: window.location.pathname
                });
            }
        }, { passive: true });
        
        
        // T·ª± ƒë·ªông th√™m tracking cho c√°c n√∫t consultation
        const consultButtons = document.querySelectorAll([
            '[href*="forms.gle"]',
            '[onclick*="consultation"]',
            '[class*="consult"]',
            '.rw-consult-btn-main'
        ].join(','));
        
        consultButtons.forEach(btn => {
            btn.addEventListener('click', trackConsultationClick, { passive: true });
        });
        
        console.log('‚úÖ Ruby Wings - Automatic tracking initialized');
    }
})();
</script>
<!-- === H·∫æT CODE TRACKING === -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
  <meta name="author" content="Ruby Wings">
  <meta name="robots" content="index, follow">

  <!-- SEO c∆° b·∫£n (ch·ªânh cho t·ª´ng trang) -->
  <title>C√¢u Chuy·ªán Kh·ªüi Ngu·ªìn Ruby Wings - H√†nh Tr√¨nh T·ª´ Bi·∫øn C·ªë ƒê·∫øn H·ªìi Sinh</title>
  <meta name="description" content="Kh√°m ph√° h√†nh tr√¨nh ƒë·∫∑c bi·ªát t·ª´ bi·∫øn c·ªë s·ª©c kh·ªèe ƒë·∫øn h·ªìi sinh c·ªßa ng∆∞·ªùi s√°ng l·∫≠p Ruby Wings. C√¢u chuy·ªán truy·ªÅn c·∫£m h·ª©ng v·ªÅ du l·ªãch ch·ªØa l√†nh, n∆°i m·ªói chuy·∫øn ƒëi l√† c∆° h·ªôi k·∫øt n·ªëi n·ªôi t√¢m v√† t√¨m l·∫°i b√¨nh y√™n t·ª´ thi·ªÅn ch√°nh ni·ªám, kh√≠ c√¥ng v√† thi√™n nhi√™n.">
  <meta name="keywords" content="Ruby Wings, ch·ªØa l√†nh t·ª´ b√™n trong, thi·ªÅn ch√°nh ni·ªám, kh√≠ c√¥ng, thi√™n nhi√™n, retreat, h·ªìi sinh, c√¢u chuy·ªán, c·∫£m h·ª©ng, s·ª©c kho·∫ª, ƒëau ·ªëm, du l·ªãch ch·ªØa l√†nh">

  <!-- Open Graph (Facebook, Zalo...) -->
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Ruby Wings">
  <meta property="og:title" content="C√¢u Chuy·ªán Kh·ªüi Ngu·ªìn Ruby Wings - H√†nh Tr√¨nh T·ª´ Bi·∫øn C·ªë ƒê·∫øn H·ªìi Sinh">
  <meta property="og:description" content="Kh√°m ph√° h√†nh tr√¨nh ƒë·∫∑c bi·ªát t·ª´ bi·∫øn c·ªë s·ª©c kh·ªèe ƒë·∫øn h·ªìi sinh c·ªßa ng∆∞·ªùi s√°ng l·∫≠p Ruby Wings. C√¢u chuy·ªán truy·ªÅn c·∫£m h·ª©ng v·ªÅ du l·ªãch ch·ªØa l√†nh.">
  <meta property="og:url" content="https://rubywings.vn/02-cau-chuyen-khoi-nguon.html">
  <meta property="og:image" content="https://rubywings.vn/images/02-cau-chuyen-khoi-nguon.jpg">
  <meta property="og:image:alt" content="C√¢u chuy·ªán kh·ªüi ngu·ªìn Ruby Wings - H√†nh tr√¨nh t·ª´ bi·∫øn c·ªë ƒë·∫øn h·ªìi sinh">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="C√¢u Chuy·ªán Kh·ªüi Ngu·ªìn Ruby Wings - H√†nh Tr√¨nh T·ª´ Bi·∫øn C·ªë ƒê·∫øn H·ªìi Sinh">
  <meta name="twitter:description" content="Kh√°m ph√° h√†nh tr√¨nh ƒë·∫∑c bi·ªát t·ª´ bi·∫øn c·ªë s·ª©c kh·ªèe ƒë·∫øn h·ªìi sinh c·ªßa ng∆∞·ªùi s√°ng l·∫≠p Ruby Wings.">
  <meta name="twitter:image" content="https://rubywings.vn/images/02-cau-chuyen-khoi-nguon.jpg">
  <meta name="twitter:image:alt" content="C√¢u chuy·ªán kh·ªüi ngu·ªìn Ruby Wings - H√†nh tr√¨nh t·ª´ bi·∫øn c·ªë ƒë·∫øn h·ªìi sinh">
  <meta name="twitter:creator" content="@TienSy379">
  <script src="facebook-pixel-complete.js"></script>
  <!-- Canonical -->
  <link rel="canonical" href="https://rubywings.vn/02-cau-chuyen-khoi-nguon.html">

  <!-- Favicon - ƒê√É S·ª¨A: Th√™m HTTPS -->
  <link rel="icon" href="https://rubywings.vn/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="https://rubywings.vn/apple-touch-icon.png">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;700&family=Open+Sans:ital,wght@0,400;0,600;0,700;1,600;1,700&family=Roboto:wght@400;500&family=Playfair+Display:wght@400;500;600&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Schema JSON-LD -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://rubywings.vn/#organization",
      "name": "Ruby Wings Travel",
      "url": "https://rubywings.vn/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://rubywings.vn/images/logo.png"
      },
      "description": "Ruby Wings Travel l√† ƒë∆°n v·ªã t·ªï ch·ª©c c√°c h√†nh tr√¨nh du l·ªãch tr·∫£i nghi·ªám t·∫°i Vi·ªát Nam, k·∫øt h·ª£p thi·ªÅn ch√°nh ni·ªám, kh√≠ c√¥ng v√† k·∫øt n·ªëi v·ªõi thi√™n nhi√™n. Ho·∫°t ƒë·ªông c·ªßa Ruby Wings t·∫≠p trung v√†o vi·ªác x√¢y d·ª±ng c√°c ch∆∞∆°ng tr√¨nh c√≥ chi·ªÅu s√¢u, g·∫Øn v·ªõi vƒÉn h√≥a, gi√° tr·ªã tinh th·∫ßn v√† s·ª± ph·ª•c h·ªìi th√¢n ‚Äì t√¢m ‚Äì tr√≠.",
      "telephone": "+84-33-251-0486",
      "email": "rubywingslsa@gmail.com",
      "sameAs": [
        "https://www.facebook.com/profile.php?id=61563772112138",
        "https://www.facebook.com/tien.sy.5011/",
        "https://x.com/TienSy379",
        "https://www.instagram.com/tiensyrubywings",
        "https://www.tiktok.com/@syluong379",
        "https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B9-l%C6%B0%C6%A1ng-9a0292387"
      ],
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "148 Tr∆∞∆°ng Gia M√¥, Vƒ© D·∫°",
        "addressLocality": "Th√†nh ph·ªë Hu·∫ø",
        "addressRegion": "Th·ª´a Thi√™n Hu·∫ø",
        "postalCode": "530000",
        "addressCountry": "VN"
      },
      "founder": {
        "@type": "Person",
        "name": "L∆∞∆°ng Ti·∫øn S·ªπ",
        "jobTitle": "Founder & CEO",
        "url": "https://www.facebook.com/tien.sy.5011/",
        "description": "Ng∆∞·ªùi s√°ng l·∫≠p Ruby Wings Travel, ƒë·ªãnh h∆∞·ªõng x√¢y d·ª±ng c√°c h√†nh tr√¨nh du l·ªãch tr·∫£i nghi·ªám g·∫Øn v·ªõi thi·ªÅn ch√°nh ni·ªám, kh√≠ c√¥ng v√† gi√° tr·ªã s·ªëng b·ªÅn v·ªØng."
      }
    },
    {
      "@type": "AboutPage",
      "@id": "https://rubywings.vn/02-cau-chuyen-khoi-nguon.html#aboutpage",
      "url": "https://rubywings.vn/02-cau-chuyen-khoi-nguon.html",
      "name": "C√¢u Chuy·ªán Kh·ªüi Ngu·ªìn Ruby Wings",
      "description": "Trang gi·ªõi thi·ªáu c√¢u chuy·ªán kh·ªüi ngu·ªìn c·ªßa Ruby Wings Travel, ph·∫£n √°nh qu√° tr√¨nh h√¨nh th√†nh, tri·∫øt l√Ω ho·∫°t ƒë·ªông v√† ƒë·ªãnh h∆∞·ªõng ph√°t tri·ªÉn c·ªßa th∆∞∆°ng hi·ªáu.",
      "isPartOf": {
        "@id": "https://rubywings.vn/#website"
      },
      "about": {
        "@id": "https://rubywings.vn/#organization"
      },
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://rubywings.vn/images/02-cau-chuyen-khoi-nguon.jpg"
      },
      "breadcrumb": {
        "@id": "https://rubywings.vn/02-cau-chuyen-khoi-nguon.html#breadcrumb"
      },
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      }
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://rubywings.vn/02-cau-chuyen-khoi-nguon.html#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Trang ch·ªß",
          "item": "https://rubywings.vn/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "V·ªÅ ch√∫ng t√¥i",
          "item": "https://rubywings.vn/ve-chung-toi.html"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "C√¢u chuy·ªán kh·ªüi ngu·ªìn",
          "item": "https://rubywings.vn/02-cau-chuyen-khoi-nguon.html"
        }
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://rubywings.vn/#website",
      "url": "https://rubywings.vn/",
      "name": "Ruby Wings Travel",
      "description": "Du l·ªãch tr·∫£i nghi·ªám - H√†nh tr√¨nh c·ªßa chi·ªÅu s√¢u",
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      }
    }
  ]
}
</script>


  <style>
    :root {
      --color-primary: #FF4081;
      --color-secondary: #2E7D32;
      --color-accent: #e9c46a;
      --color-dark: #264653;
      --color-light: #f8f9fa;
      --font-heading: 'Noto Serif', serif;
      --font-body: 'Open Sans', sans-serif;
      --transition: all 0.3s ease;
      --shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family: var(--font-body);
      color:#333;
      line-height:1.6;
      background:#fff;
      scroll-behavior:smooth;
    }
    h1,h2,h3 {font-family:var(--font-heading);}
    a {text-decoration:none;color:inherit;}

    /* Header */
    header {
      position:sticky;top:0;left:0;right:0;
      background: #fff;
      box-shadow: var(--shadow);
      z-index:1000;
      transition: var(--transition);
      padding: 10px 0;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }
    header.hidden {
      transform: translateY(-100%);
    }
    .header-container {
      max-width:1200px;margin:auto;
      padding:10px 20px;
      display:flex;justify-content:space-between;align-items:center;
      position: relative;
      z-index: 1;
    }
    .logo {display:flex;align-items:center;gap:10px;background: white;border-radius: 15px;padding: 12px;box-shadow: 0 4px 30px rgba(255,255,255,0.2);}
    .logo img {height:70px;transition:var(--transition);filter: brightness(1.2) drop-shadow(0 2px 4px rgba(0,0,0,0.1));}
    .logo-text {display:flex;flex-direction:column;color: #333;}
    .logo-main {font-size:1.8rem;font-weight:700;color:var(--color-primary);text-shadow: none;}
    .logo-sub {font-size:1rem;color:var(--color-secondary);text-shadow: none; white-space: nowrap;}
    nav {display:flex;gap:25px;}
    nav a {font-weight:600;position:relative;color: var(--color-secondary);transition: var(--transition);}
    nav a::after {
      content:"";position:absolute;bottom:-5px;left:0;width:0;height:2px;
      background:var(--color-accent);transition:var(--transition);
    }
    nav a:hover {color: var(--color-primary);}
    nav a:hover::after {width:100%;}

    /* Mobile menu */
    .mobile-menu-btn {display:none;font-size:1.8rem;color:var(--color-primary);background:none;border:none;cursor:pointer;padding:10px;-webkit-appearance:none;-webkit-tap-highlight-color: transparent;}
    .nav-links {
      display:flex;gap:20px;
    }
    @media(max-width:768px){
      .nav-links {
        position:fixed;top:0;left:-100%;flex-direction:column;
        background:#fff;height:100vh;width:75%;max-width:300px;
        padding:80px 30px;gap:20px;box-shadow:2px 0 15px rgba(0,0,0,0.1);
        transition:var(--transition);
        z-index:999;
      }
      .nav-links.active {left:0;}
      .mobile-menu-btn{display:block;position:absolute;right:20px;top:50%;transform:translateY(-50%);}
      .nav-links a {color: #333; font-size: 1.1rem;}
    }

    /* Main Content Styles */
    main {
      padding:40px 20px;
      max-width:1200px;
      margin:auto;
    }
    @media (max-width: 768px) {
      main { padding: 40px 5px; }
    }

    /* Story-specific styles (integrated and enhanced) */
    .story-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: var(--shadow);
      overflow: hidden;
      padding: 40px;
      transition: var(--transition);
    }
    .story-container:hover {
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .story-header {
      text-align: center;
      margin-bottom: 50px;
      position: relative;
      padding-bottom: 20px;
    }
    
    .story-header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(to right, var(--color-primary), var(--color-secondary));
      border-radius: 2px;
    }
    
    .story-title {
      font-family: 'Playfair Display', var(--font-heading);
      font-size: 2.8rem;
      font-weight: 600;
      color: var(--color-secondary);
      margin-bottom: 15px;
      transition: var(--transition);
    }
    
    .story-title:hover {
      color: var(--color-primary);
      transform: translateY(-3px);
    }
    
    .story-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      display: block;
      color: var(--color-secondary);
    }
    
    .story-intro {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--color-dark);
      font-style: italic;
    }
    
    .chapter {
      margin-bottom: 60px;
      padding: 30px;
      border-radius: 10px;
      background: var(--color-light);
      box-shadow: var(--shadow);
      transition: var(--transition);
      animation: fadeInUp 0.6s ease forwards;
    }
    
    .chapter:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
    }
    
    .chapter-title {
      font-family: 'Playfair Display', var(--font-heading);
      font-size: 1.8rem;
      font-weight: 600;
      color: var(--color-secondary);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      transition: var(--transition);
      cursor: pointer;
    }
    
    .chapter-title:hover {
      color: var(--color-primary);
    }
    
    .chapter-title::before {
      content: '';
      display: inline-block;
      width: 8px;
      height: 8px;
      background: var(--color-accent);
      border-radius: 50%;
      margin-right: 15px;
    }
    
    .chapter-content {
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 20px;
      text-align: justify;
    }
    
    .chapter-content ul {
      margin-left: 20px;
      margin-bottom: 20px;
    }
    
    .chapter-content ul li {
      margin-bottom: 10px;
    }
    
    .media-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 25px;
      justify-content: center;
    }
    
    .image-item {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
      height: 200px;
    }
    
    .image-item:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    
    .image-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .audio-player, .video-player {
      width: 100%;
      margin-top: 20px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    
    .audio-player audio, .video-player video {
      width: 100%;
      height: auto;
    }
    
    .highlight-box {
      background: linear-gradient(135deg, rgba(255,64,129,0.1), rgba(46,125,50,0.1));
      border-left: 4px solid var(--color-primary);
      padding: 25px;
      margin: 30px 0;
      border-radius: 0 10px 10px 0;
      font-style: italic;
      position: relative;
    }
    
    .highlight-box::before {
      content: '"';
      font-size: 4rem;
      color: var(--color-primary);
      opacity: 0.2;
      position: absolute;
      top: -10px;
      left: 10px;
      font-family: var(--font-heading);
    }
    
    .quote {
      font-size: 1.2rem;
      font-weight: 500;
      color: var(--color-secondary);
    }
    
    .story-footer {
      text-align: center;
      margin-top: 50px;
      padding-top: 30px;
      border-top: 1px solid rgba(0,0,0,0.1);
    }
    
    .conclusion {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--color-secondary);
      margin-bottom: 20px;
    }
    
    .signature {
      font-family: 'Playfair Display', var(--font-heading);
      font-size: 1.5rem;
      color: var(--color-primary);
      margin-top: 30px;
    }
    
    .experience-btn {
      display:inline-block;margin:30px auto;padding:15px 40px;
      background:linear-gradient(135deg,var(--color-primary),#ff1493);
      color:#fff;border-radius:50px;font-weight:700;text-transform:uppercase;
      letter-spacing:1px;box-shadow:0 10px 20px rgba(255,20,147,0.3);
      transition:var(--transition);font-size:1rem;
      animation:pulse 2s infinite;
    }
    .experience-btn:hover {transform:translateY(-5px);}

    @keyframes pulse {
      0%{box-shadow:0 0 0 0 rgba(255,20,147,0.4);}
      70%{box-shadow:0 0 0 15px rgba(255,20,147,0);}
      100%{box-shadow:0 0 0 0 rgba(255,20,147,0);}
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    
    .chapter:nth-child(2) { animation-delay: 0.1s; }
    .chapter:nth-child(3) { animation-delay: 0.2s; }
    .chapter:nth-child(4) { animation-delay: 0.3s; }
    .chapter:nth-child(5) { animation-delay: 0.4s; }
    .chapter:nth-child(6) { animation-delay: 0.5s; }
    
    /* Footer */
    footer {
      background:linear-gradient(135deg,var(--color-dark),var(--color-secondary));
      color:#fff;padding:40px 20px 20px;
    }
    .footer-content {
      max-width:1200px;margin:auto;
      display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:30px;margin-bottom:20px;
    }
    .footer-column h3 {
      color:var(--color-accent);margin-bottom:15px;font-size:1.3rem;
      position:relative;padding-bottom:8px;
    }
    .footer-column h3::after {
      content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:var(--color-accent);
    }
    .footer-column p {margin-bottom:15px;font-size:0.95rem;}
    .contact-info {display:flex;align-items:center;gap:10px;margin-bottom:8px;}
    .social-links-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    .social-row {
      display: flex;
      gap: 8px;
      justify-content: center;
    }
    .social-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      color: white !important;
      text-decoration: none;
      transition: all 0.3s ease;
      font-size: 16px;
    }
    .social-icon:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    /* M√†u s·∫Øc th∆∞∆°ng hi·ªáu cho t·ª´ng n·ªÅn t·∫£ng */
    .social-icon.facebook {background-color: #3b5998;}
    .social-icon.facebook-personal {background-color: #1877f2;}
    .social-icon.twitter {background-color: #1da1f2;}
    .social-icon.instagram {background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);}
    .social-icon.tiktok {background-color: #000000;}
    .social-icon.linkedin {background-color: #0077b5;}
    .social-icon.whatsapp {background-color: #25D366;}
    .social-icon.zalo {background-color: #0068FF; padding: 5px;}
    .social-icon.youtube {background-color: #FF0000;}
    .social-icon.messenger {background: linear-gradient(135deg, #0084FF 0%, #00C6FF 100%);}
    .zalo-icon {width: 20px;height: 20px;border-radius: 50%;object-fit: cover;}
    .footer-title-link {color: inherit;text-decoration: none;transition: color 0.3s ease;}
    .footer-title-link:hover {color: #e91e63;}
    .community-btn {display: inline-block;margin-top: 10px;padding: 10px 20px;background-color: #e91e63;color: white;text-decoration: none;border-radius: 4px;font-weight: 600;font-size: 0.9rem;transition: all 0.3s ease;box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
    .community-btn:hover {background-color: #90EE90;color: #333;transform: translateY(-2px);box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
    .copyright {text-align:center;padding-top:15px;border-top:1px solid rgba(255,255,255,0.2);font-size:0.9rem;}

    /* Mobile-specific styles */
    @media (max-width: 768px) {
      .logo {
        background: white;
        padding: 8px 12px;
        margin-left: -10px;
      }
      .logo-text {
        text-align: center;
      }
      .logo-main {
        font-size: 1.4rem;
        margin-bottom: 2px;
      }
      .logo-sub {
        font-size: 0.75rem;
        font-style: italic;
        font-weight: 600;
        line-height: 1.1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .page-subtitle {
        white-space: normal;
        font-size: 1.1rem;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 90%;
        margin: 0 auto 30px;
      }
      .section-title.logo-title {
        font-size: 1.4rem;
        line-height: 1.2;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        white-space: normal;
      }
      .quote-text {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 0.95rem;
        line-height: 1.35;
      }
      .ecosystem-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .story-container {
        padding: 20px;
      }
      .story-title {
        font-size: 2.2rem;
      }
      .chapter {
        padding: 20px;
      }
      .chapter-title {
        font-size: 1.5rem;
      }
      .media-container {
        grid-template-columns: 1fr;
      }
      .social-links-grid {
        flex-direction: row;
        justify-content: center;
        gap: 5px;
      }
      .social-links-grid .social-row {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 5px;
        justify-content: center;
      }
      .social-links-grid .social-row:first-child {
        margin-bottom: 5px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-container">
    <div class="logo">
      <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho logo -->
      <img src="https://rubywings.vn/assets/images/ruby-wings-logo.png" alt="Ruby Wings Logo">
      <div class="logo-text">
        <div class="logo-main">RUBY WINGS</div>
        <div class="logo-sub"><em>Travel - H√†nh tr√¨nh tr·∫£i nghi·ªám</em></div>
      </div>
    </div>
    <button class="mobile-menu-btn" id="mobileMenuBtn"><i class="fas fa-bars"></i></button>
    <nav class="nav-links" id="navLinks">
      <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho internal links -->
      <a href="https://rubywings.vn/index.html">Trang ch·ªß</a>
      <a href="https://rubywings.vn/tuyen-ngon-sang-lap-ruby-wings.html">V·ªÅ Ruby Wings ch√∫ng t√¥i</a>
      <a href="https://rubywings.vn/ve-dep-quang-tri.html">Kh√°m ph√° Mi·ªÅn Trung</a>
      <a href="https://rubywings.vn/nhung-hanh-trinh-tieu-bieu.html">H√†nh tr√¨nh ti√™u bi·ªÉu</a>
      <a href="https://rubywings.vn/ve-dep-thien-nhien-viet-nam.html">Non n∆∞·ªõc- Vi·ªát Nam</a>
      <a href="https://rubywings.vn/thien-va-suc-khoe.html">Retreat- Ch·ªØa l√†nh</a>
    </nav>
  </div>
</header>
<hr style="border:0;height:4px;background:linear-gradient(to right,#FF4081,#2E7D32);margin:0;">

<main>
  <div class="story-container">
    <div class="story-header">
      <span class="story-icon">üå±</span>
      <h1 class="story-title">C√¢u chuy·ªán kh·ªüi ngu·ªìn</h1>
      <p class="story-intro"><strong> ƒêi·ªÉm kh·ªüi ƒë·∫ßu Ruby Wings l·∫°i kh√¥ng n·∫±m tr√™n b√†n gi·∫•y‚Ä¶ m√† b·∫Øt ngu·ªìn t·ª´ m·ªôt th·ªùi ƒëi·ªÉm kh√° xa trong qu√° kh·ª©...</strong></p>
    </div>
    
    <div class="chapter">
      <h2 class="chapter-title">"D·∫•u ·∫•n" kh√¥ng th·ªÉ qu√™n c·ªßa cu·ªôc ƒë·ªùi:</h2>
      <div class="chapter-content">
        <p>NƒÉm 2015, ng∆∞·ªùi th√†nh l·∫≠p Ruby Wings ƒë·ªëi di·ªán v·ªõi c√∫ s·ªëc l·ªõn: b·ªánh t·∫≠t b·∫•t ng·ªù... </p>
        <p>C∆° th·ªÉ g·∫ßy g√≤ ch·ªâ c√≤n h∆°n 40kg, nh·ªØng ng√†y d√†i trong b·ªánh vi·ªán lo √¢u v·ªõi nh·ªØng ch·∫©n ƒëo√°n y khoa m∆° h·ªì: "Vi√™m kh√¥ng ƒë·∫∑c hi·ªáu"; "B·ªánh t·ª± mi·ªÖn..". T∆∞·ªüng ch·ª´ng nh∆∞ ph·∫£i ƒë·∫∑t d·∫•u ch·∫•m h·∫øt th√¨ m·ªôt c√°nh c·ª≠a kh√°c m·ªü ra.</p>
        <p> L√† ng∆∞·ªùi th√≠ch ƒë·ªçc s√°ch, ƒë∆∞·ª£c bi·∫øt (t·ª´ s√°ch) Thi·ªÅn, Kh√≠ c√¥ng c√≥ th·ªÉ ch·ªØa l√†nh, Anh t√¨m ƒë·∫øn kh√≠ c√¥ng v√† ch√°nh ni·ªám ‚Äì b·∫Øt ƒë·∫ßu h·ªçc c√°ch th·ªü, v·∫≠n ƒë·ªông, c√°ch l·∫Øng nghe c∆° th·ªÉ, c√°ch nu√¥i d∆∞·ª°ng t√¢m tr√≠...</p>
        <p>Nh·ªØng ng√†y th√°ng k·ª∑ lu·∫≠t v√† ki√™n tr√¨ ·∫•y ƒë√£ ƒë∆∞a anh tr·ªü l·∫°i t·ª´ v·ª±c th·∫≥m, kh√¥ng ch·ªâ h·ªìi ph·ª•c s·ª©c kh·ªèe th·ªÉ x√°c, m√† c√≤n th·ª©c t·ªânh... Tr·∫£i qua nhi·ªÅu thƒÉng tr·∫ßm, cho ƒë·∫øn nh·ªØng nƒÉm th√°ng g·∫ßn ƒë√¢y, tr·∫£i qua nhi·ªÅu "s·ª± ki·ªán" nh∆∞ ƒë√£ ƒë∆∞·ª£c s·∫Øp ƒë·∫∑t tr∆∞·ªõc - anh ƒë·∫∑t m·ªôt c√¢u h·ªèi: "C√≥ th·ªÉ n√†o bi·∫øn nh·ªØng tr·∫£i nghi·ªám h·ªìi sinh n√†y th√†nh m·ªôt h√†nh tr√¨nh ƒë·ªÉ lan to·∫£ ƒë·∫øn m·ªçi ng∆∞·ªùi?"</p>
      </div>
      
      <div class="media-container">
        <div class="image-item">
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho h√¨nh ·∫£nh -->
          <img src="images/02-cau-chuyen-khoi-nguon-1.jpg" alt="H√†nh tr√¨nh h·ªìi ph·ª•c">
        </div>
      </div>
      
      <div class="audio-player">
        <audio controls>
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho audio -->
          <source src="nhachinh/02-cau-chuyen-khoi-nguon-1.mp3" type="audio/mpeg">
          Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t audio.
        </audio>
      </div>
    </div>
    
    <div class="chapter">
      <h2 class="chapter-title">T·ª´ c√° nh√¢n ƒë·∫øn c·ªông ƒë·ªìng:</h2>
      <div class="chapter-content">
        <p>C√¢u h·ªèi ·∫•y kh√¥ng ch·ªâ d√†nh cho b·∫£n th√¢n m√† c√≥n c√≥ th·ªÉ cho m·ªôt b·ªô ph·∫≠n kh√¥ng nh·ªè c·ªông ƒë·ªìng ƒëang s·ªëng qu√° nhanh, qu√° v·ªôi v·ªõi nh·ªØng √°p l·ª±c v√† t√≠ch t·ª• t·ªïn th∆∞∆°<ng class=""></ng>. Ng√†y c√†ng nhi·ªÅu b·∫°n d√π r·∫•t tr·∫ª v·∫´n c·∫£m th·∫•y ki·ªát s·ª©c, m·∫•t nƒÉng l∆∞·ª£ng, k·∫øt n·ªëi v·ªõi c·∫£ ch√≠nh m√¨nh.</p>
        <p>Th·∫ø l√† √Ω t∆∞·ªüng v·ªÅ Ruby Wings h√¨nh th√†nh ‚Äì kh√¥ng ph·∫£i nh∆∞ m·ªôt c√¥ng ty du l·ªãch ƒë∆°n thu·∫ßn, m√† c√≥ th·ªÉ ch·ªØa l√†nh b·∫±ng nh·ªØng h√†nh tr√¨nh tr·∫£i nghi·ªám... Ruby Wings ƒë∆∞·ª£c thai ngh√©n t·ª´ m·ªôt trƒÉn tr·ªü: "Li·ªáu c√≥ th·ªÉ t·∫°o ra m·ªôt m√¥ h√¨nh du l·ªãch v·ª´a s·ªëng ƒë∆∞·ª£c ‚Äì v·ª´a ƒë·∫πp ‚Äì v·ª´a c√≥ √≠ch cho c·ªông ƒë·ªìng kh√¥ng?"</p>
      </div>
      
      <div class="highlight-box">
        <p class="quote"><strong>"Li·ªáu c√≥ th·ªÉ t·∫°o ra m·ªôt m√¥ h√¨nh du l·ªãch v·ª´a s·ªëng ƒë∆∞·ª£c, v·ª´a c√≥ √≠ch cho c·ªông ƒë·ªìng kh√¥ng?"</strong></p>
      </div>
    </div>
    
    <div class="chapter">
      <h2 class="chapter-title">Nh·ªØng ng√†y rong du·ªói t√¨m hi·ªÉu:</h2>
      <div class="chapter-content">
        <p>Thay v√¨ v·ªôi v√£ ƒë∆∞a ra s·∫£n ph·∫©m, Ruby Wings ch·ªçn ƒëi ch·∫≠m:</p>
        <ul>
          <li><strong>Kh·∫£o s√°t ƒë·ªãa b√†n:</strong> t·ª´ H∆∞·ªõng H√≥a ƒë·∫øn ƒêakr√¥ng ‚Äì T·ª´ Qu·∫£ng B√¨nh (c≈©) ƒë·∫øn H·ªôi An - T·ª´ B·∫Øc ch√≠ Nam </li>
          <li><strong>T√¨m hi·ªÉu c·ªông ƒë·ªìng b·∫£n ƒë·ªãa:</strong> nghe chia s·∫ª, k·ªÉ chuy·ªán, hi·ªÉu vƒÉn h√≥a, t√¨m ph∆∞∆°ng ph√°p, c√°ch th·ª©c ƒë·ªìng h√†nh....</li>
          <li><strong>X√¢y d·ª±ng n·ªÅn m√≥ng:</strong> tr∆∞·ªõc c·∫£ khi c√≥ h√†nh tr√¨nh, Ruby Wings ƒë√£ c√≥ tri·∫øt l√Ω s·ªëng, "h·ªá ƒëi·ªÅu h√†nh", quy ch·∫ø n·ªôi b·ªô, nh∆∞ nh·ªØng vi√™n g·∫°ch ƒë·∫ßu ti√™n cho m·ªôt ng√¥i nh√† b·ªÅn v·ªØng.</li>
        </ul>
        <p>Giai ƒëo·∫°n 2024‚Äì2025, Ruby Wings t·∫°m g·ªçi l√† th·ªùi k·ª≥ "gieo h·∫°t", gieo m·ªôt h·∫°t m·∫ßm t·ª≠ t·∫ø v√† gieo ni·ªÅm tin r·∫±ng h√†nh tr√¨nh n√†y ƒë√°ng ƒë·ªÉ ƒëi ƒë·∫øn n∆°i ch·ªën.</p>
      </div>
      
      <div class="media-container">
        <div class="image-item">
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho h√¨nh ·∫£nh -->
          <img src="images/02-cau-chuyen-khoi-nguon-2.jpg" alt="Kh·∫£o s√°t ƒë·ªãa b√†n">
        </div>
        <div class="image-item">
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho h√¨nh ·∫£nh -->
          <img src="images/02-cau-chuyen-khoi-nguon-3.jpg" alt="K·∫øt n·ªëi c·ªông ƒë·ªìng">
        </div>
      </div>
    </div>
    
    <div class="chapter">
      <h2 class="chapter-title">Kh·ªüi ngu·ªìn t·ª´ tri·∫øt l√Ω s·ªëng</h2>
      <div class="chapter-content">
        <p>Ruby Wings ra ƒë·ªùi c√≤n t·ª´ m·ªôt tri·∫øt l√Ω s·ªëng...</p>
        <ul>
          <li>Du l·ªãch kh√¥ng ch·ªâ ƒë·ªÉ ƒëi, m√† ƒë·ªÉ c√¢n b·∫±ng - ch·ªØa l√†nh ‚Äì k·∫øt n·ªëi ‚Äì l√†m m·ªõi b·∫£n th√¢n.</li>
          <li>M·ªói chuy·∫øn ƒëi kh√¥ng d·ª´ng l·∫°i ·ªü c·∫£nh quan, m√† m·ªü ra m·ªôt c√°nh c·ª≠a b√™n trong - "t√¨m th·∫•y ƒëi·ªÅu g√¨ ƒë√≥ t·ª´ b√™n trong..".</li>
          <li>Doanh nghi·ªáp kh√¥ng ch·ªâ ƒë·ªÉ ki·∫øm l·ª£i nhu·∫≠n, m√† ƒë·ªÉ lan t·ªèa gi√° tr·ªã t·ª≠ t·∫ø.</li>
        </ul>
        <p>Ch√≠nh tri·∫øt l√Ω ·∫•y nh∆∞ l√† m·ªôt "tuy√™n ng√¥n s√°ng l·∫≠p": "Con ng∆∞·ªùi h√¥m nay v√† ng√†y mai c·∫ßn nh·ªØng h√†nh tr√¨nh c√≥ gi√° tr·ªã kh√°c bi·ªát..."</p>
      </div>
      
      <div class="video-player">
        <video controls>
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho video -->
          <source src="https://rubywings.vn/nhachinh/02-cau-chuyen-khoi-nguon-1.mp4" type="video/mp4">
          Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t video.
        </video>
      </div>
    </div>
    
    <div class="chapter">
      <h2 class="chapter-title">T·ª´ m·ªôt c√¢u chuy·ªán ‚Äì ƒë·∫øn √Ω t∆∞·ªüng t·∫°o m·ªôt h√†nh tr√¨nh √Ω nghƒ©a</h2>
      <div class="chapter-content">
        <p>Ruby Wings kh√¥ng c√≤n l√† c√¢u chuy·ªán c·ªßa ri√™ng m·ªôt c√° nh√¢n v∆∞·ª£t qua b·ªánh t·∫≠t, n√≥ s·∫Ω tr·ªü th√†nh h√†nh tr√¨nh t·∫≠p th·ªÉ ‚Äì n∆°i ƒë·ªôi ng≈©, c·ªông s·ª± v√† du kh√°ch c√≥ th·ªÉ c√πng ki·∫øn t·∫°o m·ªôt m√¥ h√¨nh du l·ªãch t·ª≠ t·∫ø, tr∆∞·ªõc m·∫Øt c√≥ s·ª©c c√¢n b·∫±ng ƒë·∫øn ch·ªØa l√†nh ‚Äì nh√¢n vƒÉn, xanh v√† b·ªÅn v·ªØng.</p>
        <p>V√† ch√∫ng t√¥i tin r·∫±ng, m·ªói du kh√°ch khi r·ªùi ƒëi, s·∫Ω mang theo kh√¥ng ch·ªâ l√† k√Ω ·ª©c v·ªÅ m·ªôt v√πng ƒë·∫•t, m√† c√≤n l√† ni·ªÅm tin v√†o ch√≠nh m√¨nh - s·∫Ω v∆∞·ª£t qua kh√≥ khƒÉn tinh th·∫ßn, th·ªÉ x√°c, s·∫Ω t√¨m th·∫•y b√¨nh y√™n b√™n trong... .</p>
      </div>
      
      <div class="media-container">
        <div class="image-item">
          <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho h√¨nh ·∫£nh -->
          <img src="images/02-cau-chuyen-khoi-nguon-4.jpg" alt="C·ªông ƒë·ªìng Ruby Wings">
        </div>
      </div>
    </div>
    
    <div class="story-footer">
      <p class="conclusion">üí° C√¢u chuy·ªán kh·ªüi ngu·ªìn c·ªßa Ruby Wings c√≥ th·ªÉ th·∫•y:</p>
      <p><strong>"Trong b√≥ng t·ªëi c√≥ th·ªÉ t√¨m th·∫•y   √°nh s√°ng - T·ª´ m·ªôt bi·∫øn c·ªë c√° nh√¢n c√≥ th·ªÉ khai sinh m·ªôt h√†nh tr√¨nh".</strong></p>
      <p class="signature">Ruby Wings</p>
    </div>
  </div>

  <div style="text-align:center;">
    <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho internal link -->
    <a href="https://rubywings.vn/03-tuyen-ngon-sang-lap.html" class="experience-btn">
      <i class="fas fa-hand-holding-heart"></i> T√¨m hi·ªÉu c√¢u chuy·ªán s√°ng l·∫≠p <i class="fas fa-book-open"></i>
    </a>
  </div>
</main>
<style>
/* === RUBY WINGS CONSULTATION BUTTON - MOBILE GREEN VERSION === */
.rw-consult-btn-container {
    display: block !important;
    margin: 25px 0 !important;
    text-align: center !important;
    width: 100% !important;
}

.rw-consult-btn-main {
    /* Reset m·ªçi style m·∫∑c ƒë·ªãnh */
    all: unset !important;
    
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    
    /* K√≠ch th∆∞·ªõc v√† kho·∫£ng c√°ch */
    padding: 18px 35px !important;
    margin: 10px auto !important;
    
    /* Ki·ªÉu d√°ng */
    border-radius: 50px !important;
    border: 3px solid #2cec2c !important;
    font-weight: 800 !important;
    font-size: 18px !important;
    line-height: 1.3 !important;
    text-align: center !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    
    /* M√†u s·∫Øc - XANH L√Å C√ÇY + CH·ªÆ V√ÄNG */
    background: linear-gradient(135deg, #2cec2c 0%, #22cc22 100%) !important;
    color: #ffd700 !important;
    cursor: pointer !important;
    
    /* Hi·ªáu ·ª©ng */
    transition: all 0.4s ease !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 6px 20px rgba(44, 236, 44, 0.3) !important;
    
    /* Font ch·ªØ r√µ r√†ng */
    font-family: 'Arial', 'Helvetica', sans-serif !important;
}

/* TEXT - CH·ªÆ M√ÄU V√ÄNG N·ªîI B·∫¨T */
.rw-consult-btn-main .rw-btn-text {
    color: #f3f5f8 !important;
    font-weight: 800 !important;
    font-size: 18px !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
    z-index: 2 !important;
    position: relative !important;
}

/* === HI·ªÜU ·ª®NG HOVER - CHUY·ªÇN M√ÄU ƒê·∫¨M D·∫¶N === */
.rw-consult-btn-main:hover {
    transform: translateY(-4px) scale(1.05) !important;
    box-shadow: 0 12px 30px rgba(44, 236, 44, 0.5) !important;
    background: linear-gradient(135deg, #32ff32 0%, #1a991a 100%) !important;
    border-color: #32ff32 !important;
    color: #ffd700 !important;
}

.rw-consult-btn-main:hover .rw-btn-text {
    color: #ffd700 !important;
}

/* Hi·ªáu ·ª©ng √°nh s√°ng tr∆∞·ª£t */
.rw-consult-btn-main::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
    transition: left 0.7s ease !important;
    z-index: 1 !important;
}

.rw-consult-btn-main:hover::before {
    left: 100% !important;
}

/* === MOBILE RESPONSIVE - 1 D√íNG & T·ªêI ∆ØU === */
@media (max-width: 768px) {
    .rw-consult-btn-main {
        padding: 16px 25px !important;
        font-size: 16px !important;
        width: 95% !important;
        max-width: 320px !important;
        display: flex !important; /* ƒê·∫£m b·∫£o 1 d√≤ng */
        flex-wrap: nowrap !important;
        white-space: nowrap !important;
    }
    
    .rw-consult-btn-main .rw-btn-text {
        font-size: 16px !important;
        white-space: nowrap !important;
        /* B·ªé M≈®I T√äN - ch·ªâ hi·ªÉn th·ªã text */
    }
    
    /* ·∫®n ho√†n to√†n m≈©i t√™n tr√™n mobile */
    .rw-consult-btn-main .rw-btn-arrow {
        display: none !important;
    }
    
    /* M√†u mobile - xanh l√° nh·∫°t */
    .rw-consult-btn-main {
        background: linear-gradient(135deg, #2bdc2b 0%, #1a9f1a 100%) !important;
        border-color: #2cec2c !important;
    }
}

@media (max-width: 480px) {
    .rw-consult-btn-main {
        padding: 14px 20px !important;
        font-size: 15px !important;
        margin: 8px auto !important;
    }
    
    .rw-consult-btn-main .rw-btn-text {
        font-size: 15px !important;
        letter-spacing: 0.5px !important;
    }
}

/* Desktop - v·∫´n gi·ªØ m≈©i t√™n */
@media (min-width: 769px) {
    .rw-consult-btn-main .rw-btn-arrow {
        margin-left: 12px !important;
        transition: transform 0.3s ease !important;
        font-weight: bold !important;
        font-size: 18px !important;
        color: #fff3af !important;
        z-index: 2 !important;
        position: relative !important;
    }
    
    .rw-consult-btn-main:hover .rw-btn-arrow {
        transform: translateX(4px) !important;
    }
}

/* ƒê·∫£m b·∫£o kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi CSS kh√°c */
.rw-consult-btn-container * {
    box-sizing: border-box !important;
}
</style>

<!-- === HTML CH√àN V√ÄO TRANG === -->
<div class="rw-consult-btn-container">
    <a href="https://forms.gle/XCWf6zgFRp4Vhbw39" 
       class="rw-consult-btn-main" 
       target="_blank"
       rel="noopener noreferrer">
        <span class="rw-btn-text">N∆†I NH·∫¨N TH√îNG TIN T∆Ø V·∫§N</span> 
        <span class="rw-btn-arrow">‚Üí</span>
    </a>
</div>

<script>
// === JAVASCRIPT HO√ÄN CH·ªàNH V·ªöI FACEBOOK PIXEL ===
function trackConsultationClick() {
    // === FACEBOOK PIXEL TRACKING - QUAN TR·ªåNG ===
    if (typeof fbq !== 'undefined') {
        fbq('track', 'Lead', {
            content_name: 'ƒêƒÉng k√Ω t∆∞ v·∫•n chung - ' + document.title,
            content_category: 'General Consultation',
            page_url: window.location.href,
            button_type: 'General CTA'
        });
        console.log('Facebook Pixel: Tracked consultation click');
    } else {
        console.warn('Facebook Pixel not loaded yet');
    }
    
    // === GOOGLE ANALYTICS TRACKING (GI·ªÆ NGUY√äN) ===
    if (typeof gtag !== 'undefined') {
        gtag('event', 'consultation_click', {
            'event_category': 'engagement',
            'event_label': 'Google Forms Consultation Button'
        });
    }
    
    console.log('Consultation button clicked - Opening: https://forms.gle/XCWf6zgFRp4Vhbw39');
    
    // === ƒê·∫¢M B·∫¢O M·ªû FORM SAU KHI TRACKING ===
    setTimeout(function() {
        window.open('https://forms.gle/XCWf6zgFRp4Vhbw39', '_blank');
    }, 100);
}

// === HI·ªÜU ·ª®NG V√Ä X·ª¨ L√ù BUTTON ===
document.addEventListener('DOMContentLoaded', function() {
    const btn = document.querySelector('.rw-consult-btn-main');
    if (btn) {
        console.log('Ruby Wings Consultation Button loaded successfully');
        
        // Th√™m hi·ªáu ·ª©ng click
        btn.addEventListener('mousedown', function() {
            this.style.transform = 'translateY(-2px) scale(1.02)';
        });
        
        btn.addEventListener('mouseup', function() {
            this.style.transform = 'translateY(-4px) scale(1.05)';
        });
        
        // X·ª≠ l√Ω s·ª± ki·ªán click ƒë·ªÉ ƒë·∫£m b·∫£o tracking
        btn.addEventListener('click', function(e) {
            // NgƒÉn m·ªü link ngay l·∫≠p t·ª©c
            e.preventDefault();
            // G·ªçi h√†m tracking
            trackConsultationClick();
        });
        
        // Ki·ªÉm tra mobile
        if (window.innerWidth <= 768) {
            console.log('Mobile mode: Green background, no arrow, single line');
        }
    }
});

// === BACKUP TRACKING - N·∫æU PIXEL CH∆ØA LOAD ===
function ensurePixelTracking() {
    if (typeof fbq === 'undefined') {
        console.log('Waiting for Facebook Pixel to load...');
        setTimeout(ensurePixelTracking, 500);
    }
}

// Kh·ªüi ƒë·ªông backup tracking
ensurePixelTracking();
</script>
<!-- Footer -->
<footer id="contact">
    <div class="footer-content">
        <div class="footer-column">
            <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho internal link -->
            <h3><a href="https://rubywings.vn/tuyen-ngon-sang-lap-ruby-wings.html" class="footer-title-link">V·ªÅ ch√∫ng t√¥i</a></h3>
            <p>Ruby Wings Travel - "H√†nh tr√¨nh c·ªßa chi·ªÅu s√¢u, n∆°i b·∫°n kh√¥ng ch·ªâ ƒë·∫øn m·ªôt n∆°i, m√† c√≤n c√≥ th·ªÉ ƒë∆∞·ª£c tr·ªü v·ªÅ v·ªõi ch√≠nh m√¨nh".</p>
            <p> MST: 3301743759</p>
            <div class="social-links-grid">
                <div class="social-row">
                    <a href="https://www.facebook.com/profile.php?id=61563772112138" target="_blank" class="social-icon facebook" title="Facebook Fanpage">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.facebook.com/tien.sy.5011/" target="_blank" class="social-icon facebook-personal" title="Facebook C√° nh√¢n">
                        <i class="fas fa-user"></i>
                    </a>
                    <a href="https://x.com/TienSy379/status/1971778015232421915?t=UsXdMD8FrwjF3OO3ZnoUGg&s=19" target="_blank" class="social-icon twitter" title="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.instagram.com/tiensyrubywings?igsh=MWV3czBwMmYwYnIydA==" target="_blank" class="social-icon instagram" title="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@syluong379?_t=ZS-904eIdTTG12&_r=1" target="_blank" class="social-icon tiktok" title="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B9-l%C6%B0%C6%A1ng-9a0292387?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="social-icon linkedin" title="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://wa.me/84332510486" target="_blank" class="social-icon whatsapp" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://zalo.me/84332510486" target="_blank" class="social-icon zalo" title="Zalo Nh·∫Øn tin">
                        <!-- ƒê√É S·ª¨A: Th√™m HTTPS cho h√¨nh Zalo -->
                        <img src="https://rubywings.vn/images/zalo.jpg" alt="Zalo" class="zalo-icon">
                    </a>
                    <a href="https://www.youtube.com/@rubywing-slsa" target="_blank" class="social-icon youtube" title="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://m.me/tien.sy.5011?hash=AbY3ty4r4j7255Yb&source=qr_link_share" target="_blank" class="social-icon messenger" title="Messenger">
                        <i class="fab fa-facebook-messenger"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-column">
            <h3>Li√™n H·ªá</h3>
            <div class="contact-info">
                <i class="fas fa-map-marker-alt"></i>
                <span>148 Tr∆∞∆°ng Gia M√¥, V·ªπ D·∫° TP. Hu·∫ø</span>
            </div>
            <div class="contact-info">
                <i class="fas fa-phone"></i>
                <span>0332510486</span>
            </div>
            <div class="contact-info">
                <i class="fas fa-envelope"></i>
                <span><a href="mailto:rubywingslsa@gmail.com">rubywingslsa@gmail.com</a></span>
            </div>
        </div>
        <div class="footer-column">
            <h3>Tham gia c·ªông ƒë·ªìng</h3>
            <p>Tham gia nh√≥m c·ªông ƒë·ªìng Ruby Wings Travel ƒë·ªÉ nh·∫≠n nh·ªØng th√¥ng tin m·ªõi nh·∫•t, chia s·∫ª tr·∫£i nghi·ªám v√† lan t·ªèa gi√° tr·ªã du l·ªãch c√≥ tr√°ch nhi·ªám.</p>
            <a href="https://www.facebook.com/groups/4107197836205156/" target="_blank" class="community-btn">
                Tham gia nh√≥m <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
    <div class="copyright">
      
    </div>
</footer>

<style>
/* ƒê·∫£m b·∫£o c√°c bi·ªÉu t∆∞·ª£ng v·ª´a v·ªõi 10 m·ª•c */
@media (max-width: 768px) {
    .social-row {
        gap: 6px;
    }
    
    .social-icon {
        width: 32px;
        height: 32px;
        font-size: 14px;
    }
    
    .zalo-icon {
        width: 18px;
        height: 18px;
    }
}

@media (max-width: 480px) {
    .social-row {
        gap: 4px;
        flex-wrap: wrap;
    }
    
    .social-icon {
        width: 30px;
        height: 30px;
        font-size: 13px;
    }
    
    .zalo-icon {
        width: 16px;
        height: 16px;
    }
}

/* ƒêi·ªÅu ch·ªânh cho m√†n h√¨nh r·∫•t nh·ªè */
@media (max-width: 360px) {
    .social-row {
        gap: 3px;
    }
    
    .social-icon {
        width: 28px;
        height: 28px;
        font-size: 12px;
    }
    
    .zalo-icon {
        width: 14px;
        height: 14px;
    }
}
</style>

<script data-cfasync="false" src="https://cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile menu toggle function
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('navLinks');
            if (mobileNav) {
                mobileNav.classList.toggle('active');
                console.log('Menu toggled'); // Debug log ƒë·ªÉ ki·ªÉm tra trong console
            } else {
                console.error('navLinks element not found'); // Debug n·∫øu kh√¥ng t√¨m th·∫•y
            }
        }

        // Direct event listener for the hamburger button
        const hamburgerBtn = document.getElementById('mobileMenuBtn');
        if (hamburgerBtn) {
            hamburgerBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                toggleMobileMenu();
            });
            // For iOS touch support
            hamburgerBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                toggleMobileMenu();
            });
        }

        // Fallback event delegation
        document.addEventListener('click', function(e) {
            if (e.target.matches('.hamburger, .menu-toggle, .nav-toggle, .mobile-menu-btn, button[onclick*="toggleMobileMenu"], [data-toggle="mobile-menu"], .navbar-toggler')) {
                e.preventDefault();
                e.stopPropagation();
                toggleMobileMenu();
            }
        });

        // N·∫øu c√≥ onclick tr·ª±c ti·∫øp, override ƒë·ªÉ ƒë·∫£m b·∫£o
        const existingToggle = window.toggleMobileMenu;
        window.toggleMobileMenu = function() {
            if (existingToggle) existingToggle();
            toggleMobileMenu();
        };

        // Header scroll behavior
        let lastScrollTop = 0;
        const header = document.querySelector('header');
        const scrollThreshold = 100;

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (header && scrollTop > lastScrollTop && scrollTop > scrollThreshold) {
                header.classList.add('hidden');
            } else if (header) {
                header.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop;
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
                // Close mobile menu if open
                const mobileNav = document.getElementById('navLinks');
                if (mobileNav) {
                    mobileNav.classList.remove('active');
                }
            });
        });
        
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (header && window.scrollY > 100) {
                header.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
            } else if (header) {
                header.style.boxShadow = 'none';
            }
        });

        // Debug: Log khi DOM ready
        console.log('DOM loaded, mobile menu script initialized');
    });
</script>
<script>
// Ruby Wings Chat Widget - Complete Isolation
const BACKEND_URL = "https://ruby-wings-chatbot.onrender.com";

(function() {
    'use strict';
    
    // Ki·ªÉm tra tr√πng l·∫∑p
    if (window.RW_CHAT_LOADED) return;
    window.RW_CHAT_LOADED = true;
    
    // T·∫°o container t√°ch bi·ªát ho√†n to√†n
    const createIsolatedWidget = function() {
        // X√≥a widget c≈© n·∫øu c√≥
        const oldWidgets = document.querySelectorAll('#rw-chat-isolated, .rw-chat-isolated');
        oldWidgets.forEach(w => w.remove());
        
        // T·∫°o container m·ªõi
        const container = document.createElement('div');
        container.id = 'rw-chat-isolated';
        container.className = 'rw-chat-isolated';
        
        // CSS ho√†n to√†n t√°ch bi·ªát
        const styles = `
            .rw-chat-isolated {
                position: fixed !important;
                left: 0 !important;
                bottom: 0 !important;
                width: auto !important;
                height: auto !important;
                z-index: 10000 !important;
                pointer-events: none !important;
                isolation: isolate !important;
                all: initial !important;
                font-family: Arial, sans-serif !important;
            }
            
            .rw-chat-isolated * {
                pointer-events: auto !important;
                box-sizing: border-box !important;
            }
            
            .rw-chat-btn-isolated {
    position: fixed !important;
    left: 15px !important;
    bottom: 15px !important;
    width: 60px !important;
    height: 60px !important;
    border-radius: 50% !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    border: 2px solid white !important; /* <--- ƒë√£ th√™m vi·ªÅn tr·∫Øng */
    color: white !important;
    font-size: 24px !important;
    cursor: pointer !important;
    z-index: 10001 !important;
    box-shadow: 0 4px 20px rgba(0,217,126,0.4) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    overflow: hidden !important;
}
            
            .rw-chat-btn-isolated::after {
                content: "AI" !important;
                position: absolute !important;
                bottom: 5px !important;
                font-size: 11px !important;
                font-weight: bold !important;
                color: white !important;
                left: 0 !important;
                right: 0 !important;
                text-align: center !important;
            }
            
            .rw-chat-widget-isolated {
                position: fixed !important;
                left: 15px !important;
                bottom: 85px !important;
                width: calc(100vw - 30px) !important;
                max-width: 400px !important;
                height: 500px !important;
                background: white !important;
                border-radius: 12px !important;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2) !important;
                z-index: 10002 !important;
                display: none !important;
                flex-direction: column !important;
                overflow: hidden !important;
                border: 1px solid #e2e8f0 !important;
                pointer-events: auto !important;
            }
            
            .rw-chat-widget-isolated.open {
                display: flex !important;
            }
            
            .rw-chat-header-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                padding: 15px !important;
                display: flex !important;
                align-items: center !important;
                gap: 10px !important;
            }
            
            .rw-chat-avatar-isolated {
                width: 32px !important;
                height: 32px !important;
                border-radius: 8px !important;
                background: rgba(255,255,255,0.2) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            .rw-chat-title-isolated {
                font-weight: bold !important;
                font-size: 16px !important;
                flex: 1 !important;
            }
            
            .rw-chat-close-isolated {
                background: none !important;
                border: none !important;
                color: white !important;
                font-size: 18px !important;
                cursor: pointer !important;
                width: 30px !important;
                height: 30px !important;
                border-radius: 50% !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            .rw-chat-body-isolated {
                flex: 1 !important;
                padding: 15px !important;
                overflow-y: auto !important;
                background: #f8fafc !important;
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
            }
            
            .rw-chat-message-isolated {
                max-width: 85% !important;
                padding: 12px 16px !important;
                border-radius: 12px !important;
                font-size: 14px !important;
                line-height: 1.4 !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }
            
            .rw-chat-message-bot-isolated {
                background: white !important;
                color: #1e293b !important;
                border-bottom-left-radius: 4px !important;
                align-self: flex-start !important;
            }
            
            .rw-chat-message-user-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border-bottom-right-radius: 4px !important;
                align-self: flex-end !important;
            }
            
            .rw-chat-input-container-isolated {
                padding: 15px !important;
                background: white !important;
                border-top: 1px solid #e2e8f0 !important;
                display: flex !important;
                gap: 8px !important;
            }
            
            .rw-chat-input-isolated {
                flex: 1 !important;
                padding: 12px !important;
                border: 2px solid #00b368 !important;
                border-radius: 8px !important;
                font-size: 14px !important;
                outline: none !important;
                background: white !important;
                color: #1e293b !important;
            }
            
            .rw-chat-input-isolated:focus {
                border-color: #00d97e !important;
                box-shadow: 0 0 0 3px rgba(0, 217, 126, 0.2) !important;
            }
            
            .rw-chat-send-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border: none !important;
                padding: 12px 16px !important;
                border-radius: 8px !important;
                cursor: pointer !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            @media (min-width: 769px) {
                .rw-chat-btn-isolated {
                    left: 20px !important;
                    bottom: 20px !important;
                    width: 70px !important;
                    height: 70px !important;
                }
                .rw-chat-btn-isolated::after {
                    font-size: 12px !important;
                    bottom: 8px !important;
                }
                .rw-chat-widget-isolated {
                    left: 20px !important;
                    bottom: 100px !important;
                    width: 400px !important;
                }
            }
        `;
        
        // Th√™m styles
        const styleEl = document.createElement('style');
        styleEl.textContent = styles;
        document.head.appendChild(styleEl);
        
        // T·∫°o HTML
        container.innerHTML = `
            <button class="rw-chat-btn-isolated" aria-label="M·ªü chat tr·ª£ l√Ω Ruby Wings AI">ü§ñ</button>
            <div class="rw-chat-widget-isolated">
                <div class="rw-chat-header-isolated">
                    <div class="rw-chat-avatar-isolated">AI</div>
                    <div class="rw-chat-title-isolated">Tr·ª£ l√Ω Ruby Wings AI</div>
                    <button class="rw-chat-close-isolated" aria-label="ƒê√≥ng chat">‚úï</button>
                </div>
                <div class="rw-chat-body-isolated">
                    <div class="rw-chat-message-isolated rw-chat-message-bot-isolated">
                        Ch√†o b·∫°n! T√¥i l√† tr·ª£ l√Ω Ruby Wings AI chuy√™n t∆∞ v·∫•n v·ªÅ du l·ªãch trong ƒë√≥ c√≥ du l·ªãch tr·∫£i nghi·ªám, retreat, ch·ªØa l√†nh... T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?
                        <div style="font-size:11px; color:#94a3b8; margin-top:4px; text-align:right;">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                </div>
                <div class="rw-chat-input-container-isolated">
                    <input type="text" class="rw-chat-input-isolated" placeholder="Ghi c√†ng r√µ t√¥i s·∫Ω tr·∫£ l·ªùi ch√≠nh x√°c...">
                    <button class="rw-chat-send-isolated">G·ª≠i</button>
                </div>
            </div>
        `;
        
        document.body.appendChild(container);
        
        // L·∫•y elements
        const chatBtn = container.querySelector('.rw-chat-btn-isolated');
        const chatWidget = container.querySelector('.rw-chat-widget-isolated');
        const closeBtn = container.querySelector('.rw-chat-close-isolated');
        const sendBtn = container.querySelector('.rw-chat-send-isolated');
        const chatInput = container.querySelector('.rw-chat-input-isolated');
        const chatBody = container.querySelector('.rw-chat-body-isolated');
        
        let isOpen = false;
        
        // Event handlers ƒë∆°n gi·∫£n
        function toggleChat() {
            isOpen = !isOpen;
            chatWidget.classList.toggle('open', isOpen);
            if (isOpen) {
                setTimeout(() => chatInput.focus(), 100);
            }
        }
        
        function closeChat() {
            isOpen = false;
            chatWidget.classList.remove('open');
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Th√™m tin nh·∫Øn user
            addMessage(message, 'user');
            chatInput.value = '';
            
            // Hi·ªÉn th·ªã typing
            const typingMsg = addMessage('...', 'bot', true);
            
            // G·ª≠i ƒë·∫øn backend (FIX: Endpoint ƒë√∫ng /chat kh√¥ng c√≥ /api)
            fetch(BACKEND_URL + '/chat', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                typingMsg.remove();
                const reply = data.reply || data.message || 'Kh√¥ng c√≥ ph·∫£n h·ªìi t·ª´ server.';
                addMessage(reply, 'bot');
            })
            .catch(error => {
                typingMsg.remove();
                addMessage('Xin l·ªói, d·ªãch v·ª• t·∫°m th·ªùi gi√°n ƒëo·∫°n. Vui l√≤ng th·ª≠ l·∫°i.', 'bot');
                console.error('Chat error:', error);
            });
        }
        
        function addMessage(text, sender, isTyping = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `rw-chat-message-isolated rw-chat-message-${sender}-isolated`;
            
            if (isTyping) {
                messageDiv.innerHTML = `
                    <div style="display:flex; gap:4px; align-items:center;">
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.1s"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.2s"></div>
                    </div>
                    <style>
                        @keyframes bounce {
                            0%, 100% { transform: translateY(0); }
                            50% { transform: translateY(-5px); }
                        }
                    </style>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div>${text}</div>
                    <div style="font-size:11px; opacity:0.7; margin-top:4px; text-align:${sender === 'user' ? 'left' : 'right'};">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                `;
            }
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            return messageDiv;
        }
        
        // G·∫Øn event listeners
        chatBtn.addEventListener('click', toggleChat);
        closeBtn.addEventListener('click', closeChat);
        sendBtn.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        // ƒê√≥ng khi click b√™n ngo√†i
        document.addEventListener('click', (e) => {
            if (isOpen && !chatWidget.contains(e.target) && !chatBtn.contains(e.target)) {
                closeChat();
            }
        });
    };
    
    // Kh·ªüi t·∫°o khi trang load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createIsolatedWidget);
    } else {
        createIsolatedWidget();
    }
})();

</script>
<!-- N√öT G·ªåI ƒêI·ªÜN RUBY WINGS - ƒê·∫∑t tr∆∞·ªõc th·∫ª ƒë√≥ng </body> -->
<div id="ruby-call-widget" style="position: fixed; z-index: 10001;">
   <button id="ruby-call-button" style="background: linear-gradient(135deg, #00d97e, #00b368) !important; color: white; border: 2px solid white; border-radius: 50%; cursor: pointer; box-shadow: 0 6px 25px rgba(0, 217, 126, 0.4); display: flex; align-items: center; justify-content: center; transition: all 0.3s; outline: none;">
        üìû
    </button>
</div>

<!-- MODAL NH·∫¨P S·ªê ƒêI·ªÜN THO·∫†I -->
<div id="ruby-call-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10002; align-items: center; justify-content: center;">
    <div style="background: linear-gradient(135deg, #1a5f23 0%, #0d3b1a 100%); border-radius: 16px; padding: 30px; width: 90%; max-width: 420px; box-shadow: 0 15px 40px rgba(0,0,0,0.5); border: 2px solid #27ae60;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
            <h3 style="color: white; margin: 0; font-size: 22px; font-weight: 600; text-shadow: 1px 1px 3px rgba(0,0,0,0.3);">üìû G·ªåI ƒêI·ªÜN T∆Ø V·∫§N</h3>
            <button id="ruby-close-modal" style="background: none; border: none; font-size: 28px; cursor: pointer; color: white; padding: 0; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;">√ó</button>
        </div>
        
        <div style="margin-bottom: 25px;">
            <p style="color: white; margin-bottom: 10px; font-size: 16px; font-weight: 500;">Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n:</p>
            <input type="tel" id="ruby-phone-input" 
                   style="width: 100%; padding: 15px; background: white; color: black; border: 3px solid #27ae60; border-radius: 10px; font-size: 18px; font-weight: 500; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);"
                   placeholder="V√≠ d·ª•: 0332 510 486" 
                   pattern="[0-9]{10,11}">
            <p style="color: #d1e7dd; font-size: 13px; margin-top: 8px; font-weight: 400;">Ch√∫ng t√¥i s·∫Ω g·ªçi l·∫°i cho b·∫°n trong 5 ph√∫t</p>
        </div>
        
        <div style="display: flex; gap: 12px;">
            <button id="ruby-call-regular" 
                    style="flex: 1; background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); transition: all 0.3s; min-height: 55px;">
                <span style="font-size: 20px;">üìû</span>
                <span>G·ªåI NGAY</span>
            </button>
            <button id="ruby-call-zalo" 
                    style="flex: 1; background: linear-gradient(135deg, #0068ff 0%, #0052cc 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(0, 104, 255, 0.4); transition: all 0.3s; min-height: 55px;">
                <span><img src="https://img.icons8.com/color/20/000000/zalo.png" style="width: 20px; height: 20px; filter: brightness(0) invert(1);"></span>
                <span>ZALO</span>
            </button>
        </div>
        
        <p id="ruby-call-message" style="margin-top: 20px; text-align: center; font-size: 14px; min-height: 22px; color: white; font-weight: 500;"></p>
    </div>
</div>

<style>
/* ===== STYLES FOR ALL DEVICES ===== */
#ruby-call-widget {
    position: fixed !important;
    z-index: 10001 !important;
}

#ruby-call-button {
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#ruby-call-button::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s;
    z-index: -1;
}

#ruby-call-button:hover::after {
    opacity: 1;
}

#ruby-close-modal:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    transform: rotate(90deg);
}

#ruby-call-regular:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 217, 126, 0.6) !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    filter: brightness(1.1);
}

#ruby-call-zalo:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 104, 255, 0.6) !important;
    background: linear-gradient(135deg, #0057d9 0%, #0047b3 100%) !important;
}

/* Input focus effects */
#ruby-phone-input:focus {
    outline: none;
    border-color: #2ecc71 !important;
    box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.3) !important;
}

/* Animation cho modal */
@keyframes rubyModalFadeIn {
    from { 
        opacity: 0; 
        transform: translateY(-30px) scale(0.95); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

@keyframes rubyButtonPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

#ruby-call-modal > div {
    animation: rubyModalFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Pulsing effect for call button */
.ruby-pulse {
    animation: rubyButtonPulse 2s infinite;
}

/* ===== DESKTOP STYLES (default) ===== */
@media (min-width: 769px) {
    #ruby-call-widget {
        bottom: 105px;
        left: 24px;
    }
    
    #ruby-call-button {
        width: 70px;
        height: 70px;
        font-size: 30px;
    }
}

/* ===== MOBILE STYLES ===== */
@media (max-width: 768px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 26px;
    }
    
    #ruby-call-modal > div {
        padding: 25px !important;
        margin: 15px;
    }
    
    #ruby-phone-input {
        padding: 14px !important;
        font-size: 16px !important;
    }
    
    #ruby-call-regular,
    #ruby-call-zalo {
        padding: 14px !important;
        font-size: 16px !important;
        min-height: 50px !important;
    }
}

/* ===== EXTRA SMALL DEVICES ===== */
@media (max-width: 480px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 24px;
    }
    
    #ruby-call-modal > div {
        padding: 20px !important;
    }
    
    h3 {
        font-size: 20px !important;
    }
}

/* ===== PRINT STYLES (hide on print) ===== */
@media print {
    #ruby-call-widget,
    #ruby-call-modal {
        display: none !important;
    }
}

/* ===== DARK MODE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
    #ruby-phone-input {
        background: white !important;
        color: black !important;
    }
}
</style>

<script>
// Bi·∫øn to√†n c·ª•c ƒë·ªÉ track tr·∫°ng th√°i
let rubyCallWidgetInitialized = false;
let rubyCallWidgetVisible = true;

// S·ªë ƒëi·ªán tho·∫°i c·ªë ƒë·ªãnh c·ªßa c√¥ng ty
const RUBY_WINGS_PHONE = "0332510486";

// H√†m kh·ªüi t·∫°o widget g·ªçi ƒëi·ªán
function initRubyCallWidget() {
    if (rubyCallWidgetInitialized) return;
    rubyCallWidgetInitialized = true;
    
    // DOM Elements
    const callButton = document.getElementById('ruby-call-button');
    const callModal = document.getElementById('ruby-call-modal');
    const closeButton = document.getElementById('ruby-close-modal');
    const phoneInput = document.getElementById('ruby-phone-input');
    const callRegularButton = document.getElementById('ruby-call-regular');
    const callZaloButton = document.getElementById('ruby-call-zalo');
    const messageElement = document.getElementById('ruby-call-message');
    
    // √Åp d·ª•ng positioning cho widget
    function applyWidgetPosition() {
        const widget = document.getElementById('ruby-call-widget');
        if (window.innerWidth >= 769) {
            // Desktop positioning
            widget.style.bottom = '105px';
            widget.style.left = '24px';
        } else {
            // Mobile positioning
            widget.style.bottom = '85px';
            widget.style.left = '15px';
        }
    }
    
    // Apply initial position
    applyWidgetPosition();
    
    // Th√™m hi·ªáu ·ª©ng pulse cho n√∫t
    callButton.classList.add('ruby-pulse');
    
    // M·ªü modal khi click n√∫t g·ªçi ƒëi·ªán
    callButton.addEventListener('click', () => {
        callModal.style.display = 'flex';
        phoneInput.focus();
        phoneInput.select();
        
        // T·∫°m d·ª´ng hi·ªáu ·ª©ng pulse khi m·ªü modal
        callButton.classList.remove('ruby-pulse');
    });
    
    // ƒê√≥ng modal
    closeButton.addEventListener('click', () => {
        callModal.style.display = 'none';
        messageElement.textContent = '';
        phoneInput.value = '';
        
        // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
        setTimeout(() => {
            callButton.classList.add('ruby-pulse');
        }, 500);
    });
    
    // Click b√™n ngo√†i ƒë·ªÉ ƒë√≥ng modal
    callModal.addEventListener('click', (e) => {
        if (e.target === callModal) {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // ESC key ƒë·ªÉ ƒë√≥ng modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && callModal.style.display === 'flex') {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // H√†m l∆∞u lead v√†o h·ªá th·ªëng
    async function saveRubyLead(phoneNumber, callType) {
        // Validate s·ªë ƒëi·ªán tho·∫°i
        const cleanPhone = phoneNumber.replace(/\D/g, '');
        if (cleanPhone.length < 10 || cleanPhone.length > 11) {
            throw new Error('S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá. Vui l√≤ng nh·∫≠p 10-11 ch·ªØ s·ªë');
        }
        
        // Chu·∫©n b·ªã d·ªØ li·ªáu lead
        const leadData = {
            phone: cleanPhone,
            source_channel: "Website",
            action_type: "Click Call Button",
            page_url: window.location.href,
            contact_name: "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i",
            service_interest: "",
            note: callType === 'zalo' ? 
                  "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i qua Zalo" : 
                  "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i tr·ª±c ti·∫øp"
        };
        
        // G·ª≠i ƒë·∫øn backend API
        const response = await fetch('https://ruby-wings-chatbot.onrender.com/api/save-lead', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(leadData)
        });
        
        if (!response.ok) {
            throw new Error('L·ªói k·∫øt n·ªëi server. Vui l√≤ng th·ª≠ l·∫°i');
        }
        
        return await response.json();
    }
    
    // H√†m x·ª≠ l√Ω g·ªçi ƒëi·ªán
    async function handleCall(callType = 'regular') {
        const phoneNumber = phoneInput.value.trim();
        
        if (!phoneNumber) {
            messageElement.textContent = '‚ö†Ô∏è Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i';
            messageElement.style.color = '#ffcc00';
            phoneInput.focus();
            return;
        }
        
        // Hi·ªÉn th·ªã tr·∫°ng th√°i ƒëang x·ª≠ l√Ω
        const originalRegularText = callRegularButton.innerHTML;
        const originalZaloText = callZaloButton.innerHTML;
        
        if (callType === 'regular') {
            callRegularButton.innerHTML = '<span style="font-size: 20px;">‚è≥</span><span>ƒêANG X·ª¨ L√ù...</span>';
            callRegularButton.disabled = true;
            callRegularButton.style.opacity = '0.8';
        } else {
            callZaloButton.innerHTML = '<span style="font-size: 20px;">‚è≥</span><span>ƒêANG X·ª¨ L√ù...</span>';
            callZaloButton.disabled = true;
            callZaloButton.style.opacity = '0.8';
        }
        
        messageElement.textContent = '‚è≥ ƒêang l∆∞u th√¥ng tin v√† k·∫øt n·ªëi...';
        messageElement.style.color = '#ffcc00';
        
        try {
            // 1. L∆∞u lead v√†o h·ªá th·ªëng
            const result = await saveRubyLead(phoneNumber, callType);
            
            // 2. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
            messageElement.innerHTML = '‚úÖ <strong>TH√ÄNH C√îNG!</strong> ƒê√£ l∆∞u th√¥ng tin';
            messageElement.style.color = '#2ecc71';
            
            // 3. Chuy·ªÉn h∆∞·ªõng ƒë·∫øn cu·ªôc g·ªçi/Zalo C√îNG TY (FIX: G·ªçi ƒë·∫øn s·ªë c√¥ng ty thay v√¨ s·ªë kh√°ch h√†ng)
            setTimeout(() => {
                if (callType === 'zalo') {
                    // M·ªü Zalo C√îNG TY trong tab m·ªõi
                    window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                } else {
                    // G·ªçi ƒëi·ªán ƒë·∫øn S·ªê C√îNG TY
                    window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                }
                
                // ƒê√≥ng modal sau 1.5 gi√¢y
                setTimeout(() => {
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                    
                    // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
                    setTimeout(() => {
                        callButton.classList.add('ruby-pulse');
                    }, 500);
                }, 1500);
            }, 1000);
            
        } catch (error) {
            // X·ª≠ l√Ω l·ªói
            console.error('Ruby Call Widget Error:', error);
            messageElement.innerHTML = `‚ùå <strong>${error.message}</strong>`;
            messageElement.style.color = '#ff6b6b';
            
            // V·∫´n cho ph√©p g·ªçi n·∫øu API fail (fallback - G·ªåI ƒê·∫æN C√îNG TY)
            setTimeout(() => {
                const userConfirmed = confirm('H·ªá th·ªëng ƒëang b·∫≠n. B·∫°n v·∫´n mu·ªën ti·∫øp t·ª•c g·ªçi kh√¥ng?');
                
                if (userConfirmed) {
                    if (callType === 'zalo') {
                        window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                    } else {
                        window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                    }
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                }
            }, 2000);
        } finally {
            // Kh√¥i ph·ª•c tr·∫°ng th√°i n√∫t
            if (callType === 'regular') {
                setTimeout(() => {
                    callRegularButton.innerHTML = originalRegularText;
                    callRegularButton.disabled = false;
                    callRegularButton.style.opacity = '1';
                }, 1000);
            } else {
                setTimeout(() => {
                    callZaloButton.innerHTML = originalZaloText;
                    callZaloButton.disabled = false;
                    callZaloButton.style.opacity = '1';
                }, 1000);
            }
        }
    }
    
    // G·∫Øn s·ª± ki·ªán cho n√∫t g·ªçi th∆∞·ªùng
    callRegularButton.addEventListener('click', () => handleCall('regular'));
    
    // G·∫Øn s·ª± ki·ªán cho n√∫t g·ªçi Zalo
    callZaloButton.addEventListener('click', () => handleCall('zalo'));
    
    // Cho ph√©p nh·∫•n Enter ƒë·ªÉ g·ªçi th∆∞·ªùng
    phoneInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleCall('regular');
        }
    });
    
    // Auto-format s·ªë ƒëi·ªán tho·∫°i
    phoneInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\D/g, '');
        
        if (value.length > 0) {
            if (value.length <= 4) {
                value = value;
            } else if (value.length <= 7) {
                value = `${value.slice(0, 4)} ${value.slice(4)}`;
            } else {
                value = `${value.slice(0, 4)} ${value.slice(4, 7)} ${value.slice(7, 11)}`;
            }
        }
        
        e.target.value = value;
    });
    
    // ƒêi·ªÅu ch·ªânh v·ªã tr√≠ n·∫øu c√≥ chatbot
    function adjustPositionForChatbot() {
        const chatWidget = document.querySelector('#chatWidget, .chat-widget, [id*="chat"], [class*="chat"], .tawk-button, .zalo-chat-widget');
        if (chatWidget) {
            const chatRect = chatWidget.getBoundingClientRect();
            const callWidget = document.getElementById('ruby-call-widget');
            
            // ƒê·∫∑t n√∫t g·ªçi ƒëi·ªán cao h∆°n n√∫t chatbot 80px
            callWidget.style.bottom = `${chatRect.height + 80}px`;
        }
    }
    
    // Re-apply position on resize
    window.addEventListener('resize', () => {
        applyWidgetPosition();
        adjustPositionForChatbot();
    });
    
    // Ki·ªÉm tra v√† ƒëi·ªÅu ch·ªânh m·ªói 1 gi√¢y (ph√≤ng tr∆∞·ªùng h·ª£p chatbot load sau)
    const positionCheckInterval = setInterval(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    // Initial adjustments
    setTimeout(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    console.log('‚úÖ Ruby Call Widget ƒë√£ s·∫µn s√†ng - Phi√™n b·∫£n ho√†n thi·ªán');
}

// Kh·ªüi t·∫°o khi DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initRubyCallWidget);
} else {
    initRubyCallWidget();
}

// ƒê·∫£m b·∫£o widget v·∫´n ho·∫°t ƒë·ªông khi chuy·ªÉn trang trong SPA
document.addEventListener('click', (e) => {
    if (e.target.matches('a[href*="#"]') || e.target.closest('a[href*="#"]')) {
        // Gi·ªØ widget hi·ªÉn th·ªã khi chuy·ªÉn anchor link
        setTimeout(() => {
            if (window.rubyCallWidgetInitialized) {
                const widget = document.getElementById('ruby-call-widget');
                widget.style.display = 'block';
            }
        }, 100);
    }
});

// Ch·ªëng ·∫©n widget khi scroll
let lastScrollTop = 0;
window.addEventListener('scroll', () => {
    const st = window.pageYOffset || document.documentElement.scrollTop;
    
    // Lu√¥n hi·ªÉn th·ªã widget, kh√¥ng ·∫©n khi scroll
    const widget = document.getElementById('ruby-call-widget');
    if (widget) {
        widget.style.display = 'block';
        widget.style.opacity = '1';
    }
    
    lastScrollTop = st <= 0 ? 0 : st;
}, false);
</script>
</body>
</html>