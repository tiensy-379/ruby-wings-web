<!DOCTYPE html>
<html lang="vi">
<head>
<script src="/js/rw-event-id.js" defer></script>

<!-- ================= META CLIENT PARAM BUILDER ================= -->
<script>
window.addEventListener('load', function () {
  var s = document.createElement('script');
  s.src = 'https://capi-automation.s3.us-east-2.amazonaws.com/public/client_js/capiParamBuilder/clientParamBuilder.bundle.js';
  s.onload = function () {
    try {
      if (!window.RW_EVENT_ID && window.crypto && crypto.randomUUID) {
        window.RW_EVENT_ID = crypto.randomUUID();
      }

      if (window.clientParamBuilder) {
        clientParamBuilder.processAndCollectAllParams(
          window.location.href,
          function () { return ''; }
        );
      }
    } catch (e) {
      console.warn('CAPI init failed', e);
    }
  };
  document.body.appendChild(s);
});
</script>

<!-- ================= CONVERSION EVENT ID STORE ================= -->
<script>
window.RW_FINAL_CONV_EVENTS = {};

function getFinalConvEventId(action) {
  const key = 'rw_final_' + action;

  let eid = sessionStorage.getItem(key);
  if (eid) return eid;

  if (window.RW_FINAL_CONV_EVENTS[action]) {
    return window.RW_FINAL_CONV_EVENTS[action];
  }

  eid =
    (window.crypto && crypto.randomUUID)
      ? crypto.randomUUID()
      : 'rw_' + Date.now() + '_' + Math.random().toString(36).slice(2);

  window.RW_FINAL_CONV_EVENTS[action] = eid;
  sessionStorage.setItem(key, eid);

  return eid;
}
</script>

<!-- ================= FETCH HEADER (PAGEVIEW ONLY) ================= -->
<script>
(function () {
  if (!window.fetch || !window.RW_EVENT_ID) return;

  var originalFetch = window.fetch;
  window.fetch = function (url, options) {
    options = options || {};
    options.headers = options.headers || {};
    options.headers['X-RW-EVENT-ID'] = window.RW_EVENT_ID;
    return originalFetch(url, options);
  };
})();
</script>

<!-- ================= GOOGLE TAG MANAGER ================= -->
<script>
(function(w,d,s,l,i){
  w[l]=w[l]||[];
  w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
  var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),
      dl=l!='dataLayer'?'&l='+l:'';
  j.async=true;
  j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
  f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KNFLM3CR');
</script>

<!-- ================= META PIXEL ================= -->
<script>
!function(f,b,e,v,n,t,s){
if(f.fbq)return;
n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];
t=b.createElement(e);t.async=!0;t.src=v;
s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)
}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init','862531473384426',{}, {autoConfig:false});
fbq('set','autoConfig','862531473384426',false);

if (window.RW_EVENT_ID) {
  fbq('track','PageView',{}, { eventID: window.RW_EVENT_ID });
}
</script>

<!-- ================= PIXEL CONVERSIONS ================= -->
<script>
(function () {
  if (!window.fbq) return;

  /* CALL */
  document.addEventListener('click', function (e) {
    var btn = e.target.closest && e.target.closest('#ruby-call-regular');
    if (!btn) return;
    fbq('trackCustom','CallButtonClick',{},{
      eventID: getConvEventId('call')
    });
  });

  /* FORM – LEAD (SUBMIT THẬT) */
  document.addEventListener('submit', function (e) {
    if (!e.target || e.target.tagName !== 'FORM') return;
    var eid = getFinalConvEventId('lead');
    fbq('track','Lead',{}, { eventID: eid });
  });

  fbq('consent','revoke');
  fbq('consent','grant');
})();
</script>

<!-- ================= CONTACT / CHAT CAPI ================= -->
<script>
(function () {
  function sendContact(source, phone, eventId) {
    fetch('https://ruby-wings-chatbot.onrender.com/api/track-contact', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        event_id: eventId,
        phone: phone || '',
        source: source
      })
    });
  }

  /* ZALO – CAPI (1 LẦN / PHIÊN) */
  document.addEventListener('click', function (e) {
    var zalo = e.target.closest && e.target.closest('#rw-zalo-round-btn');
    if (!zalo) return;

    if (sessionStorage.getItem('rw_zalo_capi_sent')) return;
    sessionStorage.setItem('rw_zalo_capi_sent', '1');

    sendContact(
      'Zalo Contact',
      '84332510486',
      getFinalConvEventId('zalo')
    );
  });

  /* CHATBOT – CAPI (1 LẦN / PHIÊN) */
  document.addEventListener('click', function (e) {
    var chat = e.target.closest && e.target.closest('.rw-chat-btn, .rw-chat-btn-isolated');
    if (!chat) return;

    if (sessionStorage.getItem('rw_chat_capi_sent')) return;
    sessionStorage.setItem('rw_chat_capi_sent', '1');

    sendContact(
      'Chatbot Contact',
      '',
      getFinalConvEventId('chat')
    );
  });
})();
</script>

<!-- === HẾT CODE TRACKING === -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="author" content="Ruby Wings">
<meta name="robots" content="index, follow">

<!-- SEO cơ bản (chỉnh cho từng trang) -->
<title>Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành</title>
<meta name="description" content="Tuyên ngôn của Ruby Wings - Hành trình bắt đầu từ trăn trở về không gian tĩnh lặng để phục hồi năng lượng, kết nối với thiên nhiên và tâm hồn. Triết lý du lịch xanh - nhân văn.">
<meta name="keywords" content="tuyên ngôn của Ruby Wings, du lịch chữa lành, hành trình, du lịch xanh nhân văn, triết lý du lịch, Ruby Wings, thiền và du lịch, kết nối thiên nhiên">

<!-- Open Graph (Facebook, Zalo...) -->
<meta property="og:type" content="website">
<meta property="og:site_name" content="Ruby Wings">
<meta property="og:title" content="Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành">
<meta property="og:description" content="Khám phá tuyên ngôn của Ruby Wings - Hành trình du lịch chữa lành kết nối con người với thiên nhiên và tâm hồn">
<meta property="og:url" content="https://rubywings.vn/tuyen-ngon-sang-lap.html">
<meta property="og:image" content="https://rubywings.vn/images/tuyen-ngon-sang-lap.jpg">
<meta property="og:image:alt" content="Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành">
<meta name="twitter:description" content="Khám phá tuyên ngôn của Ruby Wings - Hành trình du lịch chữa lành kết nối con người với thiên nhiên và tâm hồn">
<meta name="twitter:image" content="https://rubywings.vn/images/tuyen-ngon-sang-lap.jpg">
<meta name="twitter:image:alt" content="Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành">
<meta name="twitter:creator" content="@TienSy379">
<script src="facebook-pixel-complete.js"></script>
<!-- Canonical -->
<link rel="canonical" href="https://rubywings.vn/tuyen-ngon-sang-lap.html">

<!-- Favicon -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Schema JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://rubywings.vn/#organization",
      "name": "Ruby Wings Travel",
      "url": "https://rubywings.vn/",
      "logo": "https://rubywings.vn/images/logo.png",
      "description": "Hành trình chữa lành từ bên trong bằng thiền chánh niệm, khí công và kết nối thiên nhiên",
      "telephone": "+84-33-251-0486",
      "email": "rubywingslsa@gmail.com",
      "sameAs": [
        "https://www.facebook.com/profile.php?id=61563772112138",
        "https://www.facebook.com/tien.sy.5011/",
        "https://x.com/TienSy379",
        "https://www.instagram.com/tiensyrubywings",
        "https://www.tiktok.com/@syluong379",
        "https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B9-l%C6%B0%C6%A1ng-9a0292387"
      ],
      "founder": {
        "@type": "Person",
        "name": "Lương Tiến Sỹ",
        "jobTitle": "Founder & CEO",
        "url": "https://www.facebook.com/tien.sy.5011/"
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "148 Trương Gia Mô, Vĩ Dạ",
        "addressLocality": "Thành phố Huế",
        "addressRegion": "Thừa Thiên Huế",
        "postalCode": "530000",
        "addressCountry": "VN"
      }
    },
    {
      "@type": "Article",
      "headline": "Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành",
      "description": "Tuyên ngôn của Ruby Wings - Hành trình du lịch chữa lành kết nối con người với thiên nhiên và tâm hồn",
      "datePublished": "2024-01-01T00:00:00+07:00",
      "dateModified": "2024-01-01T00:00:00+07:00",
      "author": {
        "@type": "Person",
        "name": "Lương Tiến Sỹ",
        "url": "https://www.facebook.com/tien.sy.5011/"
      },
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://rubywings.vn/tuyen-ngon-sang-lap.html"
      },
      "articleSection": "Tuyên ngôn",
      "keywords": "tuyên ngôn sáng lập, Ruby Wings, du lịch chữa lành, hành trình, triết lý du lịch",
      "thumbnailUrl": "https://rubywings.vn/images/tuyen-ngon-sang-lap.jpg",
      "image": {
        "@type": "ImageObject",
        "url": "https://rubywings.vn/images/tuyen-ngon-sang-lap.jpg",
        "width": "1200",
        "height": "630"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://rubywings.vn/tuyen-ngon-sang-lap.html#webpage",
      "url": "https://rubywings.vn/tuyen-ngon-sang-lap.html",
      "name": "Tuyên Ngôn của Ruby Wings - Hành Trình Cảm Xúc & Du Lịch Chữa Lành",
      "description": "Trang tuyên ngôn của Ruby Wings - Hành trình du lịch chữa lành kết nối con người với thiên nhiên và tâm hồn",
      "isPartOf": {
        "@id": "https://rubywings.vn/#website"
      },
      "about": "Tuyên ngôn của, Ruby Wings, du lịch chữa lành, hành trình",
      "datePublished": "2024-01-01",
      "dateModified": "2024-01-01",
      "primaryImageOfPage": "https://rubywings.vn/images/tuyen-ngon-sang-lap.jpg",
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Trang chủ",
            "item": "https://rubywings.vn/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tuyên ngôn của Ruby Wings"
          }
        ]
      }
    },
    {
      "@type": "WebSite",
      "@id": "https://rubywings.vn/#website",
      "url": "https://rubywings.vn/",
      "name": "Ruby Wings Travel",
      "description": "Du lịch trải nghiệm - Hành trình của chiều sâu",
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      }
    }
  ]
}
</script>

  <style>
    :root {
      --color-primary: #2E7D32;
      --color-primary-light: #4CAF50;
      --color-secondary: #e9c46a;
      --color-accent: #FF4081;
      --color-dark: #264653;
      --color-light: #f8f9fa;
      --color-neutral: #f5f5f5;
      --font-heading: 'Playfair Display', serif;
      --font-body: 'Inter', sans-serif;
      --transition: all 0.3s ease;
      --shadow: 0 5px 15px rgba(0,0,0,0.1);
      --shadow-hover: 0 15px 30px rgba(0,0,0,0.15);
    }

    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family: var(--font-body);
      color:#333;
      line-height:1.6;
      background:#fff;
      scroll-behavior:smooth;
      overflow-wrap: break-word;
      word-wrap: break-word;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
    }
    h1,h2,h3 {font-family:var(--font-heading);}
    a {text-decoration:none;color:inherit;}

    /* Header */
    header {
      position:sticky;top:0;left:0;right:0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      z-index:1000;
      transition: var(--transition);
      padding: 10px 0;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 80%, rgba(46, 125, 50, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }
    header.hidden {
      transform: translateY(-100%);
    }
    .header-container {
      max-width:1200px;margin:auto;
      padding:10px 20px;
      display:flex;justify-content:space-between;align-items:center;
      position: relative;
      z-index: 1;
    }
    .logo {display:flex;align-items:center;gap:10px;background: white;border-radius: 15px;padding: 12px;box-shadow: 0 4px 30px rgba(255,255,255,0.2);}
    .logo img {height:70px;transition:var(--transition);filter: brightness(1.2) drop-shadow(0 2px 4px rgba(0,0,0,0.1));}
    .logo-text {display:flex;flex-direction:column;color: #333;}
    .logo-main {font-size:1.8rem;font-weight:700;color:var(--color-accent);text-shadow: none;}
    .logo-sub {font-size:1rem;color:var(--color-primary-light);text-shadow: none; white-space: nowrap;}
    nav {display:flex;gap:25px;}
    nav a {font-weight:600;position:relative;color: var(--color-primary);transition: var(--transition);}
    nav a::after {
      content:"";position:absolute;bottom:-5px;left:0;width:0;height:2px;
      background:var(--color-accent);transition:var(--transition);
    }
    nav a:hover {color: var(--color-accent);}
    nav a:hover::after {width:100%;}

    /* Mobile menu */
    .mobile-menu-btn {display:none;font-size:1.8rem;color:var(--color-primary);background:none;border:none;cursor:pointer;padding:10px;-webkit-tap-highlight-color: transparent;}
    .nav-links {
      display:flex;gap:20px;
    }
    @media(max-width:768px){
      .nav-links {
        position:fixed;top:0;left:-100%;flex-direction:column;
        background:#fff;height:100vh;width:75%;max-width:300px;
        padding:80px 30px 30px;gap:20px;box-shadow:2px 0 15px rgba(0,0,0,0.1);
        transition:var(--transition);
        z-index:999;
        overflow-y: auto;
      }
      .nav-links.active {left:0;}
      .mobile-menu-btn{display:block;position:absolute;right:20px;top:50%;transform:translateY(-50%);}
      .nav-links a {color: #333; font-size: 1.1rem; padding: 8px 0;}
    }

    /* Main Content Styles */
    main {
      padding:40px 20px;
      max-width:1200px;
      margin:auto;
      text-align: justify;
    }
    @media (max-width: 768px) {
      main { padding: 40px 5px; }
    }
    
    .page-intro {
      text-align: center;
      margin-bottom: 50px;
      position: relative;
    }
    
    .page-title {
      font-size: 3rem;
      color: var(--color-primary);
      margin-bottom: 20px;
      position: relative;
      display: inline-block;
      white-space: nowrap;
      background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .page-subtitle {
      font-size: 1.5rem;
      color: var(--color-dark);
      margin-bottom: 30px;
      font-weight: 400;
      line-height: 1.4;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .content-section {
      margin-bottom: 60px;
      padding: 40px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: var(--shadow);
      transition: var(--transition);
      text-align: justify;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    
    .content-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, var(--color-primary), var(--color-accent));
    }
    
    .content-section:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-hover);
    }
    
    .section-title {
      font-size: 2.2rem;
      color: var(--color-primary);
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .section-icon {
      color: var(--color-accent);
      font-size: 1.8rem;
    }
    
    .section-content {
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 20px;
      text-align: justify;
    }
    
    .highlight {
      background: linear-gradient(120deg, rgba(46,125,50,0.1), rgba(255,64,129,0.05));
      padding: 30px;
      border-radius: 15px;
      border-left: 4px solid var(--color-accent);
      margin: 25px 0;
      text-align: justify;
      position: relative;
    }
    
    .highlight::before {
      content: '\f10d';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      top: 10px;
      left: 15px;
      color: var(--color-accent);
      opacity: 0.3;
      font-size: 2rem;
    }
    
    .image-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .image-item {
      border-radius: 15px;
      overflow: hidden;
      position: relative;
      height: 250px;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }
    
    .image-item:hover {
      transform: scale(1.03);
    }
    
    .image-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }
    
    .image-item:hover img {
      transform: scale(1.1);
    }
    
    .pillar-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }
    
    .pillar-item {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      transition: var(--transition);
      border-bottom: 3px solid transparent;
      position: relative;
      overflow: hidden;
    }
    
    .pillar-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, var(--color-primary), var(--color-accent));
    }
    
    .pillar-item:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-hover);
    }
    
    .pillar-icon {
      font-size: 2.5rem;
      color: var(--color-primary);
      margin-bottom: 15px;
    }
    
    .pillar-title {
      font-size: 1.3rem;
      color: var(--color-dark);
      margin-bottom: 10px;
    }
    
    .pillar-description {
      font-size: 1rem;
      line-height: 1.6;
      color: #555;
    }
    
    .definition-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }
    
    .definition-card {
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      border-left: 4px solid var(--color-primary);
      position: relative;
      overflow: hidden;
    }
    
    .definition-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(to right, var(--color-primary), var(--color-accent));
    }
    
    .definition-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-hover);
    }
    
    .definition-title {
      font-size: 1.4rem;
      color: var(--color-primary);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .definition-icon {
      color: var(--color-accent);
    }
    
    .cta-section {
      text-align: center;
      padding: 60px 20px;
      background: linear-gradient(135deg, rgba(46,125,50,0.1), rgba(255,64,129,0.05));
      border-radius: 20px;
      margin: 50px 0;
      position: relative;
      overflow: hidden;
    }
    
    .cta-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
      background-size: cover;
    }
    
    .cta-title {
      font-size: 2.2rem;
      color: var(--color-primary);
      margin-bottom: 20px;
      position: relative;
      z-index: 1;
    }
    
    .cta-button {
      display: inline-block;
      padding: 15px 40px;
      background: linear-gradient(135deg, var(--color-primary), var(--color-primary-light));
      color: #fff;
      border-radius: 50px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 10px 20px rgba(46,125,50,0.3);
      transition: var(--transition);
      font-size: 1rem;
      animation: pulse 2s infinite;
      margin-top: 20px;
      position: relative;
      z-index: 1;
    }
    
    .cta-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 25px rgba(46,125,50,0.4);
      background: linear-gradient(135deg, var(--color-primary-light), var(--color-accent));
    }
    
    @keyframes pulse {
      0%{box-shadow:0 0 0 0 rgba(46,125,50,0.4);}
      70%{box-shadow:0 0 0 15px rgba(46,125,50,0);}
      100%{box-shadow:0 0 0 0 rgba(46,125,50,0);}
    }
    
    .thank-you-section {
      text-align: center;
      padding: 50px 20px;
      margin: 50px 0;
      position: relative;
    }
    
    .thank-you-button {
      display: inline-block;
      padding: 18px 50px;
      background: linear-gradient(135deg, var(--color-accent), #ff1493);
      color: #fff;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1.2rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 10px 20px rgba(255,64,129,0.3);
      transition: var(--transition);
      animation: pulse 2s infinite;
      position: relative;
      overflow: hidden;
    }
    
    .thank-you-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: 0.5s;
    }
    
    .thank-you-button:hover::before {
      left: 100%;
    }
    
    .thank-you-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 25px rgba(255,64,129,0.4);
    }
    
    /* Footer */
    footer {
      background:linear-gradient(135deg,var(--color-dark),var(--color-primary));
      color:#fff;padding:40px 20px 20px;
    }
    .footer-content {
      max-width:1200px;margin:auto;
      display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:30px;margin-bottom:20px;
    }
    .footer-column h3 {
      color:var(--color-secondary);margin-bottom:15px;font-size:1.3rem;
      position:relative;padding-bottom:8px;
    }
    .footer-column h3::after {
      content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:var(--color-secondary);
    }
    .footer-column p {margin-bottom:15px;font-size:0.95rem;}
    .contact-info {display:flex;align-items:center;gap:10px;margin-bottom:8px;}
    .social-links-grid {
      display: flex;
      flex-direction: row;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 15px;
    }
    .social-row {
      display: flex;
      gap: 8px;
      justify-content: center;
    }
    .social-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      color: white !important;
      text-decoration: none;
      transition: all 0.3s ease;
      font-size: 16px;
    }
    .social-icon:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    /* Màu sắc thương hiệu cho từng nền tảng */
    .social-icon.facebook {background-color: #3b5998;}
    .social-icon.facebook-personal {background-color: #1877f2;}
    .social-icon.twitter {background-color: #1da1f2;}
    .social-icon.instagram {background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);}
    .social-icon.tiktok {background-color: #000000;}
    .social-icon.linkedin {background-color: #0077b5;}
    .social-icon.whatsapp {background-color: #25D366;}
    .social-icon.zalo {background-color: #0068FF; padding: 5px;}
    .social-icon.youtube {background-color: #FF0000;}
    .social-icon.messenger {background: linear-gradient(135deg, #0084FF 0%, #00C6FF 100%);}
    .zalo-icon {width: 20px;height: 20px;border-radius: 50%;object-fit: cover;}
    .footer-title-link {color: inherit;text-decoration: none;transition: color 0.3s ease;}
    .footer-title-link:hover {color: #e91e63;}
    .community-btn {display: inline-block;margin-top: 10px;padding: 10px 20px;background-color: #e91e63;color: white;text-decoration: none;border-radius: 4px;font-weight: 600;font-size: 0.9rem;transition: all 0.3s ease;box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
    .community-btn:hover {background-color: #90EE90;color: #333;transform: translateY(-2px);box-shadow: 0 4px 8px rgba(0,0,0,0.2);}
    .copyright {text-align:center;padding-top:15px;border-top:1px solid rgba(255,255,255,0.2);font-size:0.9rem;}

    /* Experience Button Styles */
    .experience-btn {
      display: inline-block;
      padding: 15px 40px;
      background: linear-gradient(135deg, var(--color-primary), var(--color-primary-light));
      color: #fff;
      border-radius: 50px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 10px 20px rgba(46,125,50,0.3);
      transition: var(--transition);
      font-size: 1rem;
      animation: pulse 2s infinite;
      margin: 30px auto;
      text-align: center;
      display: block;
      max-width: 400px;
    }
    
    .experience-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 25px rgba(46,125,50,0.4);
      background: linear-gradient(135deg, var(--color-primary-light), var(--color-accent));
    }

    /* Mobile-specific styles */
    @media (max-width: 768px) {
      .logo {
        background: white;
        padding: 8px 12px;
        margin-left: -10px;
      }
      .logo-text {
        text-align: center;
      }
      .logo-main {
        font-size: 1.4rem;
        margin-bottom: 2px;
      }
      .logo-sub {
        font-size: 0.75rem;
        font-style: italic;
        font-weight: 600;
        line-height: 1.1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .page-title {
        font-size: 2rem;
        white-space: normal;
      }
      .page-subtitle {
        white-space: normal;
        font-size: 1.1rem;
        line-height: 1.3;
        display: -webkit-box;
    
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 90%;
        margin: 0 auto 30px;
      }
      .section-title {
        font-size: 1.6rem;
        line-height: 1.2;
        display: -webkit-box;
    
        -webkit-box-orient: vertical;
        overflow: hidden;
        white-space: normal;
      }
      .content-section {
        padding: 25px 20px;
      }
      .highlight {
        padding: 20px;
      }
      .pillar-grid {
        grid-template-columns: 1fr;
      }
      .definition-cards {
        grid-template-columns: 1fr;
      }
      .quote-text {
        display: -webkit-box;
    
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 0.95rem;
        line-height: 1.35;
      }
      .ecosystem-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .social-links-grid {
        flex-direction: row;
        justify-content: center;
        gap: 5px;
      }
      .social-links-grid .social-row {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 5px;
        justify-content: center;
      }
      .social-links-grid .social-row:first-child {
        margin-bottom: 5px;
      }
      .experience-btn {
        padding: 12px 25px;
        font-size: 0.9rem;
        max-width: 90%;
      }
      .thank-you-button {
        padding: 15px 30px;
        font-size: 1rem;
      }
    }
    @media (max-width: 480px) {
      .social-links-grid {
        gap: 4px;
      }
      .social-icon {
        width: 30px;
        height: 30px;
        font-size: 13px;
      }
      .zalo-icon {
        width: 16px;
        height: 16px;
      }
      .experience-btn {
        padding: 10px 20px;
        font-size: 0.85rem;
      }
      .thank-you-button {
        padding: 12px 25px;
        font-size: 0.9rem;
      }
    }
    @media (max-width: 360px) {
      .social-links-grid {
        gap: 3px;
      }
      .social-icon {
        width: 28px;
        height: 28px;
        font-size: 12px;
      }
      .zalo-icon {
        width: 14px;
        height: 14px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-container">
    <div class="logo">
      <img src="assets/images/ruby-wings-logo.png" alt="Ruby Wings Logo">
      <div class="logo-text">
        <div class="logo-main">RUBY WINGS</div>
        <div class="logo-sub"><em>Travel - Hành trình trải nghiệm</em></div>
      </div>
    </div>
    <button class="mobile-menu-btn" id="mobileMenuBtn"><i class="fas fa-bars"></i></button>
    <nav class="nav-links" id="navLinks">
      <a href="index.html">Trang chủ</a>
      <a href="tuyen-ngon-sang-lap-ruby-wings.html">Về Ruby Wings chúng tôi</a>
      <a href="ve-dep-quang-tri.html">Miền Trung ruột thịt</a>
      <a href="nhung-hanh-trinh-tieu-bieu.html">Hành trình tiêu biểu</a>
      <a href="ve-dep-thien-nhien-viet-nam.html">Non nước- Việt Nam</a>
      <a href="thien-va-suc-khoe.html">Retreat- Chữa lành</a>
    </nav>
  </div>
</header>
<hr style="border:0;height:4px;background:linear-gradient(to right,var(--color-primary),var(--color-accent));margin:0;">

<main>
  <!-- Nút dẫn đến trang Hành trình trải nghiệm -->
  <div style="text-align: center; margin: 30px 0;">
    <a href="nhung-hanh-trinh-tieu-bieu.html" class="experience-btn">
      <i class="fas fa-heart"></i> KHÁM PHÁ HÀNH TRÌNH  
      <i class="fas fa-arrow-right"></i>
    </a>
  </div>

  <!-- Phần Tuyên ngôn sáng lập -->
  <div class="page-intro">
    <h1 class="page-title">Ruby Wings</h1>
    <p class="page-subtitle">Ruby Wings - Hành trình của chiều sâu, nơi bạn không chỉ đến một nơi, mà còn có thể được trở về với chính mình</p>
  </div>

  <div class="content-section">
    <h2 class="section-title">
      <i class="fas fa-seedling section-icon"></i>
      Khởi Nguồn
    </h2>
    <p class="section-content">
      Hành trình này bắt đầu từ những trải nghiệm thực tế: bạn – cũng như chúng tôi – cần những không gian đủ tĩnh để phục hồi năng lượng, đủ sâu để kết nối với thiên nhiên, với tâm... để cân bằng - chữa lành.
    </p>
    <div class="highlight">
      <p>Chúng tôi tin rằng, giữa nhịp sống ngày càng hối hả và đầy áp lực, "Tâm bệnh", ai trong chúng ta rồi cũng sẽ cần một khoảng dừng để thở sâu hơn, sống chậm lại một chút, lắng nghe chính mình phục hồi năng lượng...</p>
    </div>
  </div>

  <div class="content-section">
    <h2 class="section-title">
      <i class="fas fa-compass section-icon"></i>
      Niềm Tin dẫn đường
    </h2>
    <p class="section-content">
      Như vậy, niềm tin dẫn đường là <strong>"Con người hôm nay cần những hành trình có chiều sâu để cân bằng - chữa lành (cả tinh thần đến thể xác)"</strong>. Vì vậy, Ruby Wings chọn bắt đầu một cách nhẹ nhàng nhưng chắc chắn, không phải khởi đầu bằng bảng giá hay khuyến mãi, mà bằng triết lý sống, bằng văn hóa <strong>"Chuẩn mực – Chân thành – Có chiều sâu"</strong> - kim chỉ nam điều hướng mọi hành vi, quyết định và cách tổ chức vận hành...
    </p>
    
    <div class="pillar-grid">
      <div class="pillar-item">
        <i class="fas fa-gem pillar-icon"></i>
        <h3 class="pillar-title">Chuẩn Mực</h3>
        <p class="pillar-description">Tiêu chuẩn cao trong mọi hoạt động, từ thiết kế hành trình đến dịch vụ khách hàng...</p>
      </div>
      <div class="pillar-item">
        <i class="fas fa-heart pillar-icon"></i>
        <h3 class="pillar-title">Chân Thành</h3>
        <p class="pillar-description">Sự chân thành trong từng tương tác, mang đến trải nghiệm chân thật và ý nghĩa...</p>
      </div>
      <div class="pillar-item">
        <i class="fas fa-mountain pillar-icon"></i>
        <h3 class="pillar-title">Chiều Sâu</h3>
        <p class="pillar-description">Hành trình không chỉ là điểm đến mà là sự khám phá bản thân và kết nối thiên nhiên, nội tâm...</p>
      </div>
    </div>
  </div>

  <div class="content-section">
    <h2 class="section-title">
      <i class="fas fa-leaf section-icon"></i>
     Du Lịch Xanh - Nhân Văn - Bền vững
    </h2>
    <p class="section-content">
      Ruby Wings định vị là Du lịch xanh - nhân văn - vận hành bằng chuẩn mực, phát triển bằng cảm xúc, lan tỏa bằng sự chân thành... Chúng tôi chọn sống đúng, làm thật, dù phải đi đường vòng.
    </p>
    
    <div class="definition-cards">
      <div class="definition-card">
        <h3 class="definition-title">
          <i class="fas fa-tree definition-icon"></i>
          Du Lịch Xanh
        </h3>
        <p>Tôn trọng và bảo vệ môi trường, hướng đến  hài hòa với thiên nhiên, đảm bảo sự phát triển bền vững </p>
      </div>
      <div class="definition-card">
        <h3 class="definition-title">
          <i class="fas fa-hands-helping definition-icon"></i>
          Du Lịch Nhân văn
        </h3>
        <p>Đặt con người và giá trị cộng đồng lên hàng đầu, tạo ra những tác động tích cực đến xã hội</p>
      </div>
      <div class="definition-card">
        <h3 class="definition-title">
          <i class="fas fa-cogs definition-icon"></i>
          Vận Hành Chuẩn Mực
        </h3>
        <p>Hệ thống vận hành chuyên nghiệp, minh bạch, uy tín trong mọi khâu tổ chức</p>
      </div>
    </div>
  </div>

  <div class="content-section">
    <h2 class="section-title">
      <i class="fas fa-balance-scale section-icon"></i>
      Lý Tưởng và Thực tế
    </h2>
    <p class="section-content">
      Nhưng "muốn bay xa mà không mất phải giữ gốc; muốn lan tỏa lý tưởng phải tồn tại" ... Để vững bước, Ruby Wings sẽ thực hiện cả những "hành trình trải nghiệm linh hoạt" với mong muốn tạo dựng nguồn lực nuôi dưỡng hành trình...
    </p>
    <div class="highlight">
      <p>Ở đây mỗi chuyến đi ngoài việc tối ưu trong tổ chức (chu đáo, thân thiện, chỉn chu…), Ruby Wings luôn hướng đến trải nghiệm có chiều sâu, không đưa bạn đến đâu đó rồi kết thúc, mà là "mở ra cánh cửa để bạn có thể chạm nhẹ vào điều gì đó bên trong…"</p>
    </div>
  </div>

  <div class="content-section">
    <h2 class="section-title">
      <i class="fas fa-infinity section-icon"></i>
      Ruby Wings - Một cách sống
    </h2>
    <p class="section-content">
      Ruby Wings là một cách sống – góp phần cùng cộng đồng kiến tạo lại cách chúng ta bước đi và cảm nhận thế giới xung quanh.
    </p>
    
    <div class="cta-section">
      <h2 class="cta-title">Sẵn sàng cho hành trình của riêng bạn?</h2>
      <p>Khám phá những trải nghiệm chữa lành và kết nối với thiên nhiên, văn hóa..</p>
      <a href="nhung-hanh-trinh-tieu-bieu.html" class="cta-button">Bắt đầu hành trình</a>
    </div>
  </div>



</main>
<style>
/* === RUBY WINGS CONSULTATION BUTTON - MOBILE GREEN VERSION === */
.rw-consult-btn-container {
    display: block !important;
    margin: 25px 0 !important;
    text-align: center !important;
    width: 100% !important;
}

.rw-consult-btn-main {
    /* Reset mọi style mặc định */
    all: unset !important;
    
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    
    /* Kích thước và khoảng cách */
    padding: 18px 35px !important;
    margin: 10px auto !important;
    
    /* Kiểu dáng */
    border-radius: 50px !important;
    border: 3px solid #2cec2c !important;
    font-weight: 800 !important;
    font-size: 18px !important;
    line-height: 1.3 !important;
    text-align: center !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    
    /* Màu sắc - XANH LÁ CÂY + CHỮ VÀNG */
    background: linear-gradient(135deg, #2cec2c 0%, #22cc22 100%) !important;
    color: #ffd700 !important;
    cursor: pointer !important;
    
    /* Hiệu ứng */
    transition: all 0.4s ease !important;
    position: relative !important;
    overflow: hidden !important;
    box-shadow: 0 6px 20px rgba(44, 236, 44, 0.3) !important;
    
    /* Font chữ rõ ràng */
    font-family: 'Arial', 'Helvetica', sans-serif !important;
}

/* TEXT - CHỮ MÀU VÀNG NỔI BẬT */
.rw-consult-btn-main .rw-btn-text {
    color: #f3f5f8 !important;
    font-weight: 800 !important;
    font-size: 18px !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
    z-index: 2 !important;
    position: relative !important;
}

/* === HIỆU ỨNG HOVER - CHUYỂN MÀU ĐẬM DẦN === */
.rw-consult-btn-main:hover {
    transform: translateY(-4px) scale(1.05) !important;
    box-shadow: 0 12px 30px rgba(44, 236, 44, 0.5) !important;
    background: linear-gradient(135deg, #32ff32 0%, #1a991a 100%) !important;
    border-color: #32ff32 !important;
    color: #ffd700 !important;
}

.rw-consult-btn-main:hover .rw-btn-text {
    color: #ffd700 !important;
}

/* Hiệu ứng ánh sáng trượt */
.rw-consult-btn-main::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent) !important;
    transition: left 0.7s ease !important;
    z-index: 1 !important;
}

.rw-consult-btn-main:hover::before {
    left: 100% !important;
}

/* === MOBILE RESPONSIVE - 1 DÒNG & TỐI ƯU === */
@media (max-width: 768px) {
    .rw-consult-btn-main {
        padding: 16px 25px !important;
        font-size: 16px !important;
        width: 95% !important;
        max-width: 320px !important;
        display: flex !important; /* Đảm bảo 1 dòng */
        flex-wrap: nowrap !important;
        white-space: nowrap !important;
    }
    
    .rw-consult-btn-main .rw-btn-text {
        font-size: 16px !important;
        white-space: nowrap !important;
        /* BỎ MŨI TÊN - chỉ hiển thị text */
    }
    
    /* Ẩn hoàn toàn mũi tên trên mobile */
    .rw-consult-btn-main .rw-btn-arrow {
        display: none !important;
    }
    
    /* Màu mobile - xanh lá nhạt */
    .rw-consult-btn-main {
        background: linear-gradient(135deg, #2bdc2b 0%, #1a9f1a 100%) !important;
        border-color: #2cec2c !important;
    }
}

@media (max-width: 480px) {
    .rw-consult-btn-main {
        padding: 14px 20px !important;
        font-size: 15px !important;
        margin: 8px auto !important;
    }
    
    .rw-consult-btn-main .rw-btn-text {
        font-size: 15px !important;
        letter-spacing: 0.5px !important;
    }
}

/* Desktop - vẫn giữ mũi tên */
@media (min-width: 769px) {
    .rw-consult-btn-main .rw-btn-arrow {
        margin-left: 12px !important;
        transition: transform 0.3s ease !important;
        font-weight: bold !important;
        font-size: 18px !important;
        color: #fff3af !important;
        z-index: 2 !important;
        position: relative !important;
    }
    
    .rw-consult-btn-main:hover .rw-btn-arrow {
        transform: translateX(4px) !important;
    }
}

/* Đảm bảo không bị ảnh hưởng bởi CSS khác */
.rw-consult-btn-container * {
    box-sizing: border-box !important;
}
</style>

<!-- === HTML CHÈN VÀO TRANG === -->
<div class="rw-consult-btn-container">
    <a href="https://forms.gle/XCWf6zgFRp4Vhbw39" 
       class="rw-consult-btn-main" 
       target="_blank"
       rel="noopener noreferrer"
       onclick="trackConsultationClick()">
        <span class="rw-btn-text">NƠI NHẬN THÔNG TIN TƯ VẤN</span>
        <span class="rw-btn-arrow">→</span>
    </a>
</div>

<script>
// === JAVASCRIPT HOÀN CHỈNH VỚI FACEBOOK PIXEL ===
function trackConsultationClick() {
    // === FACEBOOK PIXEL TRACKING - QUAN TRỌNG ===
    if (typeof fbq !== 'undefined') {
        fbq('track', 'Lead', {
            content_name: 'Đăng ký tư vấn chung - ' + document.title,
            content_category: 'General Consultation',
            page_url: window.location.href,
            button_type: 'General CTA'
        });
        console.log('Facebook Pixel: Tracked consultation click');
    } else {
        console.warn('Facebook Pixel not loaded yet');
    }
    
    // === GOOGLE ANALYTICS TRACKING (GIỮ NGUYÊN) ===
    if (typeof gtag !== 'undefined') {
        gtag('event', 'consultation_click', {
            'event_category': 'engagement',
            'event_label': 'Google Forms Consultation Button'
        });
    }
    
    console.log('Consultation button clicked - Opening: https://forms.gle/XCWf6zgFRp4Vhbw39');
    
    // === ĐẢM BẢO MỞ FORM SAU KHI TRACKING ===
    setTimeout(function() {
        window.open('https://forms.gle/XCWf6zgFRp4Vhbw39', '_blank');
    }, 100);
}

// === HIỆU ỨNG VÀ XỬ LÝ BUTTON ===
document.addEventListener('DOMContentLoaded', function() {
    const btn = document.querySelector('.rw-consult-btn-main');
    if (btn) {
        console.log('Ruby Wings Consultation Button loaded successfully');
        
        // Thêm hiệu ứng click
        btn.addEventListener('mousedown', function() {
            this.style.transform = 'translateY(-2px) scale(1.02)';
        });
        
        btn.addEventListener('mouseup', function() {
            this.style.transform = 'translateY(-4px) scale(1.05)';
        });
        
        // Xử lý sự kiện click để đảm bảo tracking
        btn.addEventListener('click', function(e) {
            // Ngăn mở link ngay lập tức
            e.preventDefault();
            // Gọi hàm tracking
            trackConsultationClick();
        });
        
        // Kiểm tra mobile
        if (window.innerWidth <= 768) {
            console.log('Mobile mode: Green background, no arrow, single line');
        }
    }
});

// === BACKUP TRACKING - NẾU PIXEL CHƯA LOAD ===
function ensurePixelTracking() {
    if (typeof fbq === 'undefined') {
        console.log('Waiting for Facebook Pixel to load...');
        setTimeout(ensurePixelTracking, 500);
    }
}

// Khởi động backup tracking
ensurePixelTracking();
</script>
<!-- Footer -->
<footer id="contact">
    <div class="footer-content">
        <div class="footer-column">
            <h3><a href="tuyen-ngon-sang-lap-ruby-wings.html" class="footer-title-link">Về chúng tôi</a></h3>
            <p>Ruby Wings Travel - "Hành trình của chiều sâu, nơi bạn không chỉ đến một nơi, mà còn có thể được trở về với chính mình".</p>
            <p> MST: 3301743759</p>
            <div class="social-links-grid">
                <a href="https://www.facebook.com/profile.php?id=61563772112138" target="_blank" class="social-icon facebook" title="Facebook Fanpage">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.facebook.com/tien.sy.5011/" target="_blank" class="social-icon facebook-personal" title="Facebook Cá nhân">
                    <i class="fas fa-user"></i>
                </a>
                <a href="https://x.com/TienSy379/status/1971778015232421915?t=UsXdMD8FrwjF3OO3ZnoUGg&s=19" target="_blank" class="social-icon twitter" title="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.instagram.com/tiensyrubywings?igsh=MWV3czBwMmYwYnIydA==" target="_blank" class="social-icon instagram" title="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.tiktok.com/@syluong379?_t=ZS-904eIdTTG12&_r=1" target="_blank" class="social-icon tiktok" title="TikTok">
                    <i class="fab fa-tiktok"></i>
                </a>
                <a href="https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B9-l%C6%B0%C6%A1ng-9a0292387?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="social-icon linkedin" title="LinkedIn">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <a href="https://wa.me/84332510486" target="_blank" class="social-icon whatsapp" title="WhatsApp">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://zalo.me/84332510486" target="_blank" class="social-icon zalo" title="Zalo Nhắn tin">
                    <img src="images/zalo.jpg" alt="Zalo" class="zalo-icon">
                </a>
                <a href="https://www.youtube.com/@rubywing-slsa" target="_blank" class="social-icon youtube" title="YouTube">
                    <i class="fab fa-youtube"></i>
                </a>
                <a href="https://m.me/tien.sy.5011?hash=AbY3ty4r4j7255Yb&source=qr_link_share" target="_blank" class="social-icon messenger" title="Messenger">
                    <i class="fab fa-facebook-messenger"></i>
                </a>
            </div>
        </div>
        <div class="footer-column">
            <h3>Liên Hệ</h3>
            <div class="contact-info">
                <i class="fas fa-map-marker-alt"></i>
                <span>148 Trương Gia Mô, Vỹ Dạ TP. Huế</span>
            </div>
            <div class="contact-info">
                <i class="fas fa-phone"></i>
                <span>0332510486</span>
            </div>
            <div class="contact-info">
                <i class="fab fa-whatsapp"></i>
                <span>0332510486 (WhatsApp/Zalo)</span>
            </div>
            <div class="contact-info">
                <i class="fas fa-envelope"></i>
                <span><a href="mailto:rubywingslsa@gmail.com">rubywingslsa@gmail.com</a></span>
            </div>
        </div>
        <div class="footer-column">
            <h3>Tham gia cộng đồng</h3>
            <p>Tham gia nhóm cộng đồng Ruby Wings Travel để nhận những thông tin mới nhất, chia sẻ trải nghiệm và lan tỏa giá trị du lịch có trách nhiệm.</p>
            <a href="https://www.facebook.com/groups/4107197836205156/" target="_blank" class="community-btn">
                Tham gia nhóm <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
    <div class="copyright">
        
    </div>
</footer>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mobile menu toggle function
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('navLinks');
            if (mobileNav) {
                mobileNav.classList.toggle('active');
                console.log('Menu toggled'); // Debug log để kiểm tra trong console
            } else {
                console.error('navLinks element not found'); // Debug nếu không tìm thấy
            }
        }

        // Direct event listener for the hamburger button
        const hamburgerBtn = document.getElementById('mobileMenuBtn');
        if (hamburgerBtn) {
            hamburgerBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                toggleMobileMenu();
            });
            // For iOS touch support
            hamburgerBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                toggleMobileMenu();
            });
        }

        // Fallback event delegation
        document.addEventListener('click', function(e) {
            if (e.target.matches('.hamburger, .menu-toggle, .nav-toggle, .mobile-menu-btn, button[onclick*="toggleMobileMenu"], [data-toggle="mobile-menu"], .navbar-toggler')) {
                e.preventDefault();
                e.stopPropagation();
                toggleMobileMenu();
            }
        });

        // Nếu có onclick trực tiếp, override để đảm bảo
        const existingToggle = window.toggleMobileMenu;
        window.toggleMobileMenu = function() {
            if (existingToggle) existingToggle();
            toggleMobileMenu();
        };

        // Header scroll behavior
        let lastScrollTop = 0;
        const header = document.querySelector('header');
        const scrollThreshold = 100;

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (header && scrollTop > lastScrollTop && scrollTop > scrollThreshold) {
                header.classList.add('hidden');
            } else if (header) {
                header.classList.remove('hidden');
            }
            
            lastScrollTop = scrollTop;
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
                // Close mobile menu if open
                const mobileNav = document.getElementById('navLinks');
                if (mobileNav) {
                    mobileNav.classList.remove('active');
                }
            });
        });
        
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (header && window.scrollY > 100) {
                header.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
            } else if (header) {
                header.style.boxShadow = 'none';
            }
        });

        // Debug: Log khi DOM ready
        console.log('DOM loaded, mobile menu script initialized');
    });

/* =========================================================
   CONSULT BUTTON (GÓC PHẢI)
========================================================= */
const btn = document.createElement('div');
btn.innerHTML = `
 <a href="https://forms.gle/XCWf6zgFRp4Vhbw39"
   target="_blank"
   id="rw-consult-btn"
   style="
     position:fixed;
     right:20px;
     bottom:20px;
     z-index:9999;
     padding:12px 18px;
     background:linear-gradient(135deg,#16a34a,#22c55e);
     color:#ffffff;
     font-weight:700;
     font-size:14px;
     border-radius:30px;
     text-decoration:none;
     box-shadow:0 6px 16px rgba(0,0,0,.25);
   ">
   Form tư vấn
</a>
`;
document.body.appendChild(btn);

/* ===== META PIXEL: CONTACT (TRÌNH DUYỆT) ===== */
const contactBtn = document.getElementById('rw-consult-btn');
if (contactBtn && typeof fbq === 'function') {
  contactBtn.addEventListener('click', function () {
    fbq('track', 'Contact');
  });
}
</script>


<script>
// Ruby Wings Chat Widget - Complete Isolation
const BACKEND_URL = "https://ruby-wings-chatbot.onrender.com";

(function() {
    'use strict';
    
    // Kiểm tra trùng lặp
    if (window.RW_CHAT_LOADED) return;
    window.RW_CHAT_LOADED = true;
    
    // Tạo container tách biệt hoàn toàn
    const createIsolatedWidget = function() {
        // Xóa widget cũ nếu có
        const oldWidgets = document.querySelectorAll('#rw-chat-isolated, .rw-chat-isolated');
        oldWidgets.forEach(w => w.remove());
        
        // Tạo container mới
        const container = document.createElement('div');
        container.id = 'rw-chat-isolated';
        container.className = 'rw-chat-isolated';
        
        // CSS hoàn toàn tách biệt
        const styles = `
            .rw-chat-isolated {
                position: fixed !important;
                left: 0 !important;
                bottom: 0 !important;
                width: auto !important;
                height: auto !important;
                z-index: 10000 !important;
                pointer-events: none !important;
                isolation: isolate !important;
                all: initial !important;
                font-family: Arial, sans-serif !important;
            }
            
            .rw-chat-isolated * {
                pointer-events: auto !important;
                box-sizing: border-box !important;
            }
            
            .rw-chat-btn-isolated {
    position: fixed !important;
    left: 15px !important;
    bottom: 15px !important;
    width: 60px !important;
    height: 60px !important;
    border-radius: 50% !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    border: 2px solid white !important; /* <--- đã thêm viền trắng */
    color: white !important;
    font-size: 24px !important;
    cursor: pointer !important;
    z-index: 10001 !important;
    box-shadow: 0 4px 20px rgba(0,217,126,0.4) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    overflow: hidden !important;
}
            
            .rw-chat-btn-isolated::after {
                content: "AI" !important;
                position: absolute !important;
                bottom: 5px !important;
                font-size: 11px !important;
                font-weight: bold !important;
                color: white !important;
                left: 0 !important;
                right: 0 !important;
                text-align: center !important;
            }
            
            .rw-chat-widget-isolated {
                position: fixed !important;
                left: 15px !important;
                bottom: 85px !important;
                width: calc(100vw - 30px) !important;
                max-width: 400px !important;
                height: 500px !important;
                background: white !important;
                border-radius: 12px !important;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2) !important;
                z-index: 10002 !important;
                display: none !important;
                flex-direction: column !important;
                overflow: hidden !important;
                border: 1px solid #e2e8f0 !important;
                pointer-events: auto !important;
            }
            
            .rw-chat-widget-isolated.open {
                display: flex !important;
            }
            
            .rw-chat-header-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                padding: 15px !important;
                display: flex !important;
                align-items: center !important;
                gap: 10px !important;
            }
            
            .rw-chat-avatar-isolated {
                width: 32px !important;
                height: 32px !important;
                border-radius: 8px !important;
                background: rgba(255,255,255,0.2) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            .rw-chat-title-isolated {
                font-weight: bold !important;
                font-size: 16px !important;
                flex: 1 !important;
            }
            
            .rw-chat-close-isolated {
                background: none !important;
                border: none !important;
                color: white !important;
                font-size: 18px !important;
                cursor: pointer !important;
                width: 30px !important;
                height: 30px !important;
                border-radius: 50% !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            .rw-chat-body-isolated {
                flex: 1 !important;
                padding: 15px !important;
                overflow-y: auto !important;
                background: #f8fafc !important;
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
            }
            
            .rw-chat-message-isolated {
                max-width: 85% !important;
                padding: 12px 16px !important;
                border-radius: 12px !important;
                font-size: 14px !important;
                line-height: 1.4 !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }
            
            .rw-chat-message-bot-isolated {
                background: white !important;
                color: #1e293b !important;
                border-bottom-left-radius: 4px !important;
                align-self: flex-start !important;
            }
            
            .rw-chat-message-user-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border-bottom-right-radius: 4px !important;
                align-self: flex-end !important;
            }
            
            .rw-chat-input-container-isolated {
                padding: 15px !important;
                background: white !important;
                border-top: 1px solid #e2e8f0 !important;
                display: flex !important;
                gap: 8px !important;
            }
            
            .rw-chat-input-isolated {
                flex: 1 !important;
                padding: 12px !important;
                border: 2px solid #00b368 !important;
                border-radius: 8px !important;
                font-size: 14px !important;
                outline: none !important;
                background: white !important;
                color: #1e293b !important;
            }
            
            .rw-chat-input-isolated:focus {
                border-color: #00d97e !important;
                box-shadow: 0 0 0 3px rgba(0, 217, 126, 0.2) !important;
            }
            
            .rw-chat-send-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border: none !important;
                padding: 12px 16px !important;
                border-radius: 8px !important;
                cursor: pointer !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            @media (min-width: 769px) {
                .rw-chat-btn-isolated {
                    left: 20px !important;
                    bottom: 20px !important;
                    width: 70px !important;
                    height: 70px !important;
                }
                .rw-chat-btn-isolated::after {
                    font-size: 12px !important;
                    bottom: 8px !important;
                }
                .rw-chat-widget-isolated {
                    left: 20px !important;
                    bottom: 100px !important;
                    width: 400px !important;
                }
            }
        `;
        
        // Thêm styles
        const styleEl = document.createElement('style');
        styleEl.textContent = styles;
        document.head.appendChild(styleEl);
        
        // Tạo HTML
        container.innerHTML = `
            <button class="rw-chat-btn-isolated" aria-label="Mở chat trợ lý Ruby Wings AI">🤖</button>
            <div class="rw-chat-widget-isolated">
                <div class="rw-chat-header-isolated">
                    <div class="rw-chat-avatar-isolated">AI</div>
                    <div class="rw-chat-title-isolated">Trợ lý Ruby Wings AI</div>
                    <button class="rw-chat-close-isolated" aria-label="Đóng chat">✕</button>
                </div>
                <div class="rw-chat-body-isolated">
                    <div class="rw-chat-message-isolated rw-chat-message-bot-isolated">
                        Chào bạn! Tôi là trợ lý Ruby Wings AI chuyên tư vấn về du lịch ... Tôi có thể giúp gì cho bạn?
                        <div style="font-size:11px; color:#94a3b8; margin-top:4px; text-align:right;">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                </div>
                <div class="rw-chat-input-container-isolated">
                    <input type="text" class="rw-chat-input-isolated" placeholder="Chatbot vẫn đang nâng cấp...">
                    <button class="rw-chat-send-isolated">Gửi</button>
                </div>
            </div>
        `;
        
        document.body.appendChild(container);
        
        // Lấy elements
        const chatBtn = container.querySelector('.rw-chat-btn-isolated');
        const chatWidget = container.querySelector('.rw-chat-widget-isolated');
        const closeBtn = container.querySelector('.rw-chat-close-isolated');
        const sendBtn = container.querySelector('.rw-chat-send-isolated');
        const chatInput = container.querySelector('.rw-chat-input-isolated');
        const chatBody = container.querySelector('.rw-chat-body-isolated');
        
        let isOpen = false;
        
        // Event handlers đơn giản
        function toggleChat() {
            isOpen = !isOpen;
            chatWidget.classList.toggle('open', isOpen);
            if (isOpen) {
                setTimeout(() => chatInput.focus(), 100);
            }
        }
        
        function closeChat() {
            isOpen = false;
            chatWidget.classList.remove('open');
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Thêm tin nhắn user
            addMessage(message, 'user');
            chatInput.value = '';
            
            // Hiển thị typing
            const typingMsg = addMessage('...', 'bot', true);
            
            // Gửi đến backend (FIX: Endpoint đúng /chat không có /api)
            fetch(BACKEND_URL + '/chat', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                typingMsg.remove();
                const reply = data.reply || data.message || 'Không có phản hồi từ server.';
                addMessage(reply, 'bot');
            })
            .catch(error => {
                typingMsg.remove();
                addMessage('Xin lỗi, dịch vụ tạm thời gián đoạn. Vui lòng thử lại.', 'bot');
                console.error('Chat error:', error);
            });
        }
        
        function addMessage(text, sender, isTyping = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `rw-chat-message-isolated rw-chat-message-${sender}-isolated`;
            
            if (isTyping) {
                messageDiv.innerHTML = `
                    <div style="display:flex; gap:4px; align-items:center;">
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.1s"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.2s"></div>
                    </div>
                    <style>
                        @keyframes bounce {
                            0%, 100% { transform: translateY(0); }
                            50% { transform: translateY(-5px); }
                        }
                    </style>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div>${text}</div>
                    <div style="font-size:11px; opacity:0.7; margin-top:4px; text-align:${sender === 'user' ? 'left' : 'right'};">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                `;
            }
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            return messageDiv;
        }
        
        // Gắn event listeners
        chatBtn.addEventListener('click', toggleChat);
        closeBtn.addEventListener('click', closeChat);
        sendBtn.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        // Đóng khi click bên ngoài
        document.addEventListener('click', (e) => {
            if (isOpen && !chatWidget.contains(e.target) && !chatBtn.contains(e.target)) {
                closeChat();
            }
        });
    };
    
    // Khởi tạo khi trang load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createIsolatedWidget);
    } else {
        createIsolatedWidget();
    }
})();

</script>
<!-- NÚT GỌI ĐIỆN RUBY WINGS - Đặt trước thẻ đóng </body> -->
<div id="ruby-call-widget" style="position: fixed; z-index: 10001;">
   <button id="ruby-call-button" style="background: linear-gradient(135deg, #00d97e, #00b368) !important; color: white; border: 2px solid white; border-radius: 50%; cursor: pointer; box-shadow: 0 6px 25px rgba(0, 217, 126, 0.4); display: flex; align-items: center; justify-content: center; transition: all 0.3s; outline: none;">
        📞
    </button>
</div>

<!-- MODAL NHẬP SỐ ĐIỆN THOẠI -->
<div id="ruby-call-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10002; align-items: center; justify-content: center;">
    <div style="background: linear-gradient(135deg, #1a5f23 0%, #0d3b1a 100%); border-radius: 16px; padding: 30px; width: 90%; max-width: 420px; box-shadow: 0 15px 40px rgba(0,0,0,0.5); border: 2px solid #27ae60;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
            <h3 style="color: white; margin: 0; font-size: 22px; font-weight: 600; text-shadow: 1px 1px 3px rgba(0,0,0,0.3);">📞 GỌI CHO CHÚNG TÔI</h3>
            <button id="ruby-close-modal" style="background: none; border: none; font-size: 28px; cursor: pointer; color: white; padding: 0; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;">×</button>
        </div>
        
        <div style="margin-bottom: 25px;">
            <p style="color: white; margin-bottom: 10px; font-size: 16px; font-weight: 500;">Nhập số của Bạn để gọi chúng tôi:</p>
            <input type="tel" id="ruby-phone-input" 
                   style="width: 100%; padding: 15px; background: white; color: black; border: 3px solid #27ae60; border-radius: 10px; font-size: 18px; font-weight: 500; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);"
                   placeholder="Ví dụ: 0332 510 486" 
                   pattern="[0-9]{10,11}">
            <p style="color: #d1e7dd; font-size: 13px; margin-top: 8px; font-weight: 400;">Chúng tôi sẽ gọi lại cho bạn trong sớm nhất có thể</p>
        </div>
        
        <div style="display: flex; gap: 12px;">
            <button id="ruby-call-regular" 
                    style="flex: 1; background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); transition: all 0.3s; min-height: 55px;">
                <span style="font-size: 20px;">📞</span>
                <span>GỌI SỐ</span>
            </button>
            <button id="ruby-call-zalo" 
                    style="flex: 1; background: linear-gradient(135deg, #0068ff 0%, #0052cc 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(0, 104, 255, 0.4); transition: all 0.3s; min-height: 55px;">
                <span><img src="https://img.icons8.com/color/20/000000/zalo.png" style="width: 20px; height: 20px; filter: brightness(0) invert(1);"></span>
                <span>GỌI ZALO</span>
            </button>
        </div>
        
        <p id="ruby-call-message" style="margin-top: 20px; text-align: center; font-size: 14px; min-height: 22px; color: white; font-weight: 500;"></p>
    </div>
</div>

<style>
/* ===== STYLES FOR ALL DEVICES ===== */
#ruby-call-widget {
    position: fixed !important;
    z-index: 10001 !important;
}

#ruby-call-button {
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#ruby-call-button::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s;
    z-index: -1;
}

#ruby-call-button:hover::after {
    opacity: 1;
}

#ruby-close-modal:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    transform: rotate(90deg);
}

/* DÒNG CODE THAY THẾ */
#ruby-call-regular:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 217, 126, 0.6) !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    filter: brightness(1.1);
}

#ruby-call-zalo:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 104, 255, 0.6) !important;
    background: linear-gradient(135deg, #0057d9 0%, #0047b3 100%) !important;
}

/* Input focus effects */
#ruby-phone-input:focus {
    outline: none;
    border-color: #2ecc71 !important;
    box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.3) !important;
}

/* Animation cho modal */
@keyframes rubyModalFadeIn {
    from { 
        opacity: 0; 
        transform: translateY(-30px) scale(0.95); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

@keyframes rubyButtonPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

#ruby-call-modal > div {
    animation: rubyModalFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Pulsing effect for call button */
.ruby-pulse {
    animation: rubyButtonPulse 2s infinite;
}

/* ===== DESKTOP STYLES (default) ===== */
@media (min-width: 769px) {
    #ruby-call-widget {
        bottom: 105px;
        left: 24px;
    }
    
    #ruby-call-button {
        width: 70px;
        height: 70px;
        font-size: 30px;
    }
}

/* ===== MOBILE STYLES ===== */
@media (max-width: 768px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 26px;
    }
    
    #ruby-call-modal > div {
        padding: 25px !important;
        margin: 15px;
    }
    
    #ruby-phone-input {
        padding: 14px !important;
        font-size: 16px !important;
    }
    
    #ruby-call-regular,
    #ruby-call-zalo {
        padding: 14px !important;
        font-size: 16px !important;
        min-height: 50px !important;
    }
}

/* ===== EXTRA SMALL DEVICES ===== */
@media (max-width: 480px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 24px;
    }
    
    #ruby-call-modal > div {
        padding: 20px !important;
    }
    
    h3 {
        font-size: 20px !important;
    }
}

/* ===== PRINT STYLES (hide on print) ===== */
@media print {
    #ruby-call-widget,
    #ruby-call-modal {
        display: none !important;
    }
}

/* ===== DARK MODE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
    #ruby-phone-input {
        background: white !important;
        color: black !important;
    }
}
</style>

<script>
// Biến toàn cục để track trạng thái
let rubyCallWidgetInitialized = false;
let rubyCallWidgetVisible = true;

// Số điện thoại cố định của công ty
const RUBY_WINGS_PHONE = "0332510486";

// Hàm khởi tạo widget gọi điện
function initRubyCallWidget() {
    if (rubyCallWidgetInitialized) return;
    rubyCallWidgetInitialized = true;
    
    // DOM Elements
    const callButton = document.getElementById('ruby-call-button');
    const callModal = document.getElementById('ruby-call-modal');
    const closeButton = document.getElementById('ruby-close-modal');
    const phoneInput = document.getElementById('ruby-phone-input');
    const callRegularButton = document.getElementById('ruby-call-regular');
    const callZaloButton = document.getElementById('ruby-call-zalo');
    const messageElement = document.getElementById('ruby-call-message');
    
    // Áp dụng positioning cho widget
    function applyWidgetPosition() {
        const widget = document.getElementById('ruby-call-widget');
        if (window.innerWidth >= 769) {
            // Desktop positioning
            widget.style.bottom = '105px';
            widget.style.left = '24px';
        } else {
            // Mobile positioning
            widget.style.bottom = '85px';
            widget.style.left = '15px';
        }
    }
    
    // Apply initial position
    applyWidgetPosition();
    
    // Thêm hiệu ứng pulse cho nút
    callButton.classList.add('ruby-pulse');
    
    // Mở modal khi click nút gọi điện
    callButton.addEventListener('click', () => {
        callModal.style.display = 'flex';
        phoneInput.focus();
        phoneInput.select();
        
        // Tạm dừng hiệu ứng pulse khi mở modal
        callButton.classList.remove('ruby-pulse');
    });
    
    // Đóng modal
    closeButton.addEventListener('click', () => {
        callModal.style.display = 'none';
        messageElement.textContent = '';
        phoneInput.value = '';
        
        // Khôi phục hiệu ứng pulse
        setTimeout(() => {
            callButton.classList.add('ruby-pulse');
        }, 500);
    });
    
    // Click bên ngoài để đóng modal
    callModal.addEventListener('click', (e) => {
        if (e.target === callModal) {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            // Khôi phục hiệu ứng pulse
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // ESC key để đóng modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && callModal.style.display === 'flex') {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // Hàm lưu lead vào hệ thống
    async function saveRubyLead(phoneNumber, callType) {
        // Validate số điện thoại
        const cleanPhone = phoneNumber.replace(/\D/g, '');
        if (cleanPhone.length < 10 || cleanPhone.length > 11) {
            throw new Error('Số điện thoại không hợp lệ. Vui lòng nhập 10-11 chữ số');
        }
        
        // Chuẩn bị dữ liệu lead
        const leadData = {
            phone: cleanPhone,
            source_channel: "Website",
            action_type: "Click Call Button",
            page_url: window.location.href,
            contact_name: "Khách yêu cầu gọi lại",
            service_interest: "",
            note: callType === 'zalo' ? 
                  "Khách yêu cầu gọi lại qua Zalo" : 
                  "Khách yêu cầu gọi lại trực tiếp"
        };
        
        // Gửi đến backend API
        const response = await fetch('https://ruby-wings-chatbot.onrender.com/api/save-lead', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(leadData)
        });
        
        if (!response.ok) {
            throw new Error('Lỗi kết nối server. Vui lòng thử lại');
        }
        
        return await response.json();
    }
    
    // Hàm xử lý gọi điện
    async function handleCall(callType = 'regular') {
        const eventId = crypto.randomUUID();
        const phoneNumber = phoneInput.value.trim();
        
        if (!phoneNumber) {
            messageElement.textContent = '⚠️ Vui lòng nhập số điện thoại';
            messageElement.style.color = '#ffcc00';
            phoneInput.focus();
            return;
        }
        
        // Hiển thị trạng thái đang xử lý
        const originalRegularText = callRegularButton.innerHTML;
        const originalZaloText = callZaloButton.innerHTML;
        
        if (callType === 'regular') {
            callRegularButton.innerHTML = '<span style="font-size: 20px;">⏳</span><span>ĐANG XỬ LÝ...</span>';
            callRegularButton.disabled = true;
            callRegularButton.style.opacity = '0.8';
        } else {
            callZaloButton.innerHTML = '<span style="font-size: 20px;">⏳</span><span>ĐANG XỬ LÝ...</span>';
            callZaloButton.disabled = true;
            callZaloButton.style.opacity = '0.8';
        }
        
        messageElement.textContent = '⏳ Đang lưu thông tin và kết nối...';
        messageElement.style.color = '#ffcc00';
        
        try {
            // 1. Lưu lead vào hệ thống
            const result = await saveRubyLead(phoneNumber, callType);
            // Track Call / Zalo conversion (Meta CAPI)
            fetch('https://ruby-wings-chatbot.onrender.com/api/track-call', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    event_id: window.RW_EVENT_ID, // ✅ dùng event_id chung toàn site
                    phone: phoneNumber.replace(/\D/g, ''),
                    action: callType === 'zalo' ? 'Zalo Click' : 'Phone Call'
                })
            });


            // 2. Hiển thị thông báo thành công
            messageElement.innerHTML = '✅ <strong>THÀNH CÔNG!</strong> Đã gửi thông tin';
            messageElement.style.color = '#2ecc71';
            
            // 3. Chuyển hướng đến cuộc gọi/Zalo CÔNG TY (FIX: Gọi đến số công ty thay vì số khách hàng)
            setTimeout(() => {
                if (callType === 'zalo') {
                    // Mở Zalo CÔNG TY trong tab mới
                    window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                } else {
                    // Gọi điện đến SỐ CÔNG TY
                    window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                }
                
                // Đóng modal sau 1.5 giây
                setTimeout(() => {
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                    
                    // Khôi phục hiệu ứng pulse
                    setTimeout(() => {
                        callButton.classList.add('ruby-pulse');
                    }, 500);
                }, 1500);
            }, 1000);
            
        } catch (error) {
            // Xử lý lỗi
            console.error('Ruby Call Widget Error:', error);
            messageElement.innerHTML = `❌ <strong>${error.message}</strong>`;
            messageElement.style.color = '#ff6b6b';
            
            // Vẫn cho phép gọi nếu API fail (fallback - GỌI ĐẾN CÔNG TY)
            setTimeout(() => {
                const userConfirmed = confirm('Hệ thống đang bận. Bạn vẫn muốn tiếp tục gọi không?');
                
                if (userConfirmed) {
                    if (callType === 'zalo') {
                        window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                    } else {
                        window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                    }
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                }
            }, 2000);
        } finally {
            // Khôi phục trạng thái nút
            if (callType === 'regular') {
                setTimeout(() => {
                    callRegularButton.innerHTML = originalRegularText;
                    callRegularButton.disabled = false;
                    callRegularButton.style.opacity = '1';
                }, 1000);
            } else {
                setTimeout(() => {
                    callZaloButton.innerHTML = originalZaloText;
                    callZaloButton.disabled = false;
                    callZaloButton.style.opacity = '1';
                }, 1000);
            }
        }
    }
    
    // Gắn sự kiện cho nút gọi thường
    callRegularButton.addEventListener('click', () => handleCall('regular'));
    
    // Gắn sự kiện cho nút gọi Zalo
    callZaloButton.addEventListener('click', () => handleCall('zalo'));
    
    // Cho phép nhấn Enter để gọi thường
    phoneInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleCall('regular');
        }
    });
    
    // Auto-format số điện thoại
    phoneInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\D/g, '');
        
        if (value.length > 0) {
            if (value.length <= 4) {
                value = value;
            } else if (value.length <= 7) {
                value = `${value.slice(0, 4)} ${value.slice(4)}`;
            } else {
                value = `${value.slice(0, 4)} ${value.slice(4, 7)} ${value.slice(7, 11)}`;
            }
        }
        
        e.target.value = value;
    });
    
    // Điều chỉnh vị trí nếu có chatbot
    function adjustPositionForChatbot() {
        const chatWidget = document.querySelector('#chatWidget, .chat-widget, [id*="chat"], [class*="chat"], .tawk-button, .zalo-chat-widget');
        if (chatWidget) {
            const chatRect = chatWidget.getBoundingClientRect();
            const callWidget = document.getElementById('ruby-call-widget');
            
            // Đặt nút gọi điện cao hơn nút chatbot 80px
            callWidget.style.bottom = `${chatRect.height + 80}px`;
        }
    }
    
    // Re-apply position on resize
    window.addEventListener('resize', () => {
        applyWidgetPosition();
        adjustPositionForChatbot();
    });
    
    // Kiểm tra và điều chỉnh mỗi 1 giây (phòng trường hợp chatbot load sau)
    const positionCheckInterval = setInterval(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    // Initial adjustments
    setTimeout(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    console.log('✅ Ruby Call Widget đã sẵn sàng - Phiên bản hoàn thiện');
}

// Khởi tạo khi DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initRubyCallWidget);
} else {
    initRubyCallWidget();
}

// Đảm bảo widget vẫn hoạt động khi chuyển trang trong SPA
document.addEventListener('click', (e) => {
    if (e.target.matches('a[href*="#"]') || e.target.closest('a[href*="#"]')) {
        // Giữ widget hiển thị khi chuyển anchor link
        setTimeout(() => {
            if (window.rubyCallWidgetInitialized) {
                const widget = document.getElementById('ruby-call-widget');
                widget.style.display = 'block';
            }
        }, 100);
    }
});

// Chống ẩn widget khi scroll
let lastScrollTop = 0;
window.addEventListener('scroll', () => {
    const st = window.pageYOffset || document.documentElement.scrollTop;
    
    // Luôn hiển thị widget, không ẩn khi scroll
    const widget = document.getElementById('ruby-call-widget');
    if (widget) {
        widget.style.display = 'block';
        widget.style.opacity = '1';
    }
    
    lastScrollTop = st <= 0 ? 0 : st;
}, false);
</script>
</body>
</html>