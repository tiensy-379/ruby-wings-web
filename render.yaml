# render.yaml (BOOT / DEBUG)
# MỤC TIÊU: khóa Python runtime, loại bỏ mọi nhiễu
# CHỈ dùng để xác nhận môi trường chạy ổn định

services:
  - type: web
    name: ruby-wings-chatbot
    env: python
    runtime: python
    pythonVersion: 3.11.9
    plan: starter
    branch: main
    autoDeploy: true

    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt

    startCommand: >
      gunicorn app:app
      --workers 1
      --threads 2
      --bind 0.0.0.0:10000
      --timeout 300

    healthCheckPath: /api/health
