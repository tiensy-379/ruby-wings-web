<!DOCTYPE html>
<html lang="vi">
<head>
<script src="/rw-event-id.js" defer></script>


<!-- ================= META CLIENT PARAM BUILDER ================= -->
<script>
window.addEventListener('load', function () {
  var s = document.createElement('script');
  s.src = 'https://capi-automation.s3.us-east-2.amazonaws.com/public/client_js/capiParamBuilder/clientParamBuilder.bundle.js';
  s.onload = function () {
    try {
      if (!window.RW_EVENT_ID && window.crypto && crypto.randomUUID) {
        window.RW_EVENT_ID = crypto.randomUUID();
      }

      if (window.clientParamBuilder) {
        clientParamBuilder.processAndCollectAllParams(
          window.location.href,
          function () { return ''; }
        );
      }
    } catch (e) {
      console.warn('CAPI init failed', e);
    }
  };
  document.body.appendChild(s);
});
</script>

<!-- ================= CONVERSION EVENT ID STORE ================= -->
<script>
window.RW_FINAL_CONV_EVENTS = {};

function getFinalConvEventId(action) {
  const key = 'rw_final_' + action;

  let eid = sessionStorage.getItem(key);
  if (eid) return eid;

  if (window.RW_FINAL_CONV_EVENTS[action]) {
    return window.RW_FINAL_CONV_EVENTS[action];
  }

  eid =
    (window.crypto && crypto.randomUUID)
      ? crypto.randomUUID()
      : 'rw_' + Date.now() + '_' + Math.random().toString(36).slice(2);

  window.RW_FINAL_CONV_EVENTS[action] = eid;
  sessionStorage.setItem(key, eid);

  return eid;
}
</script>

<!-- ================= FETCH HEADER (PAGEVIEW ONLY ‚Äì SAFE) ================= -->
<script>
(function () {
  if (!window.fetch || !window.RW_EVENT_ID) return;

  var originalFetch = window.fetch;

  window.fetch = function (url, options) {
    options = options || {};
    options.headers = options.headers || {};

    // üîí CH·ªà g·∫Øn header cho SAME-ORIGIN (tr√°nh CORS preflight)
    if (typeof url === 'string' && url.startsWith('/')) {
      options.headers['X-RW-EVENT-ID'] = window.RW_EVENT_ID;
    }

    return originalFetch(url, options);
  };
})();
</script>


<!-- ================= GOOGLE TAG MANAGER ================= -->
<script>
(function(w,d,s,l,i){
  w[l]=w[l]||[];
  w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
  var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),
      dl=l!='dataLayer'?'&l='+l:'';
  j.async=true;
  j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
  f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KNFLM3CR');
</script>

<!-- ================= META PIXEL ================= -->
<script>
!function(f,b,e,v,n,t,s){
if(f.fbq)return;
n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];
t=b.createElement(e);t.async=!0;t.src=v;
s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)
}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init','862531473384426',{}, {autoConfig:false});
if (window.RW_EVENT_ID) {
  fbq('track','PageView');
}
</script>

<!-- ================= PIXEL CONVERSIONS ================= -->
<script>
(function () {
  if (!window.fbq) return;

  /* CALL */
  document.addEventListener('click', function (e) {
    var btn = e.target.closest && e.target.closest('#ruby-call-regular');
    if (!btn) return;
    fbq('trackCustom','CallButtonClick',{},{
      eventID: getFinalConvEventId('call')
    });
  });

  /* FORM ‚Äì LEAD (SUBMIT TH·∫¨T) */
  document.addEventListener('submit', function (e) {
    if (!e.target || e.target.tagName !== 'FORM') return;
    var eid = getFinalConvEventId('lead');
    fbq('track','Lead',{}, { eventID: eid });
  });

  fbq('consent','revoke');
  fbq('consent','grant');
})();
</script>

<!-- ================= CONTACT / CHAT CAPI ================= -->
<script>
(function () {
  function sendContact(source, phone, eventId) {
    console.log('[ZALO DEBUG] Sending CAPI request:', { source, phone, eventId });
    
    fetch('https://ruby-wings-chatbot-v4.onrender.com/api/track-contact', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        event_id: eventId,
        phone: phone || '',
        source: source
      })
    })
    .then(response => {
      console.log('[ZALO DEBUG] Response status:', response.status);
      return response.json();
    })
    .then(data => {
      console.log('[ZALO DEBUG] Response data:', data);
    })
    .catch(error => {
      console.error('[ZALO DEBUG] Fetch error:', error);
    });
  }

  /* ZALO ‚Äì CAPI (1 L·∫¶N / PHI√äN) */
  document.addEventListener('click', function (e) {
    var zalo = e.target.closest && e.target.closest('#rw-zalo-round-btn');
    if (!zalo) return;
    
    console.log('[ZALO DEBUG] Zalo button clicked');
    
    if (sessionStorage.getItem('rw_zalo_capi_sent')) {
    console.log('[ZALO DEBUG] Already sent in this session ‚Äì reset for retry');
    sessionStorage.removeItem('rw_zalo_capi_sent');
    }

    
    sessionStorage.setItem('rw_zalo_capi_sent', '1');
    var eventId = getFinalConvEventId('zalo');
    console.log('[ZALO DEBUG] Generated eventId:', eventId);

    sendContact(
      'Zalo Contact',
      '84332510486',
      eventId
    );
  });

  /* CHATBOT ‚Äì CAPI (1 L·∫¶N / PHI√äN) */
  document.addEventListener('click', function (e) {
    var chat = e.target.closest && e.target.closest('.rw-chat-btn, .rw-chat-btn-isolated');
    if (!chat) return;

    if (sessionStorage.getItem('rw_chat_capi_sent')) return;
    sessionStorage.setItem('rw_chat_capi_sent', '1');

    sendContact(
      'Chatbot Contact',
      '',
      getFinalConvEventId('chat')
    );
  });
})();</script>

<!-- ========================================================= -->
<!-- 5. KH√îNG GTM ‚Äì KH√îNG DOUBLE TRACKING -->
<!-- ========================================================= -->
 
    <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
    <link rel="manifest" href="icon/site.webmanifest">
    <link rel="shortcut icon" href="icon/favicon.ico">
    <meta name="theme-color" content="#ffffff">
    <meta name="facebook-domain-verification" content="9tvsczh90ochfhg9byyr544ixf080p" />
    <link type="text/plain" rel="author" href="/humans.txt" />

    <!-- === META TAGS SEO T·ªêI ∆ØU HO√ÄN CH·ªàNH === -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    
    <!-- Title & Description T·ªëi ∆∞u -->
    <title>Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê | Ruby Wings</title>
    <meta name="description" content="H√†nh tr√¨nh 6 ng√†y 5 ƒë√™m kh√°m ph√° mi·ªÅn ƒë·∫•t tr√π ph√∫ S·∫Øc M√†u Ph∆∞∆°ng Nam: TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p. Tr·∫£i nghi·ªám vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng Nam B·ªô.">
    <meta name="keywords" content="tour mi·ªÅn T√¢y 6 ng√†y 5 ƒë√™m, S·∫Øc M√†u Ph∆∞∆°ng Nam, du l·ªãch Nam B·ªô, ch·ª£ n·ªïi C√°i RƒÉng, ƒê·∫•t M≈©i C√† Mau, Dinh ƒê·ªôc L·∫≠p, Khu du l·ªãch ƒê·∫°i Nam, Ruby Wings Travel">
    
    <!-- Canonical & Alternate URLs -->
    <link rel="canonical" href="https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html">
    <meta property="og:title" content="Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê - Ruby Wings">
    <meta property="og:description" content="H√†nh tr√¨nh 6N5ƒê kh√°m ph√° mi·ªÅn ƒë·∫•t tr√π ph√∫ S·∫Øc M√†u Ph∆∞∆°ng Nam: TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p. Tr·∫£i nghi·ªám vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng Nam B·ªô.">
    <meta property="og:image" content="https://rubywings.vn/images/mui_ca_mau.jpg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê - Ruby Wings">
    <meta name="twitter:description" content="Tour mi·ªÅn T√¢y 6 ng√†y 5 ƒë√™m: TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p. Tr·∫£i nghi·ªám vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc.">
    <meta name="twitter:image" content="https://rubywings.vn/images/mui_ca_mau.jpg">
    

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://rubywings.vn/#organization",
      "name": "Ruby Wings Travel",
      "url": "https://rubywings.vn/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://rubywings.vn/images/logofxf.png"
      },
      "description": "Ruby Wings - H·ªá sinh th√°i ph√°t tri·ªÉn con ng∆∞·ªùi to√†n di·ªán v·ªõi gi√° tr·ªã c·ªët l√µi: Chu·∫©n m·ª±c - Ch√¢n th√†nh - C√≥ chi·ªÅu s√¢u. Chuy√™n v·ªÅ du l·ªãch c·∫£m x√∫c, tr·∫£i nghi·ªám ch·ªØa l√†nh n·ªôi t√¢m th√¥ng qua thi·ªÅn, kh√≠ c√¥ng v√† k·∫øt n·ªëi thi√™n nhi√™n, h∆∞·ªõng ƒë·∫øn ph√°t tri·ªÉn con ng∆∞·ªùi to√†n di·ªán.",
      "slogan": "Bay l√™n t·ª´ b√™n trong - H√†nh tr√¨nh tr·∫£i nghi·ªám c√≥ chi·ªÅu s√¢u, n∆°i kh√¥ng ch·ªâ ƒë·∫øn m·ªôt n∆°i m√† c√≤n c√≥ th·ªÉ tr·ªü v·ªÅ v·ªõi ch√≠nh m√¨nh",
      "sameAs": [
        "https://www.facebook.com/profile.php?id=61563772112138",
        "https://www.facebook.com/tien.sy.5011/",
        "https://www.instagram.com/tiensyrubywings",
        "https://www.tiktok.com/@syluong379",
        "https://www.youtube.com/@rubywing-slsa",
        "https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B1-l%C6%B0%C6%A1ng-9a0292387"
      ],
      "telephone": "+84-332-510-486",
      "email": "rubywingslsa@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "148 Tr∆∞∆°ng Gia M√¥, V·ªπ D·∫°",
        "addressLocality": "Th√†nh ph·ªë Hu·∫ø",
        "addressRegion": "Th·ª´a Thi√™n Hu·∫ø",
        "postalCode": "530000",
        "addressCountry": "VN"
      },
      "founder": {
        "@type": "Person",
        "name": "L∆∞∆°ng Ti·∫øn S·ªπ",
        "jobTitle": "Founder & CEO",
        "url": "https://www.facebook.com/tien.sy.5011/"
      },
      "knowsAbout": [
        "Du l·ªãch ch·ªØa l√†nh",
        "Thi·ªÅn ch√°nh ni·ªám khoa h·ªçc",
        "Kh√≠ c√¥ng tr·ªã li·ªáu",
        "Ph√°t tri·ªÉn con ng∆∞·ªùi to√†n di·ªán",
        "Du l·ªãch c·∫£m x√∫c",
        "Retreat v√† tr·∫£i nghi·ªám n·ªôi t√¢m"
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://rubywings.vn/#website",
      "url": "https://rubywings.vn/",
      "name": "Ruby Wings Travel - H√†nh tr√¨nh tr·∫£i nghi·ªám c·∫£m x√∫c",
      "description": "Bay l√™n t·ª´ b√™n trong - H√†nh tr√¨nh tr·∫£i nghi·ªám c√≥ chi·ªÅu s√¢u, n∆°i kh√¥ng ch·ªâ ƒë·∫øn m·ªôt n∆°i m√† c√≤n c√≥ th·ªÉ tr·ªü v·ªÅ v·ªõi ch√≠nh m√¨nh. Du l·ªãch ch·ªØa l√†nh v·ªõi thi·ªÅn, kh√≠ c√¥ng v√† k·∫øt n·ªëi thi√™n nhi√™n - H·ªá sinh th√°i ph√°t tri·ªÉn con ng∆∞·ªùi to√†n di·ªán",
      "publisher": {
        "@id": "https://rubywings.vn/#organization"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://rubywings.vn/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html#webpage",
      "url": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html",
      "name": "Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê | Ruby Wings",
      "description": "H√†nh tr√¨nh 6 ng√†y 5 ƒë√™m kh√°m ph√° mi·ªÅn ƒë·∫•t tr√π ph√∫ S·∫Øc M√†u Ph∆∞∆°ng Nam: TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p. Tr·∫£i nghi·ªám vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng Nam B·ªô.",
      "isPartOf": {
        "@id": "https://rubywings.vn/#website"
      },
      "mainEntity": {
        "@id": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html#service"
      },
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://rubywings.vn/images/mui_ca_mau.jpg"
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Trang ch·ªß",
            "item": "https://rubywings.vn/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Tour S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê",
            "item": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html"
          }
        ]
      }
    },
    {
      "@type": "Service",
      "@id": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html#service",
      "serviceType": "Tour & Travel Experience",
      "name": "Tour S·∫Øc M√†u Ph∆∞∆°ng Nam 6 Ng√†y 5 ƒê√™m - Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ Nam B·ªô",
      "description": "H√†nh tr√¨nh 6 ng√†y 5 ƒë√™m kh√°m ph√° mi·ªÅn ƒë·∫•t tr√π ph√∫ S·∫Øc M√†u Ph∆∞∆°ng Nam: TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p. Tr·∫£i nghi·ªám vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng Nam B·ªô v·ªõi d·ªãch v·ª• cao c·∫•p v√† h∆∞·ªõng d·∫´n vi√™n chuy√™n nghi·ªáp.",
      "provider": {
        "@id": "https://rubywings.vn/#organization"
      },
      "areaServed": {
        "@type": "Country",
        "name": "Vi·ªát Nam"
      },
      "audience": {
        "@type": "PeopleAudience",
        "suggestedMinAge": 16,
        "suggestedMaxAge": 70,
        "audienceType": "Kh√°ch du l·ªãch, gia ƒë√¨nh, nh√≥m b·∫°n, c√° nh√¢n mu·ªën kh√°m ph√° vƒÉn h√≥a v√† thi√™n nhi√™n mi·ªÅn T√¢y Nam B·ªô"
      },
      "offers": {
        "@type": "Offer",
        "availability": "https://schema.org/InStock"
      },
      "additionalProperty": [
        {
          "@type": "PropertyValue",
          "name": "itinerary",
          "value": "Future data to be added"
        },
        {
          "@type": "PropertyValue",
          "name": "duration",
          "value": "Future data to be added"
        }
      ]
    },
    {
      "@type": "FAQPage",
      "@id": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html#faq",
      "isPartOf": {
        "@id": "https://rubywings.vn/tour-sac-mau-phuong-nam-6-ngay-5-dem.html#webpage"
      },
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Tour 'S·∫Øc M√†u Ph∆∞∆°ng Nam' 6N5ƒê n√†y c√≥ ph√π h·ª£p v·ªõi gia ƒë√¨nh v√† kh√°ch l·ªõn tu·ªïi kh√¥ng?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "L·ªãch tr√¨nh ƒë∆∞·ª£c thi·∫øt k·∫ø c√¢n b·∫±ng gi·ªØa tham quan, tr·∫£i nghi·ªám v√† ngh·ªâ d∆∞·ª°ng, ph√π h·ª£p cho gia ƒë√¨nh c√≥ tr·∫ª em c≈©ng nh∆∞ kh√°ch l·ªõn tu·ªïi. Tuy nhi√™n, ch∆∞∆°ng tr√¨nh c√≥ nhi·ªÅu ƒëi·ªÉm di chuy·ªÉn (TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p) v√† c√°c ho·∫°t ƒë·ªông tr√™n s√¥ng n∆∞·ªõc (thuy·ªÅn m√°y, ca n√¥, xu·ªìng nh·ªè). Qu√Ω kh√°ch l·ªõn tu·ªïi v√† tr·∫ª nh·ªè n√™n mang gi√†y ƒë·∫ø m·ªÅm, kem ch·ªëng n·∫Øng v√† chu·∫©n b·ªã s·ª©c kh·ªèe ph√π h·ª£p. N·∫øu c√≥ t√¨nh tr·∫°ng s·ª©c kh·ªèe ƒë·∫∑c bi·ªát, vui l√≤ng th√¥ng b√°o tr∆∞·ªõc ƒë·ªÉ HDV h·ªó tr·ª£ t·ªët nh·∫•t."
          }
        },
        {
          "@type": "Question",
          "name": "T√¥i c·∫ßn chu·∫©n b·ªã g√¨ khi ƒëi tour mi·ªÅn T√¢y v√†o m√πa h√®?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Qu√Ω kh√°ch vui l√≤ng mang theo CMND/CCCD/H·ªô chi·∫øu c√≤n h·∫°n ƒë·ªÉ l√†m th·ªß t·ª•c bay v√† nh·∫≠n ph√≤ng. Th·ªùi ti·∫øt mi·ªÅn Nam m√πa h√® n·∫Øng n√≥ng, ƒë√¥i l√∫c c√≥ m∆∞a r√†o, n√™n chu·∫©n b·ªã m≈©/n√≥n, k√≠nh r√¢m, kem ch·ªëng n·∫Øng, √°o kho√°c nh·∫π, √¥/√°o m∆∞a m·ªèng, b√¨nh n∆∞·ªõc c√° nh√¢n v√† gi√†y th·ªÉ thao ho·∫∑c gi√†y ƒë·∫ø m·ªÅm ƒë·ªÉ di chuy·ªÉn tho·∫£i m√°i. Khi tham quan c√°c ƒëi·ªÉm vƒÉn h√≥a ‚Äì l·ªãch s·ª≠ (Dinh ƒê·ªôc L·∫≠p, B·∫£o t√†ng Ch·ª©ng t√≠ch, Ch√πa Ch√©n Ki·ªÉu...), n√™n m·∫∑c trang ph·ª•c l·ªãch s·ª±, tr√°nh ph·∫£n c·∫£m khi v√†o kh√¥ng gian t√¥n nghi√™m."
          }
        },
        {
          "@type": "Question",
          "name": "Chi ph√≠ tour ƒë√£ bao g·ªìm v√© tham quan & ƒÉn u·ªëng ch∆∞a?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Chi ph√≠ tour ƒë√£ bao g·ªìm xe ch·∫•t l∆∞·ª£ng cao ƒë∆∞a ƒë√≥n theo ch∆∞∆°ng tr√¨nh, 11 b·ªØa ch√≠nh (150.000ƒë/su·∫•t), ƒÉn s√°ng t·∫°i kh√°ch s·∫°n, kh√°ch s·∫°n 3* tr·ªü l√™n, HDV chuy√™n nghi·ªáp, b·∫£o hi·ªÉm du l·ªãch, n√≥n du l·ªãch v√† v√© v√†o c·ª≠a l·∫ßn ƒë·∫ßu t·∫°i c√°c ƒëi·ªÉm tham quan trong ch∆∞∆°ng tr√¨nh. Chi ph√≠ ch∆∞a bao g·ªìm v√© m√°y bay kh·ª© h·ªìi ƒê√† N·∫µng ‚Äì TP.HCM, VAT, chi ph√≠ c√° nh√¢n, tip, d·ªãch v·ª• ph√°t sinh ngo√†i ch∆∞∆°ng tr√¨nh v√† ph·ª• thu L·ªÖ/T·∫øt."
          }
        },
        {
          "@type": "Question",
          "name": "An to√†n khi ƒëi thuy·ªÅn/ca n√¥ v√† c√°c l∆∞u √Ω quan tr·ªçng kh√°c l√† g√¨?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Khi tham quan ch·ª£ n·ªïi C√°i RƒÉng, C·ªìn L√¢n ‚Äì C·ªìn Ph·ª•ng, r·ª´ng ng·∫≠p m·∫∑n C√† Mau, ∆∞u ti√™n ng·ªìi ƒë√∫ng v·ªã tr√≠, mang √°o phao theo h∆∞·ªõng d·∫´n, kh√¥ng t·ª± √Ω ƒë·ª©ng d·∫≠y khi thuy·ªÅn ƒëang di chuy·ªÉn. T·∫°i ch·ª£ B·∫øn Th√†nh, b·∫øn Ninh Ki·ªÅu, c√°c khu du l·ªãch ƒë√¥ng ng∆∞·ªùi... Qu√Ω kh√°ch l∆∞u √Ω gi·ªØ g√¨n ƒëi·ªán tho·∫°i, v√≠, t∆∞ trang. Ng∆∞·ªùi c√≥ ti·ªÅn s·ª≠ say xe, b·ªánh n·ªÅn ho·∫∑c d√πng thu·ªëc ƒë·∫∑c tr·ªã n√™n chu·∫©n b·ªã s·∫µn thu·ªëc v√† th√¥ng b√°o tr∆∞·ªõc cho h∆∞·ªõng d·∫´n vi√™n ƒë·ªÉ h·ªó tr·ª£ k·ªãp th·ªùi. Kh√¥ng x·∫£ r√°c t·∫°i di t√≠ch v√† khu sinh th√°i; tu√¢n th·ªß h∆∞·ªõng d·∫´n c·ªßa HDV, kh√¥ng t·ª± √Ω t√°ch ƒëo√†n trong su·ªët h√†nh tr√¨nh."
          }
        }
      ]
    }
  ]
}
</script>

    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* === Bi·∫øn CSS N√¢ng Cao === */
        :root {
            --color-primary: #0b562a;
            --color-primary-light: #2bb559;
            --color-secondary: #f21970;
            --color-secondary-light: #f84288;
            --color-accent: #ebaf16;
            --color-dark: #2F4F4F;
            --color-light: #F5F5F5;
            --color-nature: #0b8b34;
            --color-fresh-pink: #f0ecee;
            --color-dark-blue: #9cf379;
            --color-search-green: #8bc34a;
            --color-healing-green: #e8f5e9;
            --color-nature-light: #a0d8b0;
            --color-text-dark: #333;
            --color-text-light: #fff;
            
            --gradient-primary: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-light) 100%);
            --gradient-nature: linear-gradient(135deg, #44ba46 0%, var(--color-primary) 100%);
            --gradient-header: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            --gradient-logo: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 50%, var(--color-accent) 100%);
            --gradient-hero: linear-gradient(135deg, rgba(11, 86, 42, 0.9) 0%, rgba(43, 181, 89, 0.8) 100%);
            
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Inter', sans-serif;
            --font-special: 'Inter', sans-serif;
            
            --box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            --box-shadow-hover: 0 10px 25px rgba(0,0,0,0.15);
            --box-shadow-logo: 0 8px 25px rgba(139, 46, 82, 0.3);
            --box-shadow-card: 0 8px 30px rgba(0,0,0,0.12);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 12px;
            --border-radius-lg: 20px;
        }
       
        /* === Reset & Base Styles === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
       
        body {
            font-family: var(--font-body);
            color: var(--color-text-dark);
            line-height: 1.6;
            overflow-x: hidden;
            background-color: #f0f0f0;
            text-align: justify;
            text-justify: inter-word;
            font-size: 16px;
        }
       
        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            margin-bottom: 15px;
            line-height: 1.2;
            text-align: center;
            font-weight: 700;
        }
       
        img {
            max-width: 100%;
            height: auto;
            display: block;
        }
       
        ul {
            list-style: none;
        }
       
        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }
       
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Text Justification */
        p, .text-justify {
            text-align: justify;
            text-justify: inter-word;
        }
       
        /* === HI·ªÜU ·ª®NG N√öT N√ÇNG CAO === */
        .btn {
            display: inline-block;
            background: var(--gradient-primary);
            color: white;
            padding: 14px 32px;
            border-radius: 30px;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
            font-family: var(--font-body);
        }
       
        .btn:hover {
            background: var(--gradient-secondary);
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        /* === HEADER N√ÇNG C·∫§P CAO C·∫§P === */
        header {
            background: var(--gradient-header);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 30px rgba(0,0,0,0.1);
            transition: var(--transition-slow);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0;
        }
       
        header.sticky {
            background: var(--gradient-header);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            padding: 5px 0;
        }

        header.hidden {
            transform: translateY(-100%);
        }
       
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            max-width: 1900px;
            margin: 0 auto;
            position: relative;
        }
       
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            transition: var(--transition);
            position: relative;
            z-index: 1001;
        }

        .logo:hover {
            transform: translateY(-2px);
        }
       
        .logo-image-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: white;
            padding: 5px;
            box-shadow: var(--box-shadow-logo);
            transition: var(--transition);
            overflow: hidden;
        }

        .logo-image-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gradient-logo);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.7;
            filter: blur(10px);
        }

        .logo:hover .logo-image-container {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 12px 30px rgba(46, 139, 87, 0.4);
        }

        .logo img {
            height: 90px;
            width: auto;
            border-radius: 50%;
            transition: var(--transition);
            filter: brightness(1.1) contrast(1.1);
            object-fit: cover;
        }

        .logo:hover img {
            transform: scale(1.05);
        }

        .logo-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .logo-main {
            font-size: 1.8rem;
            font-weight: 800;
            color: #ff1493;
            letter-spacing: -0.5px;
            font-family: var(--font-heading);
            line-height: 1;
            margin-bottom: 4px;
            background: white;
            padding: 5px 15px;
            border-radius: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .logo-tagline {
            font-size: 1.1rem;
            color: var(--color-dark-blue);
            font-style: italic;
            font-weight: 500;
            line-height: 1.2;
            text-align: left;
            position: relative;
            padding-left: 10px;
        }

        .logo-tagline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 70%;
            background: var(--gradient-secondary);
            border-radius: 2px;
        }
       
        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }
       
        .nav-links a {
            font-weight: 600;
            font-size: 1.1rem;
            color: white;
            transition: var(--transition);
            position: relative;
            padding: 10px 5px;
            font-family: var(--font-body);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
       
        .nav-links a:hover {
            color: var(--color-secondary);
            transform: translateY(-2px);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, white, var(--color-secondary));
            bottom: -2px;
            left: 50%;
            border-radius: 2px;
            transition: var(--transition);
            transform: translateX(-50%);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a.active {
            color: var(--color-secondary);
            font-weight: 700;
        }

        .nav-links a.active::after {
            width: 100%;
            background: var(--color-secondary);
        }

        /* Enhanced Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            transition: var(--transition);
            border: 2px solid transparent;
            z-index: 1001;
        }

        .mobile-menu-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Enhanced Mobile Navigation */
        .nav-mobile {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--gradient-header);
            flex-direction: column;
            padding: 100px 20px 20px;
            z-index: 999;
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .nav-mobile.active {
            transform: translateX(0);
            display: flex;
        }

        .nav-mobile a {
            padding: 18px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            transition: var(--transition);
            position: relative;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-radius: 8px;
            margin: 5px 0;
        }

        .nav-mobile a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-secondary);
            padding-left: 30px;
            transform: translateX(5px);
        }

        .nav-mobile a::before {
            content: '‚Ä∫';
            position: absolute;
            left: 15px;
            opacity: 0;
            transition: var(--transition);
            color: var(--color-secondary);
            font-weight: bold;
        }

        .nav-mobile a:hover::before {
            opacity: 1;
            left: 20px;
        }

        .nav-mobile a:last-child {
            border-bottom: none;
        }

        /* Overlay for mobile menu */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* === STYLES RI√äNG CHO TRANG TOUR === */
        
        /* Hero Section */
        .tour-hero {
            background: linear-gradient(rgba(11, 86, 42, 0.85), rgba(43, 181, 89, 0.75)), url('images/mui_ca_mau.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 160px 0 100px;
            text-align: center;
            margin-top: 140px;
            position: relative;
            overflow: hidden;
        }
        
        .tour-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="rgba(255,255,255,0.1)"><path d="M500 50Q550 0 600 50T700 50T800 50T900 50T1000 50V100H0V50Q100 50 200 50T300 50T400 50T500 50Z"/></svg>');
            background-size: cover;
            background-position: bottom;
        }
        
        .tour-hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }
        
        .tour-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 25px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
            line-height: 1.1;
        }
        
        .tour-hero p {
            font-size: 1.3rem;
            margin-bottom: 35px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 1s ease-out 0.2s both;
            line-height: 1.6;
        }
        
        .tour-tag {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 12px 30px;
            border-radius: 30px;
            margin-bottom: 25px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            animation: fadeInUp 1s ease-out 0.4s both;
            font-size: 1.1rem;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .tour-hero .btn {
            font-size: 1.2rem;
            padding: 16px 40px;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        /* Section Styles */
        .tour-section {
            padding: 100px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }
       
        .section-title h2 {
            font-size: 2.8rem;
            color: var(--color-dark);
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
        }
       
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 60%;
            height: 4px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            bottom: 0;
            left: 20%;
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        
        .section-title h2:hover::after {
            width: 80%;
        }
        
        /* Gi·ªõi thi·ªáu Tour */
        .tour-intro {
            background-color: var(--color-healing-green);
            position: relative;
        }
        
        .intro-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }
        
        .intro-text {
            font-size: 1.15rem;
        }
        
        .intro-text p {
            margin-bottom: 18px;
        }
        
        .intro-image {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-hover);
            position: relative;
        }
        
        .intro-image img {
            width: 100%;
            height: 500px;
            object-fit: cover;
            transition: var(--transition-slow);
        }
        
        .intro-image:hover img {
            transform: scale(1.05);
        }
        
        .intro-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(11, 86, 42, 0.1), rgba(242, 25, 112, 0.1));
            opacity: 0;
            transition: var(--transition);
        }
        
        .intro-image:hover::after {
            opacity: 1;
        }
        
        /* ƒêi·ªÉm n·ªïi b·∫≠t */
        .tour-highlights {
            background: white;
            position: relative;
        }
        
        .highlights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
        }
        
        .highlight-card {
            background: white;
            padding: 40px 30px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-card);
            transition: var(--transition);
            text-align: center;
            border-top: 5px solid var(--color-primary);
            position: relative;
            overflow: hidden;
        }
        
        .highlight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .highlight-card:hover {
            transform: translateY(-15px);
            box-shadow: var(--box-shadow-hover);
            border-top-color: var(--color-secondary);
        }
        
        .highlight-card:hover::before {
            transform: scaleX(1);
        }
        
        .highlight-icon {
            font-size: 3rem;
            color: var(--color-secondary);
            margin-bottom: 25px;
            display: inline-block;
            padding: 20px;
            border-radius: 50%;
            background: rgba(242, 25, 112, 0.1);
            transition: var(--transition);
        }
        
        .highlight-card:hover .highlight-icon {
            transform: scale(1.1) rotate(5deg);
            background: rgba(242, 25, 112, 0.2);
        }
        
        .highlight-card h3 {
            color: var(--color-dark);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .highlight-card p {
            color: #666;
            line-height: 1.7;
        }
        
        /* L·ªãch tr√¨nh */
        .tour-itinerary {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            position: relative;
        }
        
        .timeline {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--gradient-primary);
            border-radius: 3px;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 50px;
            padding-left: 100px;
        }
        
        .timeline-time {
            position: absolute;
            left: 0;
            top: 0;
            background: var(--color-primary);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 700;
            min-width: 120px;
            text-align: center;
            box-shadow: var(--box-shadow);
            z-index: 2;
        }
        
        .timeline-content {
            background: white;
            padding: 35px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-card);
            transition: var(--transition);
            position: relative;
            border-left: 4px solid var(--color-primary);
        }
        
        .timeline-content::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 25px;
            width: 20px;
            height: 3px;
            background: var(--color-primary);
        }
        
        .timeline-content:hover {
            transform: translateX(15px);
            box-shadow: var(--box-shadow-hover);
            border-left-color: var(--color-secondary);
        }
        
        .timeline-content h3 {
            color: var(--color-secondary);
            margin-bottom: 15px;
            text-align: left;
            font-size: 1.4rem;
        }
        
        .timeline-content p {
            color: #555;
            line-height: 1.7;
        }
        
        /* Th√¥ng tin gi√° */
        .tour-pricing {
            background: var(--gradient-primary);
            color: white;
            position: relative;
        }
        
        .tour-pricing .section-title h2 {
            color: white;
        }
        
        .tour-pricing .section-title h2::after {
            background: linear-gradient(90deg, white, var(--color-accent));
        }
        
        .pricing-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .included, .excluded, .policies {
            background: rgba(255,255,255,0.15);
            padding: 28px 26px;
            border-radius: var(--border-radius-lg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: var(--transition);
        }
        
        .included:hover, .excluded:hover, .policies:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-5px);
        }
        
        .included h3, .excluded h3, .policies h3 {
            color: var(--color-accent);
            margin-bottom: 18px;
            text-align: left;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .included h3::before {
            content: '‚úì';
            color: #90EE90;
            font-weight: bold;
            font-size: 1.3rem;
        }
        
        .excluded h3::before {
            content: '‚úó';
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.3rem;
        }

        .policies h3::before {
            content: '‚Ñπ';
            color: #ffffff;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .included ul, .excluded ul, .policies ul {
            list-style-type: none;
        }
        
        .included li, .excluded li, .policies li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.12);
            line-height: 1.6;
        }
        
        .included li:last-child, .excluded li:last-child, .policies li:last-child {
            border-bottom: none;
        }

        .included li strong,
        .excluded li strong,
        .policies li strong {
            color: #ffe08a;
            font-weight: 700;
        }
        
        .pricing-cta {
            text-align: center;
            margin-top: 45px;
        }
        
        .pricing-cta .btn {
            background: var(--color-accent);
            color: var(--color-dark);
            font-size: 1.3rem;
            padding: 18px 50px;
            font-weight: 700;
        }
        
        .pricing-cta .btn:hover {
            background: white;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }
        
        .pricing-note {
            text-align: center;
            margin-top: 15px;
            font-style: italic;
            opacity: 0.9;
        }
        
        /* FAQ Section */
        .tour-faq {
            background: white;
            position: relative;
        }
        
        .faq-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .faq-item {
            margin-bottom: 25px;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--box-shadow-card);
            transition: var(--transition);
            border: 1px solid #f0f0f0;
        }
        
        .faq-item:hover {
            box-shadow: var(--box-shadow-hover);
        }
        
        .faq-question {
            background: var(--color-healing-green);
            padding: 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .faq-question:hover {
            background: var(--color-nature-light);
        }
        
        .faq-answer {
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.3s ease;
            background: white;
        }
        
        .faq-item.active .faq-answer {
            padding: 25px;
            max-height: 500px;
        }
        
        .faq-item.active .faq-question {
            background: var(--color-primary);
            color: white;
        }
        
        .faq-toggle {
            transition: transform 0.3s ease;
            font-size: 1.2rem;
        }
        
        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }
        
        /* N√∫t t∆∞ v·∫•n */
        .consultation-btn-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 9998;
        }
        
        .consultation-btn {
            display: flex;
            align-items: center;
            background: var(--gradient-secondary);
            color: white;
            padding: 18px 30px;
            border-radius: 50px;
            font-weight: 700;
            box-shadow: 0 10px 30px rgba(242, 25, 112, 0.4);
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .consultation-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(242, 25, 112, 0.6);
        }
        
        .consultation-btn i {
            margin-right: 12px;
            font-size: 1.3rem;
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Lazy loading for images */
        .lazy-image {
            opacity: 0;
            transition: opacity 0.8s ease;
        }
        
        .lazy-image.loaded {
            opacity: 1;
        }

        /* Footer Styles */
        footer {
            background: #0b562a;
            color: white;
            padding: 60px 0 30px;
            position: relative;
            text-align: left;
            border-top: 5px solid var(--color-secondary);
        }
       
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 50px;
            margin-bottom: 40px;
        }
       
        .footer-column h3 {
            color: var(--color-accent);
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 15px;
            font-size: 1.5rem;
            text-align: left;
        }
       
        .footer-column h3::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 3px;
            background: var(--color-accent);
            bottom: 0;
            left: 0;
        }
       
        .footer-column p {
            margin-bottom: 20px;
            font-size: 1rem;
            text-align: left;
            line-height: 1.7;
        }
       
        .contact-info {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
            text-align: left;
        }
       
        .social-links-grid {
            display: flex;
            flex-direction: row;
            gap: 10px;
            justify-content: flex-start;
            flex-wrap: wrap;
            margin-top: 20px;
            overflow-x: visible;
            padding: 5px 0;
            width: 100%;
        }

        .social-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-start;
            width: 100%;
        }

        .social-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            color: white !important;
            text-decoration: none;
            transition: var(--transition);
            font-size: 18px;
            flex-shrink: 0;
            opacity: 1;
            visibility: visible;
        }

        .social-icon:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .social-icon.facebook {
            background-color: #3b5998;
        }

        .social-icon.facebook-personal {
            background-color: #40f218;
        }

        .social-icon.twitter {
            background-color: #1da1f2;
        }

        .social-icon.instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }

        .social-icon.tiktok {
            background-color: #000000;
        }

        .social-icon.linkedin {
            background-color: #0077b5;
        }

        .social-icon.whatsapp {
            background-color: #25D366;
        }

        .social-icon.zalo {
            background-color: #0068FF;
            padding: 5px;
        }

        .social-icon.youtube {
            background-color: #f01281;
        }

        .social-icon.messenger {
            background: linear-gradient(135deg, #0084FF 0%, #00C6FF 100%);
        }

        .zalo-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.2);
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .community-btn {
            display: inline-block;
            margin-top: 15px;
            padding: 12px 25px;
            background-color: var(--color-secondary);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .community-btn:hover {
            background-color: var(--color-secondary-light);
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
        }

        /* === Responsive Design === */
        @media (max-width: 1200px) {
            .header-container {
                padding: 12px 20px;
            }
            
            .nav-links {
                gap: 25px;
            display: none;
            position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background: var(--gradient-header);
                flex-direction: column;
                padding: 100px 20px 20px;
                z-index: 999;
                transform: translateX(-100%);
                transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            .nav-links.active {
                transform: translateX(0);
                display: flex;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .intro-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .pricing-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .tour-hero h1 {
                font-size: 2.8rem;
            }
            
            .highlights-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .tour-hero {
                margin-top: 100px;
                padding: 120px 0 80px;
                background-attachment: scroll;
            }
            
            .tour-hero h1 {
                font-size: 2.3rem;
            }
            
            .tour-hero p {
                font-size: 1.1rem;
            }
            
            .tour-section {
                padding: 80px 0;
            }
            
            .section-title h2 {
                font-size: 2.2rem;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                padding-left: 70px;
            }
            
            .timeline-time {
                min-width: 100px;
                font-size: 0.9rem;
                padding: 10px 15px;
            }
            
            .timeline-content {
                padding: 25px;
            }
            
            .consultation-btn {
                padding: 15px 25px;
                font-size: 1rem;
            }
            
            .highlight-card, .included, .excluded, .policies {
                padding: 24px 20px;
            }
            
            .footer-content {
                gap: 40px;
            }
            
            .logo-main {
                font-size: 1.6rem;
                padding: 5px 12px;
            }
        }
        
        @media (max-width: 480px) {
            .tour-hero h1 {
                font-size: 2rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .highlight-card, .timeline-content, .included, .excluded, .policies, .faq-question {
                padding: 20px;
            }
            
            .tour-tag {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            .consultation-btn-container {
                bottom: 20px;
                right: 20px;
            }
            
            .consultation-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
            
            .logo-main {
                font-size: 1.4rem;
                padding: 4px 10px;
            }
        }
    </style>
</head>

<body>
    <!-- Meta Pixel Noscript -->
    <noscript>
        <img 
            height="1" 
            width="1" 
            style="display:none"
            src="https://www.facebook.com/tr?id=862531473384426&ev=PageView&noscript=1"
        />
    </noscript>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="04-y-nghia-logo-bieu-tuong.html" class="logo">
                <div class="logo-image-container">
                    <img src="images/logofxf.png" alt="Ruby Wings Travel Logo - Du l·ªãch tr·∫£i nghi·ªám v√† ch·ªØa l√†nh" width="90" height="90">
                </div>
                <div class="logo-content">
                    <div class="logo-main">RUBY WINGS</div>
                    <div class="logo-tagline">H√†nh tr√¨nh tr·∫£i nghi·ªám</div>
                </div>
            </a>
            <!-- Desktop Navigation -->
           	 		<nav class="nav-links">
                 <a href="index.html">Trang ch·ªß</a>
                 <a href="trai-nghiem-cam-xuc.html">Thi√™n Nhi√™n Vi·ªát Nam</a>
                <a href="ve-dep-quang-tri.html">kh√°m ph√° Mi·ªÅn Trung</a>
                <a href="nhung-hanh-trinh-tieu-bieu.html">H√†nh tr√¨nh ti√™u bi·ªÉu</a>
                <a href="nhung-hanh-trinh-tham-quan-trai-nghiem-linh-hoat.html">h√†nh tr√¨nh linh ho·∫°t</a>
                <a href="thien-va-suc-khoe.html">Retreat- Ch·ªØa l√†nh</a>
            </nav>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <!-- Mobile Navigation -->
            <nav class="nav-mobile" id="mobileNav">
                <a href="index.html">Trang ch·ªß</a>
                 <a href="trai-nghiem-cam-xuc.html">Thi√™n Nhi√™n Vi·ªát Nam</a>
                <a href="ve-dep-quang-tri.html">kh√°m ph√° Mi·ªÅn Trung</a>
                <a href="nhung-hanh-trinh-tieu-bieu.html">H√†nh tr√¨nh ti√™u bi·ªÉu</a>
                <a href="nhung-hanh-trinh-tham-quan-trai-nghiem-linh-hoat.html">h√†nh tr√¨nh linh ho·∫°t</a>
                <a href="thien-va-suc-khoe.html">Retreat- Ch·ªØa l√†nh</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="tour-hero">
            <div class="container tour-hero-content">
                <div class="tour-tag">H√ÄNH TR√åNH 6 NG√ÄY 5 ƒê√äM</div>
                <h1>Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam</h1>
                <p>"M·ªôt h√†nh tr√¨nh ƒë·∫∑c s·∫Øc d√†nh ri√™ng cho Qu√Ω kh√°ch trong d·ªãp h√®, kh√°m ph√° nh·ªØng ƒë·ªãa danh ti√™u bi·ªÉu c·ªßa Nam B·ªô v·ªõi n√©t ƒë·∫πp vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng."</p>
                <p>Ruby Wings Travel ƒë·ªìng h√†nh c√πng Qu√Ω kh√°ch tr·∫£i nghi·ªám TP.HCM - B√¨nh D∆∞∆°ng - C·∫ßn Th∆° - S√≥c TrƒÉng - B·∫°c Li√™u - C√† Mau - ƒê·ªìng Th√°p, n∆°i h·ªôi t·ª• nh·ªØng gi√° tr·ªã vƒÉn h√≥a ƒë·ªôc ƒë√°o v√† thi√™n nhi√™n tr√π ph√∫ c·ªßa mi·ªÅn T√¢y Nam B·ªô.</p>
            </div>
        </section>

        <!-- Gi·ªõi thi·ªáu Tour -->
        <section class="tour-section tour-intro">
            <div class="container">
                <div class="section-title">
                    <h2>Gi·ªõi Thi·ªáu H√†nh Tr√¨nh</h2>
                </div>
                <div class="intro-content">
                    <div class="intro-text">
                        <p><strong>Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam</strong> ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát cho d·ªãp h√®, mang ƒë·∫øn cho Qu√Ω kh√°ch m·ªôt h√†nh tr√¨nh tr·∫£i nghi·ªám ƒëa d·∫°ng v·ªÅ vƒÉn h√≥a, l·ªãch s·ª≠ v√† ƒë·ªùi s·ªëng s√¥ng n∆∞·ªõc ƒë·∫∑c tr∆∞ng c·ªßa Nam B·ªô.</p>
                        <p>Trong 6 ng√†y, ƒêo√†n s·∫Ω kh√°m ph√° nh·ªØng ƒëi·ªÉm ƒë·∫øn ti√™u bi·ªÉu t·ª´ <strong>TP.H·ªì Ch√≠ Minh</strong> v·ªõi Dinh ƒê·ªôc L·∫≠p v√† B·∫£o t√†ng Ch·ª©ng t√≠ch, ƒë·∫øn <strong>B√¨nh D∆∞∆°ng</strong> v·ªõi khu du l·ªãch ƒê·∫°i Nam r·ªông l·ªõn, r·ªìi xu√¥i v·ªÅ mi·ªÅn T√¢y v·ªõi <strong>C·∫ßn Th∆°</strong> - "T√¢y ƒê√¥" n·ªïi ti·∫øng v·ªõi ch·ª£ n·ªïi C√°i RƒÉng v√† ƒë·ªùn ca t√†i t·ª≠ tr√™n s√¥ng H·∫≠u.</p>
                        <p>H√†nh tr√¨nh ti·∫øp t·ª•c ƒë∆∞a Qu√Ω kh√°ch ƒë·∫øn <strong>S√≥c TrƒÉng</strong> v·ªõi Ch√πa Ch√©n Ki·ªÉu ƒë·ªôc ƒë√°o, <strong>B·∫°c Li√™u</strong> v·ªõi nh√† C√¥ng T·ª≠ huy·ªÅn tho·∫°i, <strong>C√† Mau</strong> v·ªõi ƒëi·ªÉm c·ª±c Nam c·ªßa T·ªï qu·ªëc t·∫°i ƒê·∫•t M≈©i, v√† <strong>ƒê·ªìng Th√°p</strong> v·ªõi khu sinh th√°i G√°o Gi·ªìng c√πng di t√≠ch l·ªãch s·ª≠ ƒë·∫∑c s·∫Øc.</p>
                        <p>M·ªói ƒëi·ªÉm ƒë·∫øn ƒë·ªÅu mang l·∫°i g√≥c nh√¨n phong ph√∫ v·ªÅ con ng∆∞·ªùi v√† thi√™n nhi√™n ph∆∞∆°ng Nam, v·ªõi l·ªãch tr√¨nh h√†i h√≤a, d·ªãch v·ª• chu ƒë√°o v√† ƒë·ªôi ng≈© h∆∞·ªõng d·∫´n vi√™n t·∫≠n t√¢m.</p>
                        <p><strong>Ruby Wings Travel h√¢n h·∫°nh ƒë·ªìng h√†nh c√πng Qu√Ω kh√°ch tr√™n h√†nh tr√¨nh kh√°m ph√° S·∫Øc M√†u Ph∆∞∆°ng Nam ƒë·∫ßy √Ω nghƒ©a n√†y!</strong></p>
                    </div>
                    <div class="intro-image">
                        <img src="images/dinh_doc_lap.jpg" alt="Dinh ƒê·ªôc L·∫≠p - Bi·ªÉu t∆∞·ª£ng l·ªãch s·ª≠ S√†i G√≤n" class="lazy-image">
                    </div>
                </div>
            </div>
        </section>

        <!-- ƒêi·ªÉm n·ªïi b·∫≠t -->
        <section class="tour-section tour-highlights">
            <div class="container">
                <div class="section-title">
                    <h2>ƒêi·ªÉm ƒê·∫∑c Bi·ªát</h2>
                </div>
                <div class="highlights-grid">
                    <div class="highlight-card fade-in">
                        <div class="highlight-icon">
                            <i class="fas fa-landmark"></i>
                        </div>
                        <h3>Di S·∫£n L·ªãch S·ª≠ & VƒÉn H√≥a</h3>
                        <p>Tham quan Dinh ƒê·ªôc L·∫≠p, B·∫£o t√†ng Ch·ª©ng t√≠ch chi·∫øn tranh, Ch√πa Ch√©n Ki·ªÉu, nh√† C√¥ng T·ª≠ B·∫°c Li√™u, Khu di t√≠ch C·ª• Ph√≥ b·∫£ng Nguy·ªÖn Sinh S·∫Øc - nh·ªØng di s·∫£n ƒë·∫∑c tr∆∞ng c·ªßa Nam B·ªô.</p>
                    </div>
                    <div class="highlight-card fade-in">
                        <div class="highlight-icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <h3>Tr·∫£i Nghi·ªám S√¥ng N∆∞·ªõc Mi·ªÅn T√¢y</h3>
                        <p>Kh√°m ph√° ch·ª£ n·ªïi C√°i RƒÉng - m·ªôt trong 6 ch·ª£ n·ªïi l·ªõn nh·∫•t Nam K·ª≥, du thuy·ªÅn s√¥ng H·∫≠u th∆∞·ªüng th·ª©c ƒë·ªùn ca t√†i t·ª≠, tham quan h·ªá sinh th√°i r·ª´ng ng·∫≠p m·∫∑n C√† Mau.</p>
                    </div>
                    <div class="highlight-card fade-in">
                        <div class="highlight-icon">
                            <i class="fas fa-tree"></i>
                        </div>
                        <h3>Thi√™n Nhi√™n Tr√π Ph√∫</h3>
                        <p>Tr·∫£i nghi·ªám v∆∞·ªùn c√¢y ƒÉn tr√°i C·ªìn L√¢n, khu du l·ªãch sinh th√°i G√°o Gi·ªìng v·ªõi v∆∞·ªùn chim thi√™n nhi√™n, v√† ƒëi·ªÉm c·ª±c Nam T·ªï qu·ªëc t·∫°i M≈©i C√† Mau - n∆°i ƒë·∫•t li·ªÅn g·∫∑p bi·ªÉn.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- L·ªãch tr√¨nh -->
        <section class="tour-section tour-itinerary">
            <div class="container">
                <div class="section-title">
                    <h2>L·ªãch Tr√¨nh Chi Ti·∫øt</h2>
                </div>
                <div class="timeline">
                    <!-- Ng√†y 1 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 1<br>05:20 - 11:30</div>
                        <div class="timeline-content">
                            <h3>Khe Sanh - Hu·∫ø - TP H·ªì Ch√≠ Minh (S√°ng/Tr∆∞a/T·ªëi)</h3>
                            <p>05:20: Xe v√† HDV ƒë√≥n ƒëo√†n t·∫°i ƒëi·ªÉm h·∫πn kh·ªüi h√†nh ƒëi s√¢n bay Ph√∫ B√†i, l√†m th·ªß t·ª•c ƒë√°p chuy·∫øn bay HUI ‚Äì SGN (09:45 ‚Äì 11:10) c·ªßa h√£ng h√†ng kh√¥ng Vietjet VJ305.</p>
                            <p>07:00: Qu√Ω kh√°ch d√πng b·ªØa s√°ng t·∫°i th√†nh ph·ªë Hu·∫ø - th∆∞·ªüng th·ª©c ƒëi·ªÉm t√¢m s√°ng v·ªõi ƒë·∫∑c s·∫£n "B√∫n Hu·∫ø".</p>
                            <p>11:30: Qu√Ω kh√°ch d√πng c∆°m tr∆∞a, nh·∫≠n ph√≤ng kh√°ch s·∫°n ngh·ªâ ng∆°i.</p>
                        </div>
                    </div>
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">13:30 - 18:00</div>
                        <div class="timeline-content">
                            <h3>Dinh ƒê·ªôc L·∫≠p & B·∫£o T√†ng Ch·ª©ng T√≠ch</h3>
                            <p>13:30: Qu√Ω kh√°ch kh·ªüi h√†nh tham quan Dinh ƒê·ªôc L·∫≠p - t·ªïng h√†nh dinh c·ªßa ch√≠nh quy·ªÅn S√†i G√≤n c≈© do M·ªπ h·∫≠u thu·∫´n t·∫°i mi·ªÅn Nam Vi·ªát Nam.</p>
                            <p>15:00: Tham quan B·∫£o t√†ng Ch·ª©ng t√≠ch - n∆°i tr∆∞ng b√†y t·ªôi √°c c·ªßa chi·∫øn tranh. Sau ƒë√≥ qu√Ω kh√°ch c√≥ th·ªÉ d·∫°o ch∆°i ch·ª£ B·∫øn Th√†nh, t·ª± do mua s·∫Øm t·∫°i ƒë√¢y.</p>
                            <p>18:00: ƒêo√†n d√πng c∆°m t·ªëi, t·ª± do v·ªÅ ƒë√™m.</p>
                        </div>
                    </div>

                    <!-- Ng√†y 2 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 2<br>07:30 - 17:00</div>
                        <div class="timeline-content">
                            <h3>TP H·ªì Ch√≠ Minh ‚Äì B√¨nh D∆∞∆°ng (S√°ng/Tr∆∞a/T·ªëi)</h3>
                            <p>D√πng ƒëi·ªÉm t√¢m t·∫°i kh√°ch s·∫°n. 07:30: Tr·∫£ ph√≤ng, kh·ªüi h√†nh ƒëi B√¨nh D∆∞∆°ng.</p>
                            <p>11:30: ƒêo√†n d√πng c∆°m tr∆∞a, ngh·ªâ ng∆°i trong khu du l·ªãch ƒê·∫°i Nam. Sau ƒë√≥ c√πng H∆∞·ªõng d·∫´n vi√™n kh·ªüi h√†nh tham quan Kim ƒêi·ªán - ƒë·ªÅn th·ªù l·ªõn nh·∫•t ƒê√¥ng Nam √Å, tham quan check-in d√£y n√∫i Ng≈© H√†nh S∆°n nh√¢n t·∫°o l·ªõn nh·∫•t th·∫ø gi·ªõi.</p>
                            <p>Ti·∫øp t·ª•c h√†nh tr√¨nh, ƒëo√†n t·ª± do tham quan v∆∞·ªùn th√∫, tr·∫£i nghi·ªám bi·ªÉn nh√¢n t·∫°o, c√¥ng vi√™n n∆∞·ªõc ho·∫∑c tham gia c√°c tr√≤ ch∆°i c·∫£m gi√°c m·∫°nh nh∆∞ 18 t·∫ßng ƒë·ªãa ng·ª•c, ƒëua xe F1, xem phim 3D, 4D, t√†u l∆∞·ª£n si√™u t·ªëc...</p>
                            <p>17:00: Qu√Ω kh√°ch d√πng c∆°m t·ªëi, ngh·ªâ ng∆°i t·∫°i Th√†nh ph·ªë Th·ªß D·∫ßu M·ªôt.</p>
                        </div>
                    </div>

                    <!-- Ng√†y 3 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 3<br>07:00 - 18:00</div>
                        <div class="timeline-content">
                            <h3>TP Th·ªß D·∫ßu M·ªôt ‚Äì TP C·∫ßn Th∆° (S√°ng/Tr∆∞a/T·ªëi)</h3>
                            <p>D√πng ƒëi·ªÉm t√¢m t·∫°i kh√°ch s·∫°n. 07:00: Tr·∫£ ph√≤ng kh√°ch s·∫°n, kh·ªüi h√†nh ƒëi th√†nh ph·ªë C·∫ßn Th∆° - ƒë∆∞·ª£c m·ªánh danh l√† T√¢y ƒê√¥ - Kinh ƒë√¥ c·ªßa Mi·ªÅn T√¢y.</p>
                            <p>09:30: ƒêo√†n ƒë·∫øn b·∫øn t√†u 30/4, l√™n thuy·ªÅn m√°y du ngo·∫°n s√¥ng Ti·ªÅn, ng·∫Øm C·∫ßu R·∫°ch Mi·ªÖu, chi√™m ng∆∞·ª°ng T·ª© Linh s√¥ng Ti·ªÅn - 4 c√π lao Long - L√¢n - Quy - Ph·ª•ng. ƒêo√†n ƒë·∫øn C·ªìn L√¢n tham quan v∆∞·ªùn c√¢y ƒÉn tr√°i, th∆∞·ªüng th·ª©c tr√°i c√¢y v√† giao l∆∞u "ƒë·ªùn ca t√†i t·ª≠", u·ªëng tr√† m·∫≠t ong.</p>
                            <p>12:00: Qu√Ω kh√°ch d√πng c∆°m tr∆∞a v·ªõi nh·ªØng m√≥n ƒÉn ƒë·∫∑c s·∫£n c·ªßa ng∆∞·ªùi d√¢n Nam B·ªô.</p>
                            <p>Sau ƒë√≥ di chuy·ªÉn ƒëi TP C·∫ßn Th∆°, tr√™n ƒë∆∞·ªùng qu√Ω kh√°ch chi√™m ng∆∞·ª°ng nh·ªØng chi·∫øc c·∫ßu treo n·ªïi ti·∫øng: C·∫ßu M·ªπ Thu·∫≠n, C·∫ßu C·∫ßn Th∆°, C·∫ßu R·∫°ch Mi·ªÖu...</p>
                            <p>16:30: Qu√Ω kh√°ch ƒë·∫øn TP C·∫ßn Th∆°, nh·∫≠n ph√≤ng t·ª± do ngh·ªâ ng∆°i.</p>
                            <p>18:00: Qu√Ω kh√°ch di chuy·ªÉn ƒë·∫øn b·∫øn Ninh Ki·ªÅu, l√™n thuy·ªÅn du thuy·ªÅn s√¥ng H·∫≠u - th∆∞·ªüng th·ª©c "ƒê·ªùn ca t√†i t·ª≠" Nam B·ªô v√† d√πng c∆°m t·ªëi tr√™n thuy·ªÅn, th∆∞·ªüng th·ª©c c√°c m√≥n ƒÉn ƒë·∫≠m ch·∫•t h∆∞∆°ng v·ªã mi·ªÅn T√¢y.</p>
                        </div>
                    </div>

                    <!-- Ng√†y 4 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 4<br>05:00 - 18:00</div>
                        <div class="timeline-content">
                            <h3>TP C·∫ßn Th∆° - S√≥c TrƒÉng ‚Äì C√† Mau (S√°ng/Tr∆∞a/T·ªëi)</h3>
                            <p>05:00: Qu√Ω kh√°ch tham quan ch·ª£ n·ªïi C√°i RƒÉng - m·ªôt trong 6 ch·ª£ n·ªïi l·ªõn nh·∫•t L·ª•c t·ªânh Nam K·ª≥, t√¨m hi·ªÉu n√©t vƒÉn ho√° ƒë·∫∑c tr∆∞ng, ƒë∆∞·ª£c UNESCO c√¥ng nh·∫≠n l√† di s·∫£n vƒÉn h√≥a.</p>
                            <p>06:30: Qu√Ω kh√°ch d√πng ƒëi·ªÉm t√¢m s√°ng. Sau ƒë√≥ ƒëo√†n di chuy·ªÉn ƒëi S√≥c TrƒÉng.</p>
                            <p>08:30: Qu√Ω kh√°ch tham quan Ch√πa SaLon (Ch√πa Ch√©n Ki·ªÉu) - ng√¥i ch√πa ƒë·ªôc ƒë√°o mang ki·∫øn tr√∫c Ph·∫≠t gi√°o Ti·ªÉu th·ª´a Nam T√¥ng, t√¨m hi·ªÉu v·ªÅ cu·ªôc s·ªëng c·ªßa ng∆∞·ªùi d√¢n Kh∆° Me Vi·ªát Nam.</p>
                            <p>10:30: Tham quan nh√† C√¥ng T·ª≠ B·∫°c Li√™u - ƒëi·ªÉm du l·ªãch n·ªïi ti·∫øng, m·ªôt trong 3 ng√¥i nh√† c·ªï l√¢u ƒë·ªùi ƒë·∫°i di·ªán cho vƒÉn h√≥a mi·ªÅn T√¢y ng√†y x∆∞a, g·∫Øn li·ªÅn v·ªõi huy·ªÅn tho·∫°i C√¥ng t·ª≠ B·∫°c Li√™u.</p>
                            <p>11:30: D√πng c∆°m tr∆∞a t·∫°i nh√† h√†ng C√¥ng T·ª≠ B·∫°c Li√™u, ngh·ªâ ng∆°i.</p>
                            <p>13:30: Qu√Ω kh√°ch h√†nh tr√¨nh di chuy·ªÉn v·ªÅ TP C√† Mau.</p>
                            <p>15:30: ƒêo√†n ƒë·∫øn C√† Mau, nh·∫≠n ph√≤ng ngh·ªâ ng∆°i.</p>
                            <p>18:00: ƒêo√†n d√πng c∆°m t·ªëi v·ªõi nh·ªØng m√≥n ƒÉn c·ªßa ng∆∞·ªùi d√¢n b·∫£n ƒë·ªãa. T·ª± do t√¨m hi·ªÉu ƒë·ªùi s·ªëng ng∆∞·ªùi d√¢n TP C√† Mau v·ªÅ ƒë√™m.</p>
                        </div>
                    </div>

                    <!-- Ng√†y 5 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 5<br>06:30 - 19:00</div>
                        <div class="timeline-content">
                            <h3>C√† Mau ‚Äì ƒê·∫•t M≈©i ‚Äì ƒê·ªìng Th√°p (S√°ng/Tr∆∞a/T·ªëi)</h3>
                            <p>06:30: Qu√Ω kh√°ch l√†m th·ªß t·ª•c tr·∫£ ph√≤ng kh√°ch s·∫°n, d√πng ƒëi·ªÉm t√¢m s√°ng.</p>
                            <p>08:00: Xe ƒë∆∞a qu√Ω kh√°ch ƒë·∫øn th·ªã tr·∫•n NƒÉm CƒÉn, tr√™n h√†nh tr√¨nh ƒë∆∞·ª£c nghe h∆∞·ªõng d·∫´n vi√™n gi·ªõi thi·ªáu v·ªÅ cu·ªôc s·ªëng v√† con ng∆∞·ªùi C√† Mau.</p>
                            <p>09:00: Xe ƒë·∫øn b·∫øn t√†u ·ªü NƒÉm CƒÉn, qu√Ω kh√°ch l√™n ca n√¥ ƒëi tham quan Khu cƒÉn c·ª© R·ª´ng ƒê∆∞·ªõc, nghe k·ªÉ chuy·ªán B√°c Ba Phi. Tr√™n ƒë∆∞·ªùng ƒëi tr·∫£i nghi·ªám h·ªá sinh th√°i r·ª´ng ng·∫≠p m·∫∑n C√† Mau.</p>
                            <p>ƒê·∫øn M≈©i C√† Mau, qu√Ω kh√°ch c√≥ th·ªÉ ng·∫Øm c·∫£nh, check-in t·∫°i M·ªëc t·ªça ƒë·ªô Qu·ªëc gia ‚Äì GPS 0001; tham quan bi·ªÉu t∆∞·ª£ng M≈©i C√† Mau; tham quan h·ªá sinh th√°i r·ª´ng ng·∫≠p m·∫∑n phong ph√∫ t·∫°i V∆∞·ªùn Qu·ªëc Gia M≈©i C√† Mau ‚Äì Khu D·ª± tr·ªØ Sinh quy·ªÉn Th·∫ø gi·ªõi.</p>
                            <p>11:00: Qu√Ω kh√°ch l√™n cano ƒë·ªÉ tr·ªü l·∫°i th·ªã tr·∫•n NƒÉm CƒÉn.</p>
                            <p>12:00: Xe ƒë∆∞a qu√Ω kh√°ch ƒëi d√πng c∆°m tr∆∞a t·∫°i nh√† h√†ng ƒë·ªãa ph∆∞∆°ng t·∫°i NƒÉm CƒÉn, th∆∞·ªüng th·ª©c c√°c ƒë·∫∑c s·∫£n c·ªßa x·ª© C√† Mau.</p>
                            <p>13:30: Qu√Ω kh√°ch l√™n xe ƒëi TP Cao L√£nh - ƒê·ªìng Th√°p.</p>
                            <p>17:00: D√πng c∆°m t·ªëi t·∫°i nh√† h√†ng ƒë·ªãa ph∆∞∆°ng, sau ƒë√≥ ti·∫øp t·ª•c h√†nh tr√¨nh di chuy·ªÉn ƒë·∫øn ƒê·ªìng Th√°p.</p>
                            <p>19:00: V·ªÅ ƒë·∫øn TP Cao L√£nh, nh·∫≠n ph√≤ng kh√°ch s·∫°n, ngh·ªâ ng∆°i. Bu·ªïi t·ªëi Qu√Ω kh√°ch t·ª± do ƒëi d·∫°o, kh√°m ph√° TP Cao L√£nh v·ªÅ ƒë√™m.</p>
                        </div>
                    </div>

                    <!-- Ng√†y 6 -->
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">Ng√†y 6<br>06:30 - 11:45</div>
                        <div class="timeline-content">
                            <h3>Tham quan ƒê·ªìng Th√°p ‚Äì TP H·ªì Ch√≠ Minh (S√°ng/Tr∆∞a/--)</h3>
                            <p>06:30: Qu√Ω kh√°ch l√†m th·ªß t·ª•c tr·∫£ ph√≤ng kh√°ch s·∫°n, d√πng ƒëi·ªÉm t√¢m s√°ng.</p>
                            <p>08:00: Xe ƒë∆∞a qu√Ω kh√°ch tham quan Khu Di t√≠ch C·ª• Ph√≥ b·∫£ng Nguy·ªÖn Sinh S·∫Øc (g·ªìm nh√† s√†n B√°c H·ªì, Khu m·ªô C·ª• Ph√≥ b·∫£ng v√† L√†ng H√≤a An x∆∞a ‚Äì n∆°i t√°i hi·ªán ng√¥i l√†ng m√† C·ª• Nguy·ªÖn Sinh S·∫Øc ƒë√£ t·ª´ng s·ªëng tr∆∞·ªõc ƒë√¢y); tham quan B·∫£o t√†ng ƒê·ªìng Th√°p (n∆°i tr∆∞ng b√†y di ch·ªâ c·ªßa n·ªÅn vƒÉn h√≥a √ìc Eo v√† nh·ªØng sinh ho·∫°t vƒÉn h√≥a ƒë·∫∑c tr∆∞ng c·ªßa n·ªÅn vƒÉn h√≥a ƒê·ªìng b·∫±ng s√¥ng C·ª≠u Long).</p>
                            <p>09:00: Qu√Ω kh√°ch ti·∫øp t·ª•c tham quan Khu du l·ªãch sinh th√°i G√°o Gi·ªìng. B∆°i xu·ªìng xuy√™n r·ª´ng tr√†m, tham quan khu v∆∞·ªùn chim thi√™n nhi√™n v√†o m√πa n∆∞·ªõc n·ªïi g·ªìm nhi·ªÅu lo·∫°i chim nh∆∞ c√≤, v·∫°c, tr√≠ch, le le, ƒëi√™n ƒëi·ªÉn... L√™n ƒë√†i quan s√°t ng·∫Øm to√†n c·∫£nh khu sinh th√°i v·ªõi th·∫£m th·ª±c v·∫≠t phong ph√∫ nh∆∞ tr√†m, sen, b√¥ng s√∫ng, nƒÉng, s·∫≠y...</p>
                            <p>11:00: D√πng c∆°m tr∆∞a t·∫°i nh√† h√†ng ƒë·ªãa ph∆∞∆°ng - khu du l·ªãch G√°o Gi·ªìng.</p>
                            <p>11:45: Qu√Ω kh√°ch v·ªÅ l·∫°i TP.HCM.</p>
                        </div>
                    </div>
                    <div class="timeline-item fade-in">
                        <div class="timeline-time">16:00 - K·∫øt th√∫c</div>
                        <div class="timeline-content">
                            <h3>Chia tay mi·ªÅn T√¢y</h3>
                            <p>16:00: ƒê·∫øn TP H·ªì Ch√≠ Minh, ƒë√°p chuy·∫øn bay l√∫c 17:45 ‚Äì 20:40 c·ªßa h√£ng h√†ng kh√¥ng Vietjet. ƒÇn ch√°o ƒë√™m t·∫°i Hu·∫ø, sau ƒë√≥ xe ƒë∆∞a qu√Ω kh√°ch v·ªÅ Khe Sanh, k·∫øt th√∫c tour. Chia tay ƒëo√†n v√† h·∫πn g·∫∑p l·∫°i qu√Ω kh√°ch trong c√°c tour sau.</p>
                        </div>
                    </div>
                </div>
                <p class="text-justify pricing-note" style="margin-top: 40px;">
                    <strong>L∆∞u √Ω:</strong> Th·ªùi gian mang t√≠nh t∆∞∆°ng ƒë·ªëi; ch∆∞∆°ng tr√¨nh tour c√≥ th·ªÉ ho√°n ƒë·ªïi th·ª© t·ª± ƒëi·ªÉm tham quan theo h√†nh tr√¨nh bay v√† s·ª± s·∫Øp x·∫øp c·ªßa C√¥ng ty ho·∫∑c HDV ƒë·ªãa ph∆∞∆°ng nh∆∞ng v·∫´n ƒë·∫£m b·∫£o ƒë·∫ßy ƒë·ªß ƒëi·ªÉm tham quan c√≥ trong ch∆∞∆°ng tr√¨nh.
                </p>
            </div>
        </section>

        <!-- Th√¥ng tin gi√° -->
        <section class="tour-section tour-pricing" id="booking">
            <div class="container">
                <div class="section-title">
                    <h2>Th√¥ng Tin Chi Ph√≠ & D·ªãch V·ª•</h2>
                </div>
                <div class="pricing-content">
                    <div class="included">
                        <h3>Chi Ph√≠ H√†nh Tr√¨nh Bao G·ªìm</h3>
                        <ul>
                            <li><strong>V·∫≠n chuy·ªÉn:</strong> Xe ch·∫•t l∆∞·ª£ng cao ƒë∆∞a ƒë√≥n ƒëo√†n theo ch∆∞∆°ng tr√¨nh; xe ƒë·ªùi m·ªõi (2022-2025) ƒë∆∞a ƒë√≥n theo ch∆∞∆°ng tr√¨nh.</li>
                            <li><strong>ƒÇn u·ªëng:</strong> 11 b·ªØa ch√≠nh (150.000ƒë/su·∫•t, menu thay ƒë·ªïi theo ƒë·∫∑c s·∫£n ƒë·ªãa ph∆∞∆°ng), ƒÉn s√°ng t·∫°i kh√°ch s·∫°n, ng√†y ƒë·∫ßu ti√™n 1 t√¥ + 1 ly.</li>
                            <li><strong>L∆∞u tr√∫:</strong> Kh√°ch s·∫°n (ho·∫∑c resort) 3* tr·ªü l√™n (2 ng∆∞·ªùi/ph√≤ng; l·∫ª nam/n·ªØ ng·ªß ph√≤ng 3).</li>
                            <li><strong>H∆∞·ªõng d·∫´n vi√™n:</strong> HDV chuy√™n nghi·ªáp theo ƒëo√†n su·ªët h√†nh tr√¨nh.</li>
                            <li><strong>D·ªãch v·ª• k√®m theo:</strong> N∆∞·ªõc u·ªëng, n√≥n du l·ªãch, b·∫£o hi·ªÉm du l·ªãch theo quy ƒë·ªãnh.</li>
                            <li><strong>V√© tham quan:</strong> V√© v√†o c·ª≠a l·∫ßn ƒë·∫ßu c√°c ƒëi·ªÉm tham quan c√≥ trong ch∆∞∆°ng tr√¨nh.</li>
                        </ul>
                    </div>
                    <div class="excluded">
                        <h3>Chi Ph√≠ Kh√¥ng Bao G·ªìm</h3>
                        <ul>
                            <li><strong>V√© m√°y bay kh·ª© h·ªìi:</strong> V√© m√°y bay kh·ª© h·ªìi c·ªßa h√£ng h√†ng kh√¥ng Vietjet (mua theo th·ªùi ƒëi·ªÉm ch·ªë).</li>
                            <li><strong>Thu·∫ø VAT & chi ph√≠ c√° nh√¢n:</strong> ƒêi·ªán tho·∫°i, gi·∫∑t ·ªßi, mua s·∫Øm, bia, n∆∞·ªõc ng·ªçt trong c√°c b·ªØa ƒÉn; chi ph√≠ n√¢ng ch·∫•t l∆∞·ª£ng b·ªØa ƒÉn cho kh√°ch VIP (tƒÉng 50.000 ‚Äì 80.000ƒë/pax/b·ªØa).</li>
                            <li><strong>Chi ph√≠ t·ª± t√∫c:</strong> T·ª± do tr·∫£i nghi·ªám c√°c d·ªãch v·ª• b√™n trong t·∫°i c√°c ƒëi·ªÉm tham quan; ho√° ƒë∆°n t√†i ch√≠nh VAT.</li>
                            <li><strong>Ti·ªÅn tip:</strong> B·ªìi d∆∞·ª°ng cho HDV & L√°i xe (th√¥ng l·ªá kho·∫£ng 30.000ƒë/ng√†y/kh√°ch).</li>
                            <li><strong>Ph·ª• thu L·ªÖ/T·∫øt & cu·ªëi tu·∫ßn:</strong> N·∫øu chuy·ªÉn th·ªùi gian tham quan r∆°i v√†o L·ªÖ, T·∫øt, cu·ªëi tu·∫ßn ‚Äì chi ph√≠ tour v√†o Th·ª© 6, B·∫£y ho·∫∑c l·ªÖ t·∫øt s·∫Ω cao h∆°n t·ª´ 10 ‚Äì 25% tu·ª≥ t·ª´ng d·ªãch v·ª•; ph·ª• thu ph√≤ng ƒë∆°n n·∫øu ng·ªß ri√™ng (350.000 VNƒê/ƒë√™m).</li>
                        </ul>
                    </div>
                    <div class="policies">
                        <h3>Ghi Ch√∫ & Ch√≠nh S√°ch</h3>
                        <ul>
                            <li>
                                <strong>Ghi ch√∫ chi ph√≠:</strong><br>
                                Chi ph√≠ d·ªãch v·ª• c√≥ th·ªÉ thay ƒë·ªïi t√πy m√πa v·ª• v√† c√°c y·∫øu t·ªë li√™n quan. B·∫£ng gi√° ch·ªâ mang t√≠nh tham kh·∫£o; chi ph√≠ ch√≠nh th·ª©c s·∫Ω ƒë∆∞·ª£c x√°c nh·∫≠n sau khi th·ªëng nh·∫•t h·∫°ng m·ª•c d·ªãch v·ª•. Gi√° c√≥ xu h∆∞·ªõng tƒÉng d·∫ßn khi g·∫ßn ƒë·∫øn ng√†y kh·ªüi h√†nh.
                            </li>
                            <li>
                                <strong>Ch√≠nh s√°ch gi√° tour tr·∫ª em:</strong><br>
                                - T·ª´ 11 tu·ªïi tr·ªü l√™n: mua 01 v√© nh∆∞ ng∆∞·ªùi l·ªõn;<br>
                                - T·ª´ 8 ƒë·∫øn d∆∞·ªõi 11 tu·ªïi: mua 75% v√© (su·∫•t ƒÉn ng∆∞·ªùi l·ªõn, ng·ªß c√πng b·ªë m·∫π);<br>
                                - T·ª´ 4 ƒë·∫øn d∆∞·ªõi 7 tu·ªïi: mua 50% v√© (su·∫•t ƒÉn tr·∫ª em, ng·ªß c√πng b·ªë m·∫π, ng·ªß gi∆∞·ªùng ri√™ng ph·ª• thu nh∆∞ ng∆∞·ªùi l·ªõn);<br>
                                - D∆∞·ªõi 4 tu·ªïi: kh√¥ng t√≠nh v√©, gia ƒë√¨nh t·ª± lo. 02 ng∆∞·ªùi l·ªõn ch·ªâ ƒë∆∞·ª£c k√®m 01 tr·∫ª em, t·ª´ tr·∫ª th·ª© 02 tr·ªü l√™n ph·∫£i mua ¬Ω v√© (ti√™u chu·∫©n ¬Ω v√©: 01 su·∫•t ƒÉn + 01 gh·∫ø ng·ªìi, ng·ªß chung v·ªõi gia ƒë√¨nh).
                            </li>
                            <li>
                                <strong>Ch√≠nh s√°ch hu·ª∑ tour (do kh√°ch hu·ª∑):</strong><br>
                                - Tr∆∞·ªõc 14 ng√†y: kh√¥ng thu ph√≠; T·ª´ 07 ‚Äì 13 ng√†y: 30% gi√° tour; T·ª´ 05 ‚Äì 06 ng√†y: 50% gi√° tour; T·ª´ 03 ‚Äì 04 ng√†y: 75% gi√° tour; T·ª´ 01 ‚Äì 02 ng√†y: 90% gi√° tour; Ng√†y kh·ªüi h√†nh: 100% gi√° tour.
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="pricing-cta">
                    <button onclick="handleRegistration()" id="registrationCostButton" class="btn" style="font-size: 1.3rem; padding: 18px 50px; font-weight: 700;">
                        <i class="fas fa-calendar-check"></i> TH√îNG TIN CHI PH√ç V√Ä ƒêƒÇNG K√ù
                    </button>
                    <p class="pricing-note">Chi ti·∫øt b·∫£ng gi√° v√† c√°c l·ª±a ch·ªçn d·ªãch v·ª• ƒë∆∞·ª£c tr√¨nh b√†y ƒë·∫ßy ƒë·ªß trong Form "Th√¥ng tin chi ph√≠ v√† ƒëƒÉng k√Ω".</p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="tour-section tour-faq">
            <div class="container">
                <div class="section-title">
                    <h2>C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h2>
                </div>
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Tour "S·∫Øc M√†u Ph∆∞∆°ng Nam" 6N5ƒê n√†y c√≥ ph√π h·ª£p v·ªõi gia ƒë√¨nh v√† kh√°ch l·ªõn tu·ªïi kh√¥ng?</span>
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>L·ªãch tr√¨nh ƒë∆∞·ª£c thi·∫øt k·∫ø c√¢n b·∫±ng gi·ªØa tham quan, tr·∫£i nghi·ªám v√† ngh·ªâ d∆∞·ª°ng, ph√π h·ª£p cho gia ƒë√¨nh c√≥ tr·∫ª em c≈©ng nh∆∞ kh√°ch l·ªõn tu·ªïi. Tuy nhi√™n, ch∆∞∆°ng tr√¨nh c√≥ nhi·ªÅu ƒëi·ªÉm di chuy·ªÉn (TP.HCM, B√¨nh D∆∞∆°ng, C·∫ßn Th∆°, S√≥c TrƒÉng, B·∫°c Li√™u, C√† Mau, ƒê·ªìng Th√°p) v√† c√°c ho·∫°t ƒë·ªông tr√™n s√¥ng n∆∞·ªõc (thuy·ªÅn m√°y, ca n√¥, xu·ªìng nh·ªè). Qu√Ω kh√°ch l·ªõn tu·ªïi v√† tr·∫ª nh·ªè n√™n mang gi√†y ƒë·∫ø m·ªÅm, kem ch·ªëng n·∫Øng v√† chu·∫©n b·ªã s·ª©c kh·ªèe ph√π h·ª£p. N·∫øu c√≥ t√¨nh tr·∫°ng s·ª©c kh·ªèe ƒë·∫∑c bi·ªát, vui l√≤ng th√¥ng b√°o tr∆∞·ªõc ƒë·ªÉ HDV h·ªó tr·ª£ t·ªët nh·∫•t.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>T√¥i c·∫ßn chu·∫©n b·ªã g√¨ khi ƒëi tour mi·ªÅn T√¢y v√†o m√πa h√®?</span>
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Qu√Ω kh√°ch vui l√≤ng mang theo CMND/CCCD/H·ªô chi·∫øu c√≤n h·∫°n ƒë·ªÉ l√†m th·ªß t·ª•c bay v√† nh·∫≠n ph√≤ng. Th·ªùi ti·∫øt mi·ªÅn Nam m√πa h√® n·∫Øng n√≥ng, ƒë√¥i l√∫c c√≥ m∆∞a r√†o, n√™n chu·∫©n b·ªã m≈©/n√≥n (m≈©/n√≥n C√¥ng ty t·∫∑ng), k√≠nh r√¢m, kem ch·ªëng n·∫Øng, √°o kho√°c nh·∫π, √¥/√°o m∆∞a m·ªèng, b√¨nh n∆∞·ªõc c√° nh√¢n v√† gi√†y th·ªÉ thao ho·∫∑c gi√†y ƒë·∫ø m·ªÅm ƒë·ªÉ di chuy·ªÉn tho·∫£i m√°i. Khi tham quan c√°c ƒëi·ªÉm vƒÉn h√≥a ‚Äì l·ªãch s·ª≠ (Dinh ƒê·ªôc L·∫≠p, B·∫£o t√†ng Ch·ª©ng t√≠ch, Ch√πa Ch√©n Ki·ªÉu...), n√™n m·∫∑c trang ph·ª•c l·ªãch s·ª±, tr√°nh ph·∫£n c·∫£m khi v√†o kh√¥ng gian t√¥n nghi√™m.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Chi ph√≠ tour ƒë√£ bao g·ªìm v√© tham quan & ƒÉn u·ªëng ch∆∞a?</span>
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Chi ph√≠ tour ƒë√£ bao g·ªìm xe ch·∫•t l∆∞·ª£ng cao ƒë∆∞a ƒë√≥n theo ch∆∞∆°ng tr√¨nh, 11 b·ªØa ch√≠nh (150.000ƒë/su·∫•t), ƒÉn s√°ng t·∫°i kh√°ch s·∫°n, kh√°ch s·∫°n 3* tr·ªü l√™n, HDV chuy√™n nghi·ªáp, b·∫£o hi·ªÉm du l·ªãch, n√≥n du l·ªãch v√† v√© v√†o c·ª≠a l·∫ßn ƒë·∫ßu t·∫°i c√°c ƒëi·ªÉm tham quan trong ch∆∞∆°ng tr√¨nh. Chi ph√≠ <strong>ch∆∞a</strong> bao g·ªìm v√© m√°y bay kh·ª© h·ªìi ƒê√† N·∫µng ‚Äì TP.HCM, VAT, chi ph√≠ c√° nh√¢n, tip, d·ªãch v·ª• ph√°t sinh ngo√†i ch∆∞∆°ng tr√¨nh v√† ph·ª• thu L·ªÖ/T·∫øt.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>An to√†n khi ƒëi thuy·ªÅn/ca n√¥ v√† c√°c l∆∞u √Ω quan tr·ªçng kh√°c l√† g√¨?</span>
                            <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div class="faq-answer">
                            <p>Khi tham quan ch·ª£ n·ªïi C√°i RƒÉng, C·ªìn L√¢n ‚Äì C·ªìn Ph·ª•ng, r·ª´ng ng·∫≠p m·∫∑n C√† Mau, ∆∞u ti√™n ng·ªìi ƒë√∫ng v·ªã tr√≠, mang √°o phao theo h∆∞·ªõng d·∫´n, kh√¥ng t·ª± √Ω ƒë·ª©ng d·∫≠y khi thuy·ªÅn ƒëang di chuy·ªÉn. T·∫°i ch·ª£ B·∫øn Th√†nh, b·∫øn Ninh Ki·ªÅu, c√°c khu du l·ªãch ƒë√¥ng ng∆∞·ªùi‚Ä¶ Qu√Ω kh√°ch l∆∞u √Ω gi·ªØ g√¨n ƒëi·ªán tho·∫°i, v√≠, t∆∞ trang. Ng∆∞·ªùi c√≥ ti·ªÅn s·ª≠ say xe, b·ªánh n·ªÅn ho·∫∑c d√πng thu·ªëc ƒë·∫∑c tr·ªã n√™n chu·∫©n b·ªã s·∫µn thu·ªëc v√† th√¥ng b√°o tr∆∞·ªõc cho h∆∞·ªõng d·∫´n vi√™n ƒë·ªÉ h·ªó tr·ª£ k·ªãp th·ªùi. Kh√¥ng x·∫£ r√°c t·∫°i di t√≠ch v√† khu sinh th√°i; tu√¢n th·ªß h∆∞·ªõng d·∫´n c·ªßa HDV, kh√¥ng t·ª± √Ω t√°ch ƒëo√†n trong su·ªët h√†nh tr√¨nh. Lu√¥n ƒë·ªôi m≈© c√¥ng ty t·∫∑ng v√¨ n√≥ c√≤n nh∆∞ l√† 1 k√Ω hi·ªáu nh·∫≠n di·ªán ng∆∞·ªùi c·ªßa ƒêo√†n, gi·∫£m r·ªßi ro l·∫°c ƒêo√†n</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- N√∫t t∆∞ v·∫•n -->
        <div class="consultation-btn-container">
            <a href="https://forms.gle/XCWf6zgFRp4Vhbw39" class="consultation-btn" target="_blank" id="consultationBtn">
                <i class="fas fa-comments"></i> Nh·∫≠n t∆∞ v·∫•n
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3><a href="tuyen-ngon-sang-lap-ruby-wings.html" class="footer-title-link">V·ªÅ ch√∫ng t√¥i</a></h3>
                    <p>Ruby Wings Travel - N∆°i b·∫°n kh√¥ng ch·ªâ ƒë·∫øn m·ªôt n∆°i, m√† c√≤n c√≥ th·ªÉ ƒë∆∞·ª£c tr·ªü v·ªÅ v·ªõi ch√≠nh m√¨nh".</p>
                    <p> MST: 3301743759</p>
                    <div class="social-links-grid">
                        <div class="social-row">
                            <a href="https://www.facebook.com/profile.php?id=61563772112138" target="_blank" class="social-icon facebook" title="Facebook Fanpage Ruby Wings">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://www.facebook.com/tien.sy.5011/" target="_blank" class="social-icon facebook-personal" title="Facebook C√° nh√¢n Ruby Wings">
                                <i class="fas fa-user"></i>
                            </a>
                            <a href="https://x.com/TienSy379/status/1971778015232421915?t=UsXdMD8FrwjF3OO3ZnoUGg&s=19" target="_blank" class="social-icon twitter" title="Twitter Ruby Wings">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="https://www.instagram.com/tiensyrubywings?igsh=MWV3czBwMmYwYnIydA==" target="_blank" class="social-icon instagram" title="Instagram Ruby Wings">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://www.tiktok.com/@syluong379?_t=ZS-904eIdTTG12&_r=1" target="_blank" class="social-icon tiktok" title="TikTok Ruby Wings">
                                <i class="fab fa-tiktok"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/ti%E1%BA%BFn-s%E1%BB%B1-l%C6%B0%C6%A1ng-9a0292387?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" class="social-icon linkedin" title="LinkedIn Ruby Wings">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="https://wa.me/84332510486" target="_blank" class="social-icon whatsapp" title="WhatsApp Ruby Wings">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            <a href="https://zalo.me/84332510486" target="_blank" class="social-icon zalo" title="Zalo Nh·∫Øn tin Ruby Wings">
                                <img src="https://rubywings.vn/images/zalo.jpg" alt="Zalo Ruby Wings" class="zalo-icon" width="20" height="20">
                            </a>
                            <a href="https://www.youtube.com/@rubywing-slsa" target="_blank" class="social-icon youtube" title="YouTube Ruby Wings">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="https://m.me/tien.sy.5011?hash=AbY3ty4r4j7255Yb&source=qr_link_share" target="_blank" class="social-icon messenger" title="Messenger Ruby Wings">
                                <i class="fab fa-facebook-messenger"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Li√™n H·ªá</h3>
                    <div class="contact-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>148 Tr∆∞∆°ng Gia M√¥, V·ªπ D·∫° TP. Hu·∫ø</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-phone"></i>
                        <span>0332510486 </span>
                    </div>
                    <div class="contact-info">
                        <i class="fab fa-whatsapp"></i>
                        <span> Hotline: 0332510486 (WhatsApp/Zalo)</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-envelope"></i>
                        <span><a href="mailto:rubywingslsa@gmail.com">rubywingslsa@gmail.com</a></span>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Tham gia c·ªông ƒë·ªìng</h3>
                    <p>Tham gia nh√≥m c·ªông ƒë·ªìng Ruby Wings ƒë·ªÉ nh·∫≠n nh·ªØng th√¥ng tin m·ªõi nh·∫•t, chia s·∫ª tr·∫£i nghi·ªám v√† lan t·ªèa nh·ªØng th√¥ng ƒëi·ªáp t·ªët ƒë·∫πp.</p>
                    <a href="https://www.facebook.com/groups/4107197836205156/" target="_blank" class="community-btn">
                        Tham gia nh√≥m <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
           
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Header functionality
            const header = document.querySelector('header');
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileNav = document.getElementById('mobileNav');
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            document.body.appendChild(overlay);
            
            // Sticky Header
            let lastScrollY = window.scrollY;
            let ticking = false;
            
            function updateHeader() {
                const scrollY = window.scrollY;
                const isMobile = window.innerWidth <= 768;
                
                if (!isMobile) {
                    if (scrollY > 100) {
                        header.classList.add('sticky');
                    } else {
                        header.classList.remove('sticky');
                    }
                    
                    if (scrollY > lastScrollY && scrollY > 100) {
                        header.style.transform = 'translateY(-100%)';
                    } else {
                        header.style.transform = 'translateY(0)';
                    }
                } else {
                    if (scrollY > lastScrollY && scrollY > 100) {
                        header.style.transform = 'translateY(-100%)';
                    } else {
                        header.style.transform = 'translateY(0)';
                    }
                }
                
                lastScrollY = scrollY;
                ticking = false;
            }
            
            function onScroll() {
                if (!ticking) {
                    requestAnimationFrame(updateHeader);
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', onScroll, { passive: true });
            
            // Mobile Menu
            function toggleMobileMenu() {
                const isActive = mobileNav.classList.contains('active');
                
                if (isActive) {
                    mobileNav.classList.remove('active');
                    mobileMenuToggle.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    mobileNav.classList.add('active');
                    mobileMenuToggle.classList.add('active');
                    overlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }
            
            mobileMenuToggle.addEventListener('click', toggleMobileMenu);
            overlay.addEventListener('click', toggleMobileMenu);
            
            // Close mobile menu when clicking on links
            const mobileLinks = mobileNav.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', toggleMobileMenu);
            });
            
            // FAQ functionality
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    // Close all other items
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    // Toggle current item
                    item.classList.toggle('active');
                });
            });
            
            // Scroll animations
            const fadeElements = document.querySelectorAll('.fade-in');
            
            function checkScroll() {
                fadeElements.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    const elementVisible = 150;
                    
                    if (elementTop < window.innerHeight - elementVisible) {
                        element.classList.add('visible');
                    }
                });
            }
            
            window.addEventListener('scroll', checkScroll);
            checkScroll(); // Check on load
            
            // Lazy loading images
            const lazyImages = document.querySelectorAll('.lazy-image');
            
            function lazyLoad() {
                lazyImages.forEach(img => {
                    if (img.getBoundingClientRect().top < window.innerHeight + 100) {
                        img.src = img.dataset.src || img.src;
                        img.classList.add('loaded');
                    }
                });
            }
            
            // Set up Intersection Observer for lazy loading
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src || img.src;
                            img.classList.add('loaded');
                            imageObserver.unobserve(img);
                        }
                    });
                });
                
                lazyImages.forEach(img => {
                    imageObserver.observe(img);
                });
            } else {
                // Fallback for older browsers
                window.addEventListener('scroll', lazyLoad);
                lazyLoad();
            }
        });

        // === H√ÄM X·ª¨ L√ù CLICK N√öT V·ªöI TRACKING ===
        function handleRegistration() {
            // Chu·∫©n ho√° d·ªØ li·ªáu ƒë·ªông cho tour, trang, n√∫t & form
            var pageUrl = window.location.href;
            var pageTitle = document.title;
            var tourTitleElement = document.querySelector('.tour-hero h1');
            var tourName = tourTitleElement ? tourTitleElement.innerText.trim() : 'Kh√°m Ph√° Mi·ªÅn ƒê·∫•t Tr√π Ph√∫ - S·∫Øc M√†u Ph∆∞∆°ng Nam 6N5ƒê';
            var registrationButton = document.getElementById('registrationCostButton');

            var buttonText = registrationButton ? registrationButton.innerText.trim() : 'TH√îNG TIN CHI PH√ç V√Ä ƒêƒÇNG K√ù';
            var buttonFeatures = registrationButton ? JSON.stringify({
                id: registrationButton.id || null,
                classes: registrationButton.className || null,
                tag: registrationButton.tagName || 'BUTTON',
                type: registrationButton.getAttribute('type') || 'button'
            }) : null;

            // Form ƒëƒÉng k√Ω chi ph√≠ & tham gia tour
            var formUrl = 'https://forms.gle/naqAP98zpFSrKqk29';
            var formFeatures = JSON.stringify({
                type: 'external_google_form',
                provider: 'google_forms',
                url: formUrl
            });

            var canonicalLink = document.querySelector('link[rel="canonical"]');
            var canonicalUrl = canonicalLink ? canonicalLink.href : pageUrl;

            var pageFeatures = JSON.stringify({
                template: 'tour_detail',
                canonical: canonicalUrl
            });

            // 1. FACEBOOK PIXEL - Track chuy·ªÉn ƒë·ªïi "Lead" v·ªõi d·ªØ li·ªáu ƒë·∫ßy ƒë·ªß
            if (typeof fbq !== 'undefined') {
                fbq('track', 'Lead', {
                    content_name: pageTitle,
                    content_category: 'Tour Du L·ªãch',
                    page_url: pageUrl,
                    page_title: pageTitle,
                    button_type: 'Cost Registration',
                    buttonText: buttonText,
                    buttonFeatures: buttonFeatures,
                    formFeatures: formFeatures,
                    pageFeatures: pageFeatures,
                    tour_name: tourName
                });
                console.log('‚úÖ Facebook Pixel: Tracked registration click', {
                    content_name: pageTitle,
                    tour_name: tourName,
                    page_url: pageUrl,
                    buttonText: buttonText
                });
            } else {
                console.warn('‚ö†Ô∏è Facebook Pixel ch∆∞a ƒë∆∞·ª£c t·∫£i');
            }
            
            // 2. GOOGLE ANALYTICS - Track s·ª± ki·ªán v·ªõi d·ªØ li·ªáu tour & trang ƒë·ªông
            if (typeof gtag !== 'undefined') {
                // GA4 Event
                gtag('event', 'registration_click', {
                    'event_category': 'conversion',
                    'event_label': tourName + ' - Cost Registration',
                    'value': 1,
                    'tour_name': tourName,
                    'page_title': pageTitle,
                    'page_location': pageUrl
                });
                
                // GA4 Generate Lead Event
                gtag('event', 'generate_lead', {
                    'event_category': 'engagement',
                    'event_label': tourName + ' Registration',
                    'page_title': pageTitle,
                    'page_location': pageUrl
                });
                
                console.log('‚úÖ Google Analytics: Tracked registration event', {
                    tour_name: tourName,
                    page_url: pageUrl
                });
            } else {
                console.warn('‚ö†Ô∏è Google Analytics ch∆∞a ƒë∆∞·ª£c t·∫£i');
            }
            
            console.log('üéØ Tracking completed - Opening registration form');
            
            // 3. M·ªû FORM ƒêƒÇNG K√ù
            setTimeout(function() {
                window.open(formUrl, '_blank');
            }, 200);
            
            return false;
        }

        // === ƒê·∫¢M B·∫¢O TRACKING HO·∫†T ƒê·ªòNG ===
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìä Registration button loaded - FB Pixel & GA4 ready');
            
            // Ki·ªÉm tra tracking scripts
            const checkTracking = setInterval(function() {
                if (typeof fbq !== 'undefined' && typeof gtag !== 'undefined') {
                    console.log('‚úÖ All tracking scripts are loaded');
                    clearInterval(checkTracking);
                }
            }, 500);
            
            // Timeout sau 5 gi√¢y
            setTimeout(function() {
                clearInterval(checkTracking);
                if (typeof fbq === 'undefined') {
                    console.warn('‚ùå Facebook Pixel not loaded after 5 seconds');
                }
                if (typeof gtag === 'undefined') {
                    console.warn('‚ùå Google Analytics not loaded after 5 seconds');
                }
            }, 5000);
        });

        // === X·ª¨ L√ù PH√çM ENTER TR√äN N√öT ===
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                const activeElement = document.activeElement;
                if (activeElement && activeElement.onclick && activeElement.onclick.name === 'handleRegistration') {
                    handleRegistration();
                }
            }
        });

        // === FALLBACK SCRIPT ƒê·∫¢M B·∫¢O TRACKING HO·∫†T ƒê·ªòNG ===
        if (typeof handleRegistration === 'undefined') {
            window.handleRegistration = function() {
                window.open('https://forms.gle/naqAP98zpFSrKqk29', '_blank');
                console.log('Fallback: Form opened without tracking');
            };
        }
    </script>
    
    

<!-- RUBY WINGS ‚Äì META PIXEL LOGIC + CONSULT BUTTON (FINAL, FIX MAP, FIX DEEPSCROLL, NO FALLBACK) -->
<script>
(function(){
'use strict';

// ================= ENHANCED FBQ SAFETY =================
// Kh·ªüi t·∫°o fbq object n·∫øu ch∆∞a c√≥ (an to√†n, kh√¥ng ghi ƒë√®)
if (typeof window.fbq !== 'function') {
  window.fbq = window.fbq || function() {
    (window.fbq.callMethod ? window.fbq.callMethod.apply(window.fbq, arguments) : 
     window.fbq.queue.push(arguments));
  };
  if (!window._fbq) window._fbq = window.fbq;
  window.fbq.push = window.fbq;
  window.fbq.loaded = true;
  window.fbq.version = '2.0';
  window.fbq.queue = [];
}

// ================= IMPROVED SESSION STORAGE =================
function getSessionFlag(key, ttlHours = 4) {
  try {
    const storageKey = 'rw_px_' + key;
    const item = sessionStorage.getItem(storageKey);
    if (!item) return false;
    
    const data = JSON.parse(item);
    const now = Date.now();
    
    // Reset n·∫øu qu√° TTL
    if (data.expiry && now > data.expiry) {
      sessionStorage.removeItem(storageKey);
      return false;
    }
    
    return true;
  } catch {
    return false;
  }
}

function setSessionFlag(key, ttlHours = 4) {
  try {
    const storageKey = 'rw_px_' + key;
    const expiry = Date.now() + (ttlHours * 60 * 60 * 1000);
    sessionStorage.setItem(storageKey, JSON.stringify({
      expiry: expiry,
      url: window.location.href,
      timestamp: new Date().toISOString()
    }));
    return true;
  } catch {
    return false;
  }
}

// ================= FIX: PIXEL QUEUE SYSTEM =================
const rwPixelQueue = [];
let rwPixelProcessor = null;

function initPixelQueue() {
  if (rwPixelProcessor) return;
  
  rwPixelProcessor = setInterval(() => {
    if (window.fbq && typeof window.fbq === 'function' && window.fbq.loaded) {
      clearInterval(rwPixelProcessor);
      rwPixelProcessor = null;
      
      // Process queued events
      while (rwPixelQueue.length) {
        const item = rwPixelQueue.shift();
        try {
          if (item.eventType === 'track') {
            window.fbq('track', item.eventName, item.params, item.options || {});
          } else {
            window.fbq('trackCustom', item.eventName, item.params);
          }
          console.log('[RW Pixel] ‚úÖ Processed queued:', item.eventName);
        } catch (e) {
          console.warn('[RW Pixel] Queue processing error:', e);
        }
      }
    }
  }, 300);
}

// ================= FIX: IMPROVED SAFE FBQ SENDER =================
function safeFbqSend(eventType, eventName, params, options) {
  try {
    // N·∫øu fbq ready, g·ª≠i ngay
    if (window.fbq && typeof window.fbq === 'function' && window.fbq.loaded) {
      if (eventType === 'track') {
        window.fbq('track', eventName, params, options || {});
      } else {
        window.fbq('trackCustom', eventName, params);
      }
      console.log('[RW Pixel] ‚úÖ Sent immediately:', eventName);
      return true;
    }
    
    // N·∫øu ch∆∞a ready, th√™m v√†o queue
    console.log('[RW Pixel] Queueing event:', eventName);
    rwPixelQueue.push({eventType, eventName, params, options});
    
    // Kh·ªüi ƒë·ªông processor n·∫øu ch∆∞a c√≥
    if (!rwPixelProcessor) {
      initPixelQueue();
    }
    
    return false;
  } catch (error) {
    console.warn('[RW Pixel] Error in safeFbqSend:', error);
    return false;
  }
}

// ================= FIX: BETTER SESSION KEY =================
function getPageKey(baseKey) {
  // T·∫°o key duy nh·∫•t cho m·ªói page + session
  return `rw_${baseKey}_${CONTENT_ID}_${window.location.pathname.replace(/\//g, '_')}`;
}

/* =========================================================
   CONFIG (GI·ªÆ NGUY√äN T·ª™ CODE C≈®)
========================================================= */
const SCROLL_DEPTH = 80;
const ENGAGED_TIME = 30000;

/* =========================================================
   CONTENT ID MAP (GI·ªÆ NGUY√äN 100%)
========================================================= */
const CONTENT_ID_MAP = {
  '': 'RW_HOME',
  'nhung-hanh-trinh-tieu-bieu': 'RW_LANDING_FEATURED',
  'nhung-hanh-trinh-tham-quan-trai-nghiem-linh-hoat': 'RW_LANDING_FLEX',
  'ngon-lua-truong-son-2n1d': 'RW_TOUR_NLTSON_2N1D',
  'mua-do-va-tay-truong-son-2n1d': 'RW_TOUR_MUADO_TSON_2N1D',
  'hanh-trinh-lanh-dao-3n2d': 'RW_TOUR_LANHDAO_3N2D',
  'di-san-quoc-gia-2n1d': 'RW_TOUR_DISANQG_2N1D',
  'huyen-thoai-nguoi-phu-nu-viet-nam-3n2d': 'RW_TOUR_PHUNUVN_3N2D',
  'dmz-hoa-giai-ban-sac-4n3d': 'RW_TOUR_DMZ_4N3D',
  'hanh-trinh-trai-nghiem-linh-hoat': 'RW_FLEX_GENERAL',
  'hanh-trinh-giao-duc-ky-nang-song': 'RW_FLEX_EDU_SKILL',
  'hanh-trinh-trai-nghiem-thien-nhien': 'RW_FLEX_NATURE',
  'hanh-trinh-van-hoa-di-san': 'RW_FLEX_HERITAGE',
  'tom_tat_ho_so_hanh_trinh_mau_cho_nha_truong': 'RW_PROFILE_SCHOOL',
  '01-mo-dau-ruby-wings-la-ai': 'RW_ABOUT_01',
  '02-cau-chuyen-khoi-nguon': 'RW_ABOUT_02',
  '03-triet-ly-gia-tri': 'RW_ABOUT_03',
  '04-logo-y-nghia': 'RW_ABOUT_04',
  '05-he-sinh-thai-ruby-wings': 'RW_ABOUT_05',
  'dich-vu-du-lich-trai-nghiem': 'RW_SERVICE_EXPERIENCE',
  'dich-vu-retreat-chua-lanh': 'RW_SERVICE_RETREAT',
  'dich-vu-team-building': 'RW_SERVICE_TEAMBUILDING',
  'dich-vu-giao-duc-ky-nang': 'RW_SERVICE_EDUCATION',
  'lien-he': 'RW_CONTACT',
  'gioi-thieu': 'RW_ABOUT',
  'theo_dong_di_san_mien_trung_tu_pho_co_den_co_do': 'RW_TOUR_DISANMIENTRUNG_3N2D',
  'ky_uc_va_dai_ngan_tinh_lang_gv': 'RW_TOUR_KYUC_DAINGAN_2N1D',
  'mien_trung_di_san_kham_pha_quy_nhon_phu_yen': 'RW_TOUR_QUYNHON_PHUYEN_4N3D',
  'kham_pha_dat_viet_van_hoa_ky_quan_thien_nhien_khe_sanh_tam_dao_moc_chau': 'RW_TOUR_TAMDAO_MOCCHAU_4N3D',
  'mien_bac_di_san_tam_linh_thien_nhien': 'RW_TOUR_HALONG_NINHBINH_TAMCHUC_3N2D',
  'trai_nghiem_tinh_hoa_bac_bo_ha_noi_sa_pa_phu_tho': 'RW_TOUR_HANOI_SAPA_PHUTHO_5N4D',
  'di_san_kham_pha_ninh_binh_tam_dao_ha_long': 'RW_TOUR_NINHBINH_TAMDAO_HALONG_6N5D',
  'kham_pha_da_nang_hoi_an': 'RW_TOUR_DANANG_HOIAN_2N1D',
  'gioi_thieu_tai_lieu_bat_mach_noi_dau': 'RW_BOOK_BAT_MACH_NOI_DAU',
  'cong_dong_ban_sac_trong_nuoc': 'CONG_DONG_BAN_SAC_TRONG_NUOC',
  'ket_noi_trong_nuoc': 'KET_NOI_TRONG_NUOC',
  'lan_toa_trong_nuoc': 'LAN_TOA_TRONG_NUOC',
  'giao_duc_ky_nang_trong_nuoc': 'GIAO_DUC_KY_NANG_TRONG_NUOC',
  'trai-nghiem-linh-hoat-phu-nu': 'RW_TOUR_DONGCHAYYEUTHUONG_2N1D',
  'mua_do_va_tay_truong_son': 'RW_TOUR_MUADO_TSON_2N1D',
  'dai_ngan_truong_son_sac_xuan_mien_bien_vien': 'RW_TOUR_TRUONGSON_BIENVIEN_2N1D',
  'non-nuoc-bach-ma': 'RW_TOUR_BACHMA_1DAY',
  'sac_xuan_mien_bien_vien': 'RW_TOUR_SACXUAN_BIENVIEN_2N1D'
};

/* =========================================================
   LEAD KEYWORDS (GI·ªÆ NGUY√äN)
========================================================= */
const LEAD_KEYWORDS = [
  'ƒëƒÉng k√Ω',
  'ƒëƒÉng k√Ω th√¥ng tin t∆∞ v·∫•n',
  'g·ªçi ƒë·ªÉ ch√∫ng t√¥i t∆∞ v·∫•n',
  'li√™n h·ªá ƒë·∫∑t h√†nh tr√¨nh',
  'n∆°i nh·∫≠n t∆∞ v·∫•n',
  'n∆°i nh·∫≠n t∆∞ v·∫•n ‚Üí',
  'li√™n h·ªá',
  't∆∞ v·∫•n',
  '033.251.0486'
];

/* =========================================================
   PATH KEY ‚Äì FIX QUAN TR·ªåNG: ƒê·∫¢M B·∫¢O KH√îNG NULL
========================================================= */
let pathKey = location.pathname
  .replace(/^\/|\/$/g,'')
  .replace('index.html','')
  .replace('.html','');

if(pathKey === '') pathKey = '';

// FIX CRITICAL: ƒê·∫¢M B·∫¢O CONTENT_ID LU√îN C√ì GI√Å TR·ªä
const CONTENT_ID = CONTENT_ID_MAP[pathKey] || 'RW_UNKNOWN';
const PAGE_TYPE = pathKey === '' ? 'home' : (CONTENT_ID_MAP[pathKey] ? 'page' : 'unknown');

console.log('[RW Pixel] Page Info:', { 
  pathKey: pathKey, 
  CONTENT_ID: CONTENT_ID, 
  PAGE_TYPE: PAGE_TYPE,
  mapped: !!CONTENT_ID_MAP[pathKey]
});

/* =========================================================
   VIEW CONTENT (FIXED - WITH RETRY)
========================================================= */
function sendViewContent() {
  if (!window.RW_EVENT_ID) {
    console.log('[RW Pixel] RW_EVENT_ID not ready, retrying...');
    setTimeout(sendViewContent, 500);
    return;
  }
  
  if (!CONTENT_ID || CONTENT_ID === 'RW_UNKNOWN') {
    console.warn('[RW Pixel] Invalid CONTENT_ID for ViewContent');
    return;
  }
  
  const params = {
    content_name: document.title || 'Ruby Wings',
    content_category: PAGE_TYPE,
    content_ids: [CONTENT_ID],
    content_type: 'website',
    currency: 'VND',
    value: PAGE_TYPE === 'home' ? 0 : 10000,
    predicted_ltv: PAGE_TYPE === 'home' ? 0 : 1000000
  };
  
  console.log('[RW Pixel] Sending ViewContent:', params);
  
  safeFbqSend('track', 'ViewContent', params, {
    eventID: window.RW_EVENT_ID
  });
}

// G·ª≠i ViewContent sau 1.5s
setTimeout(sendViewContent, 1500);

/* =========================================================
   LANDING PAGE VIEW (FIXED)
========================================================= */
setTimeout(function() {
  if (!getSessionFlag('landing_viewed')) {
    setSessionFlag('landing_viewed');
    
    console.log('[RW Pixel] Sending LandingPageView');
    
    safeFbqSend('trackCustom', 'LandingPageView', {
      page_type: PAGE_TYPE,
      content_id: CONTENT_ID,
      url: location.href,
      referrer: document.referrer || 'direct'
    });
  }
}, 1800);

/* =========================================================
   PAGE SCROLL (25% / 50% / 75%) - FIXED
========================================================= */
const scrollMarks = [25, 50, 75];
const scrollSent = {};

window.addEventListener('scroll', function () {
  const docHeight = document.documentElement.scrollHeight;
  const winHeight = window.innerHeight;
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  
  if (docHeight <= winHeight) return;
  
  const percent = Math.round(((scrollTop + winHeight) / docHeight) * 100);
  
  scrollMarks.forEach(function (mark) {
    if (percent >= mark && !scrollSent[mark]) {
      scrollSent[mark] = true;
      
      const scrollKey = 'scroll_' + mark + '_' + CONTENT_ID;
      if (!getSessionFlag(scrollKey)) {
        setSessionFlag(scrollKey);
        
        console.log('[RW Pixel] Sending PageScroll:', mark + '%');
        
        safeFbqSend('trackCustom', 'PageScroll', {
          scroll_percent: mark,
          page_type: PAGE_TYPE,
          content_id: CONTENT_ID,
          url: location.href,
          total_percent: percent
        });
      }
    }
  });
}, { passive: true });

/* =========================================================
   CONTENT VIEW (FOR NON-HOME PAGES)
========================================================= */
if (PAGE_TYPE === 'page' && CONTENT_ID !== 'RW_HOME') {
  setTimeout(function() {
    const contentKey = 'content_view_' + CONTENT_ID;
    if (!getSessionFlag(contentKey)) {
      setSessionFlag(contentKey);
      
      console.log('[RW Pixel] Sending ContentView');
      
      safeFbqSend('trackCustom', 'ContentView', {
        content_id: CONTENT_ID,
        page_type: PAGE_TYPE,
        title: document.title || '',
        url: location.href
      });
    }
  }, 2000);
}

/* =========================================================
   DEEP SCROLL (80%) - FIXED
========================================================= */
let deepScrollTriggered = false;

window.addEventListener('scroll', function () {
  if (deepScrollTriggered) return;
  
  const docHeight = document.documentElement.scrollHeight;
  const winHeight = window.innerHeight;
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  
  if (docHeight <= winHeight) return;
  
  const percent = Math.round(((scrollTop + winHeight) / docHeight) * 100);
  
  if (percent >= SCROLL_DEPTH) {
    deepScrollTriggered = true;
    
    const deepScrollKey = 'deep_scroll_' + CONTENT_ID;
    if (!getSessionFlag(deepScrollKey)) {
      setSessionFlag(deepScrollKey);
      
      console.log('[RW Pixel] Sending DeepScroll:', percent + '%');
      
      safeFbqSend('trackCustom', 'DeepScroll', {
        content_id: CONTENT_ID,
        page_type: PAGE_TYPE,
        scroll_depth: SCROLL_DEPTH,
        achieved_percent: percent,
        url: location.href
      });
    }
  }
}, { passive: true });

/* =========================================================
   ENGAGED VIEW (30 SECONDS) - FIXED
========================================================= */
setTimeout(function () {
  const engagedKey = 'engaged_view_' + CONTENT_ID;
  if (!getSessionFlag(engagedKey)) {
    setSessionFlag(engagedKey);
    
    console.log('[RW Pixel] Sending EngagedView');
    
    safeFbqSend('trackCustom', 'EngagedView', {
      content_id: CONTENT_ID,
      page_type: PAGE_TYPE,
      time_on_page: ENGAGED_TIME / 1000,
      url: location.href
    });
  }
}, ENGAGED_TIME);

/* =========================================================
   CONSULT CLICK - FIXED (TR√ÅNH C√ÅC N√öT ƒê·∫∂C BI·ªÜT)
========================================================= */
document.addEventListener('click', function (e) {
  // T√¨m ph·∫ßn t·ª≠ ƒë∆∞·ª£c click
  let target = e.target;
  while (target && target !== document) {
    if (target.tagName === 'A' || target.tagName === 'BUTTON') {
      break;
    }
    target = target.parentElement;
  }
  
  if (!target || target === document) return;
  
  // KI·ªÇM TRA QUAN TR·ªåNG: KH√îNG x·ª≠ l√Ω c√°c n√∫t ƒë·∫∑c bi·ªát
  const specialButtons = [
    '#rw-zalo-round-btn',
    '#rw-consult-btn', 
    '#ruby-call-button',
    '.rw-chat-btn-isolated',
    '#ruby-call-regular',
    '#ruby-call-zalo',
    '.rw-chat-send-isolated',
    '.rw-chat-close-isolated'
  ];
  
  // Ki·ªÉm tra xem c√≥ ph·∫£i n√∫t ƒë·∫∑c bi·ªát kh√¥ng
  let isSpecialButton = false;
  for (const selector of specialButtons) {
    if (target.matches(selector) || target.closest(selector)) {
      isSpecialButton = true;
      break;
    }
  }
  
  if (isSpecialButton) return;
  
  // Ki·ªÉm tra n·ªôi dung text
  const text = (target.textContent || target.innerText || '').toLowerCase().trim();
  if (!text) return;
  
  // T√¨m keyword trong LEAD_KEYWORDS
  const isLead = LEAD_KEYWORDS.some(function (keyword) {
    return text.includes(keyword.toLowerCase());
  });
  
  if (!isLead) return;
  
  // G·ª≠i ConsultClick
  const consultKey = 'consult_click_' + Date.now();
  if (!getSessionFlag(consultKey, 0.5)) { // 30 ph√∫t TTL
    setSessionFlag(consultKey, 0.5);
    
    console.log('[RW Pixel] Sending ConsultClick:', text.substring(0, 50));
    
    safeFbqSend('trackCustom', 'ConsultClick', {
      content_name: text.substring(0, 80),
      content_category: 'consultation',
      content_ids: [CONTENT_ID],
      page_type: PAGE_TYPE,
      element_text: text.substring(0, 100),
      url: location.href
    });
  }
}, true); // S·ª≠ d·ª•ng capture phase

// ================= DEBUG MODE =================
if (window.location.search.includes('debug_pixel=1')) {
  console.log('[RW Pixel Debug Mode]');
  console.log('Path:', pathKey);
  console.log('Content ID:', CONTENT_ID);
  console.log('Page Type:', PAGE_TYPE);
  console.log('RW Event ID:', window.RW_EVENT_ID);
  console.log('FBQ Available:', !!window.fbq);
  
  // Test g·ª≠i event
  setTimeout(() => {
    console.log('[RW Pixel] Testing events...');
    
    // Test ViewContent
    safeFbqSend('track', 'ViewContent', {
      content_name: 'TEST - ' + document.title,
      content_category: PAGE_TYPE,
      content_ids: [CONTENT_ID],
      content_type: 'website',
      currency: 'VND',
      value: 0
    }, { eventID: 'test_' + Date.now() });
    
    // Test c√°c custom events
    ['LandingPageView', 'PageScroll', 'ContentView', 'DeepScroll', 'EngagedView', 'ConsultClick'].forEach((event, i) => {
      setTimeout(() => {
        console.log('[RW Pixel] Test sending:', event);
        safeFbqSend('trackCustom', event, {
          content_id: CONTENT_ID,
          page_type: PAGE_TYPE,
          test_mode: true,
          timestamp: new Date().toISOString()
        });
      }, i * 1000);
    });
  }, 3000);
}

// ==================== PH·∫¶N N√ÄY GI·ªÆ NGUY√äN 100% ====================
// KH√îNG THAY ƒê·ªîI G√å T·ª™ ƒê√ÇY XU·ªêNG

/* =========================================================
   ZALO BUTTON (G√ìC PH·∫¢I, TR√äN N√öT FORM T∆Ø V·∫§N) - N√öT TR√íN
========================================================= */
const zaloRoundBtn = document.createElement('div');
zaloRoundBtn.innerHTML = `
 <a href="https://zalo.me/84332510486"
   target="_blank"
   rel="noopener noreferrer"
   id="rw-zalo-round-btn"
   aria-label="Li√™n h·ªá Zalo Ruby Wings"
   style="
     position:fixed;
     right:20px;
     bottom:80px;
     z-index:9999;
     width:60px;
     height:60px;
     border-radius:50%;
     background:linear-gradient(135deg,#0068FF,#0052CC);
     color:#ffffff;
     display:flex;
     align-items:center;
     justify-content:center;
     text-decoration:none;
     box-shadow:0 6px 16px rgba(0,0,0,.25);
     border:2px solid white;
   ">
   <img 
     src="images/zalo.jpg"
     alt=""
     style="width:30px;height:30px;border-radius:50%;object-fit:cover;"
   >
</a>
`;
document.body.appendChild(zaloRoundBtn);

/* =========================================================
   CONSULT BUTTON (G√ìC PH·∫¢I) ‚Äì PIXEL + CAPI LEAD (DEDUP SAFE)
========================================================= */
const btn = document.createElement('div');
btn.innerHTML = `
 <a href="https://forms.gle/XCWf6zgFRp4Vhbw39"
   target="_blank"
   id="rw-consult-btn"
   style="
     position:fixed;
     right:20px;
     bottom:20px;
     z-index:9999;
     padding:12px 18px;
     background:linear-gradient(135deg,#16a34a,#22c55e);
     color:#ffffff;
     font-weight:700;
     font-size:14px;
     border-radius:30px;
     text-decoration:none;
     box-shadow:0 6px 16px rgba(0,0,0,.25);
   ">
   Form t∆∞ v·∫•n
 </a>
`;
document.body.appendChild(btn);

/* =========================================================
   FORM T∆Ø V·∫§N BUTTON - TH√äM CAPI (KH√îNG ·∫¢NH H∆Ø·ªûNG C√ÅI C≈®)
========================================================= */
// Th√™m s·ª± ki·ªán click cho n√∫t Form t∆∞ v·∫•n
document.addEventListener('click', function(e) {
    var consultBtn = e.target.closest && e.target.closest('#rw-consult-btn');
    if (!consultBtn) return;
    
    // L·∫•y event_id t·ª´ sessionStorage ho·∫∑c t·∫°o m·ªõi
    var eventId = getFinalConvEventId('consult_form');
    
    // G·ª≠i CAPI cho Form t∆∞ v·∫•n
    fetch('https://ruby-wings-chatbot-v4.onrender.com/api/track-contact', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            event_id: eventId,
            phone: '',
            source: 'Form T∆∞ V·∫•n'
        })
    }).catch(function(error) {
        console.warn('Form t∆∞ v·∫•n CAPI error:', error);
    });
    
    // V·∫™N GI·ªÆ NGUY√äN H√ÄNH VI M·ªû LINK
    // Kh√¥ng preventDefault ƒë·ªÉ link v·∫´n m·ªü b√¨nh th∆∞·ªùng
});

/* =========================================================
   FAQ FUNCTIONALITY
========================================================= */
document.addEventListener('DOMContentLoaded', function() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        
        question.addEventListener('click', () => {
            // ƒê√≥ng t·∫•t c·∫£ c√°c FAQ kh√°c
            faqItems.forEach(otherItem => {
                if (otherItem !== item && otherItem.classList.contains('active')) {
                    otherItem.classList.remove('active');
                }
            });
            
            // Toggle FAQ hi·ªán t·∫°i
            item.classList.toggle('active');
        });
    });
    
    // T·ª± ƒë·ªông m·ªü FAQ ƒë·∫ßu ti√™n tr√™n desktop
    if (window.innerWidth > 768) {
        const firstFaq = document.querySelector('.faq-item');
        if (firstFaq) {
            firstFaq.classList.add('active');
        }
    }
});

})();
</script>

<!-- ================= CHATBOT WIDGET - GI·ªÆ NGUY√äN 100% ================= -->
<script>
// Ruby Wings Chat Widget - Complete Isolation
const BACKEND_URL = "https://ruby-wings-chatbot-v4.onrender.com";

(function() {
    'use strict';
    
    // Ki·ªÉm tra tr√πng l·∫∑p
    if (window.RW_CHAT_LOADED) return;
    window.RW_CHAT_LOADED = true;
    
    // T·∫°o container t√°ch bi·ªát ho√†n to√†n
    const createIsolatedWidget = function() {
        // X√≥a widget c≈© n·∫øu c√≥
        const oldWidgets = document.querySelectorAll('#rw-chat-isolated, .rw-chat-isolated');
        oldWidgets.forEach(w => w.remove());
        
        // T·∫°o container m·ªõi
        const container = document.createElement('div');
        container.id = 'rw-chat-isolated';
        container.className = 'rw-chat-isolated';
        
        // CSS ho√†n to√†n t√°ch bi·ªát
        const styles = `
            .rw-chat-isolated {
                position: fixed !important;
                left: 0 !important;
                bottom: 0 !important;
                width: auto !important;
                height: auto !important;
                z-index: 10000 !important;
                pointer-events: none !important;
                isolation: isolate !important;
                all: initial !important;
                font-family: Arial, sans-serif !important;
            }
            
            .rw-chat-isolated * {
                pointer-events: auto !important;
                box-sizing: border-box !important;
            }
            
            .rw-chat-btn-isolated {
    position: fixed !important;
    left: 15px !important;
    bottom: 15px !important;
    width: 60px !important;
    height: 60px !important;
    border-radius: 50% !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    border: 2px solid white !important; /* <--- ƒë√£ th√™m vi·ªÅn tr·∫Øng */
    color: white !important;
    font-size: 24px !important;
    cursor: pointer !important;
    z-index: 10001 !important;
    box-shadow: 0 4px 20px rgba(0,217,126,0.4) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
    overflow: hidden !important;
}
            
            .rw-chat-btn-isolated::after {
                content: "AI" !important;
                position: absolute !important;
                bottom: 5px !important;
                font-size: 11px !important;
                font-weight: bold !important;
                color: white !important;
                left: 0 !important;
                right: 0 !important;
                text-align: center !important;
            }
            
            .rw-chat-widget-isolated {
                position: fixed !important;
                left: 15px !important;
                bottom: 85px !important;
                width: calc(100vw - 30px) !important;
                max-width: 400px !important;
                height: 500px !important;
                background: white !important;
                border-radius: 12px !important;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2) !important;
                z-index: 10002 !important;
                display: none !important;
                flex-direction: column !important;
                overflow: hidden !important;
                border: 1px solid #e2e8f0 !important;
                pointer-events: auto !important;
            }
            
            .rw-chat-widget-isolated.open {
                display: flex !important;
            }
            
            .rw-chat-header-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                padding: 15px !important;
                display: flex !important;
                align-items: center !important;
                gap: 10px !important;
            }
            
            .rw-chat-avatar-isolated {
                width: 32px !important;
                height: 32px !important;
                border-radius: 8px !important;
                background: rgba(255,255,255,0.2) !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            .rw-chat-title-isolated {
                font-weight: bold !important;
                font-size: 16px !important;
                flex: 1 !important;
            }
            
            .rw-chat-close-isolated {
                background: none !important;
                border: none !important;
                color: white !important;
                font-size: 18px !important;
                cursor: pointer !important;
                width: 30px !important;
                height: 30px !important;
                border-radius: 50% !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            .rw-chat-body-isolated {
                flex: 1 !important;
                padding: 15px !important;
                overflow-y: auto !important;
                background: #f8fafc !important;
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
            }
            
            .rw-chat-message-isolated {
                max-width: 85% !important;
                padding: 12px 16px !important;
                border-radius: 12px !important;
                font-size: 14px !important;
                line-height: 1.4 !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }
            
            .rw-chat-message-bot-isolated {
                background: white !important;
                color: #1e293b !important;
                border-bottom-left-radius: 4px !important;
                align-self: flex-start !important;
            }
            
            .rw-chat-message-user-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border-bottom-right-radius: 4px !important;
                align-self: flex-end !important;
            }
            
            .rw-chat-input-container-isolated {
                padding: 15px !important;
                background: white !important;
                border-top: 1px solid #e2e8f0 !important;
                display: flex !important;
                gap: 8px !important;
            }
            
            .rw-chat-input-isolated {
                flex: 1 !important;
                padding: 12px !important;
                border: 2px solid #00b368 !important;
                border-radius: 8px !important;
                font-size: 14px !important;
                outline: none !important;
                background: white !important;
                color: #1e293b !important;
            }
            
            .rw-chat-input-isolated:focus {
                border-color: #00d97e !important;
                box-shadow: 0 0 0 3px rgba(0, 217, 126, 0.2) !important;
            }
            
            .rw-chat-send-isolated {
                background: linear-gradient(90deg, #00d97e, #00b368) !important;
                color: white !important;
                border: none !important;
                padding: 12px 16px !important;
                border-radius: 8px !important;
                cursor: pointer !important;
                font-weight: bold !important;
                font-size: 14px !important;
            }
            
            @media (min-width: 769px) {
                .rw-chat-btn-isolated {
                    left: 20px !important;
                    bottom: 20px !important;
                    width: 70px !important;
                    height: 70px !important;
                }
                .rw-chat-btn-isolated::after {
                    font-size: 12px !important;
                    bottom: 8px !important;
                }
                .rw-chat-widget-isolated {
                    left: 20px !important;
                    bottom: 100px !important;
                    width: 400px !important;
                }
            }
        `;
        
        // Th√™m styles
        const styleEl = document.createElement('style');
        styleEl.textContent = styles;
        document.head.appendChild(styleEl);
        
        // T·∫°o HTML
        container.innerHTML = `
            <button class="rw-chat-btn-isolated" aria-label="M·ªü chat tr·ª£ l√Ω Ruby Wings AI">ü§ñ</button>
            <div class="rw-chat-widget-isolated">
                <div class="rw-chat-header-isolated">
                    <div class="rw-chat-avatar-isolated">AI</div>
                    <div class="rw-chat-title-isolated">Tr·ª£ l√Ω Ruby Wings AI</div>
                    <button class="rw-chat-close-isolated" aria-label="ƒê√≥ng chat">‚úï</button>
                </div>
                <div class="rw-chat-body-isolated">
                    <div class="rw-chat-message-isolated rw-chat-message-bot-isolated">
                        Ch√†o b·∫°n! T√¥i l√† tr·ª£ l√Ω Ruby Wings AI chuy√™n t∆∞ v·∫•n v·ªÅ du l·ªãch ... T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?
                        <div style="font-size:11px; color:#94a3b8; margin-top:4px; text-align:right;">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                </div>
                <div class="rw-chat-input-container-isolated">
                    <input type="text" class="rw-chat-input-isolated" placeholder="Chatbot v·∫´n ƒëang n√¢ng c·∫•p...">
                    <button class="rw-chat-send-isolated">G·ª≠i</button>
                </div>
            </div>
        `;
        
        document.body.appendChild(container);
        
        // L·∫•y elements
        const chatBtn = container.querySelector('.rw-chat-btn-isolated');
        const chatWidget = container.querySelector('.rw-chat-widget-isolated');
        const closeBtn = container.querySelector('.rw-chat-close-isolated');
        const sendBtn = container.querySelector('.rw-chat-send-isolated');
        const chatInput = container.querySelector('.rw-chat-input-isolated');
        const chatBody = container.querySelector('.rw-chat-body-isolated');
        
        let isOpen = false;
        
        // Event handlers ƒë∆°n gi·∫£n
        function toggleChat() {
            isOpen = !isOpen;
            chatWidget.classList.toggle('open', isOpen);
            if (isOpen) {
                setTimeout(() => chatInput.focus(), 100);
            }
        }
        
        function closeChat() {
            isOpen = false;
            chatWidget.classList.remove('open');
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Th√™m tin nh·∫Øn user
            addMessage(message, 'user');
            chatInput.value = '';
            
            // Hi·ªÉn th·ªã typing
            const typingMsg = addMessage('...', 'bot', true);
            
            // G·ª≠i ƒë·∫øn backend (FIX: Endpoint ƒë√∫ng /chat kh√¥ng c√≥ /api)
            fetch(BACKEND_URL + '/chat', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                typingMsg.remove();
                const reply = data.reply || data.message || 'Kh√¥ng c√≥ ph·∫£n h·ªìi t·ª´ server.';
                addMessage(reply, 'bot');
            })
            .catch(error => {
                typingMsg.remove();
                addMessage('Xin l·ªói, d·ªãch v·ª• t·∫°m th·ªùi gi√°n ƒëo·∫°n. Vui l√≤ng th·ª≠ l·∫°i.', 'bot');
                console.error('Chat error:', error);
            });
        }
        
        function addMessage(text, sender, isTyping = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `rw-chat-message-isolated rw-chat-message-${sender}-isolated`;
            
            if (isTyping) {
                messageDiv.innerHTML = `
                    <div style="display:flex; gap:4px; align-items:center;">
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.1s"></div>
                        <div style="width:6px; height:6px; border-radius:50%; background:#00d97e; animation: bounce 1s infinite 0.2s"></div>
                    </div>
                    <style>
                        @keyframes bounce {
                            0%, 100% { transform: translateY(0); }
                            50% { transform: translateY(-5px); }
                        }
                    </style>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div>${text}</div>
                    <div style="font-size:11px; opacity:0.7; margin-top:4px; text-align:${sender === 'user' ? 'left' : 'right'};">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                `;
            }
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            return messageDiv;
        }
        
        // G·∫Øn event listeners
        chatBtn.addEventListener('click', toggleChat);
        closeBtn.addEventListener('click', closeChat);
        sendBtn.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        // ƒê√≥ng khi click b√™n ngo√†i
        document.addEventListener('click', (e) => {
            if (isOpen && !chatWidget.contains(e.target) && !chatBtn.contains(e.target)) {
                closeChat();
            }
        });
    };
    
    // Kh·ªüi t·∫°o khi trang load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', createIsolatedWidget);
    } else {
        createIsolatedWidget();
    }
})();

</script>
<!-- N√öT G·ªåI ƒêI·ªÜN RUBY WINGS - ƒê·∫∑t tr∆∞·ªõc th·∫ª ƒë√≥ng </body> -->
<div id="ruby-call-widget" style="position: fixed; z-index: 10001;">
   <button id="ruby-call-button" style="background: linear-gradient(135deg, #00d97e, #00b368) !important; color: white; border: 2px solid white; border-radius: 50%; cursor: pointer; box-shadow: 0 6px 25px rgba(0, 217, 126, 0.4); display: flex; align-items: center; justify-content: center; transition: all 0.3s; outline: none;">
        üìû
    </button>
</div>

<!-- MODAL NH·∫¨P S·ªê ƒêI·ªÜN THO·∫†I -->
<div id="ruby-call-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10002; align-items: center; justify-content: center;">
    <div style="background: linear-gradient(135deg, #1a5f23 0%, #0d3b1a 100%); border-radius: 16px; padding: 30px; width: 90%; max-width: 420px; box-shadow: 0 15px 40px rgba(0,0,0,0.5); border: 2px solid #27ae60;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
            <h3 style="color: white; margin: 0; font-size: 22px; font-weight: 600; text-shadow: 1px 1px 3px rgba(0,0,0,0.3);">üìû G·ªåI CHO CH√öNG T√îI</h3>
            <button id="ruby-close-modal" style="background: none; border: none; font-size: 28px; cursor: pointer; color: white; padding: 0; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: all 0.3s;">√ó</button>
        </div>
        
        <div style="margin-bottom: 25px;">
            <p style="color: white; margin-bottom: 10px; font-size: 16px; font-weight: 500;">Nh·∫≠p s·ªë c·ªßa B·∫°n ƒë·ªÉ g·ªçi ch√∫ng t√¥i:</p>
            <input type="tel" id="ruby-phone-input" 
                   style="width: 100%; padding: 15px; background: white; color: black; border: 3px solid #27ae60; border-radius: 10px; font-size: 18px; font-weight: 500; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);"
                   placeholder="V√≠ d·ª•: 0332 510 486" 
                   pattern="[0-9]{10,11}">
            <p style="color: #d1e7dd; font-size: 13px; margin-top: 8px; font-weight: 400;">Ch√∫ng t√¥i s·∫Ω g·ªçi l·∫°i cho b·∫°n trong s·ªõm nh·∫•t c√≥ th·ªÉ</p>
        </div>
        
        <div style="display: flex; gap: 12px;">
            <button id="ruby-call-regular" 
                    style="flex: 1; background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); transition: all 0.3s; min-height: 55px;">
                <span style="font-size: 20px;">üìû</span>
                <span>G·ªåI S·ªê</span>
            </button>
            <button id="ruby-call-zalo" 
                    style="flex: 1; background: linear-gradient(135deg, #0068ff 0%, #0052cc 100%); color: white; border: none; padding: 16px; border-radius: 10px; cursor: pointer; font-size: 17px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(0, 104, 255, 0.4); transition: all 0.3s; min-height: 55px;">
                <span><img src="https://img.icons8.com/color/20/000000/zalo.png" style="width: 20px; height: 20px; filter: brightness(0) invert(1);"></span>
                <span>G·ªåI ZALO</span>
            </button>
        </div>
        
        <p id="ruby-call-message" style="margin-top: 20px; text-align: center; font-size: 14px; min-height: 22px; color: white; font-weight: 500;"></p>
    </div>
</div>

<style>
/* ===== STYLES FOR ALL DEVICES ===== */
#ruby-call-widget {
    position: fixed !important;
    z-index: 10001 !important;
}

#ruby-call-button {
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#ruby-call-button::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s;
    z-index: -1;
}

#ruby-call-button:hover::after {
    opacity: 1;
}

#ruby-close-modal:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    transform: rotate(90deg);
}

/* D√íNG CODE THAY TH·∫æ */
#ruby-call-regular:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 217, 126, 0.6) !important;
    background: linear-gradient(135deg, #00d97e, #00b368) !important;
    filter: brightness(1.1);
}

#ruby-call-zalo:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(0, 104, 255, 0.6) !important;
    background: linear-gradient(135deg, #0057d9 0%, #0047b3 100%) !important;
}

/* Input focus effects */
#ruby-phone-input:focus {
    outline: none;
    border-color: #2ecc71 !important;
    box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.3) !important;
}

/* Animation cho modal */
@keyframes rubyModalFadeIn {
    from { 
        opacity: 0; 
        transform: translateY(-30px) scale(0.95); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

@keyframes rubyButtonPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

#ruby-call-modal > div {
    animation: rubyModalFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Pulsing effect for call button */
.ruby-pulse {
    animation: rubyButtonPulse 2s infinite;
}

/* ===== DESKTOP STYLES (default) ===== */
@media (min-width: 769px) {
    #ruby-call-widget {
        bottom: 105px;
        left: 24px;
    }
    
    #ruby-call-button {
        width: 70px;
        height: 70px;
        font-size: 30px;
    }
}

/* ===== MOBILE STYLES ===== */
@media (max-width: 768px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 26px;
    }
    
    #ruby-call-modal > div {
        padding: 25px !important;
        margin: 15px;
    }
    
    #ruby-phone-input {
        padding: 14px !important;
        font-size: 16px !important;
    }
    
    #ruby-call-regular,
    #ruby-call-zalo {
        padding: 14px !important;
        font-size: 16px !important;
        min-height: 50px !important;
    }
}

/* ===== EXTRA SMALL DEVICES ===== */
@media (max-width: 480px) {
    #ruby-call-widget {
        bottom: 85px;
        left: 15px;
    }
    
    #ruby-call-button {
        width: 60px;
        height: 60px;
        font-size: 24px;
    }
    
    #ruby-call-modal > div {
        padding: 20px !important;
    }
    
    h3 {
        font-size: 20px !important;
    }
}

/* ===== PRINT STYLES (hide on print) ===== */
@media print {
    #ruby-call-widget,
    #ruby-call-modal {
        display: none !important;
    }
}

/* ===== DARK MODE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
    #ruby-phone-input {
        background: white !important;
        color: black !important;
    }
}
</style>

<script>
// Bi·∫øn to√†n c·ª•c ƒë·ªÉ track tr·∫°ng th√°i
let rubyCallWidgetInitialized = false;
let rubyCallWidgetVisible = true;

// S·ªë ƒëi·ªán tho·∫°i c·ªë ƒë·ªãnh c·ªßa c√¥ng ty
const RUBY_WINGS_PHONE = "0332510486";

// H√†m kh·ªüi t·∫°o widget g·ªçi ƒëi·ªán
function initRubyCallWidget() {
    if (rubyCallWidgetInitialized) return;
    rubyCallWidgetInitialized = true;
    
    // DOM Elements
    const callButton = document.getElementById('ruby-call-button');
    const callModal = document.getElementById('ruby-call-modal');
    const closeButton = document.getElementById('ruby-close-modal');
    const phoneInput = document.getElementById('ruby-phone-input');
    const callRegularButton = document.getElementById('ruby-call-regular');
    const callZaloButton = document.getElementById('ruby-call-zalo');
    const messageElement = document.getElementById('ruby-call-message');
    
    // √Åp d·ª•ng positioning cho widget
    function applyWidgetPosition() {
        const widget = document.getElementById('ruby-call-widget');
        if (window.innerWidth >= 769) {
            // Desktop positioning
            widget.style.bottom = '105px';
            widget.style.left = '24px';
        } else {
            // Mobile positioning
            widget.style.bottom = '85px';
            widget.style.left = '15px';
        }
    }
    
    // Apply initial position
    applyWidgetPosition();
    
    // Th√™m hi·ªáu ·ª©ng pulse cho n√∫t
    callButton.classList.add('ruby-pulse');
    
    // M·ªü modal khi click n√∫t g·ªçi ƒëi·ªán
    callButton.addEventListener('click', () => {
        callModal.style.display = 'flex';
        phoneInput.focus();
        phoneInput.select();
        
        // T·∫°m d·ª´ng hi·ªáu ·ª©ng pulse khi m·ªü modal
        callButton.classList.remove('ruby-pulse');
    });
    
    // ƒê√≥ng modal
    closeButton.addEventListener('click', () => {
        callModal.style.display = 'none';
        messageElement.textContent = '';
        phoneInput.value = '';
        
        // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
        setTimeout(() => {
            callButton.classList.add('ruby-pulse');
        }, 500);
    });
    
    // Click b√™n ngo√†i ƒë·ªÉ ƒë√≥ng modal
    callModal.addEventListener('click', (e) => {
        if (e.target === callModal) {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // ESC key ƒë·ªÉ ƒë√≥ng modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && callModal.style.display === 'flex') {
            callModal.style.display = 'none';
            messageElement.textContent = '';
            phoneInput.value = '';
            
            setTimeout(() => {
                callButton.classList.add('ruby-pulse');
            }, 500);
        }
    });
    
    // H√†m l∆∞u lead v√†o h·ªá th·ªëng
    async function saveRubyLead(phoneNumber, callType) {
    const cleanPhone = phoneNumber.replace(/\D/g, '');
    if (cleanPhone.length < 10 || cleanPhone.length > 11) {
        throw new Error('S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá. Vui l√≤ng nh·∫≠p 10-11 ch·ªØ s·ªë');
    }

    // üîë HARD DEDUP: d√πng event_id t·ª´ FE (b·∫Øt bu·ªôc cho CAPI)
    const eventId = getFinalConvEventId('call');
        

    const leadData = {
        event_id: eventId,              // üîí QUAN TR·ªåNG
        phone: cleanPhone,
        source_channel: "Website",
        action_type: "Click Call Button",
        page_url: window.location.href,
        contact_name: "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i",
        service_interest: "",
        note: callType === 'zalo'
              ? "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i qua Zalo"
              : "Kh√°ch y√™u c·∫ßu g·ªçi l·∫°i tr·ª±c ti·∫øp"
    };

    const response = await fetch(
        'https://ruby-wings-chatbot-v4.onrender.com/api/save-lead',
        {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(leadData)
        }
    );

    if (!response.ok) {
        throw new Error('L·ªói k·∫øt n·ªëi server. Vui l√≤ng th·ª≠ l·∫°i');
    }

    return { ok: true, event_id: eventId };
}

    


    // H√†m x·ª≠ l√Ω g·ªçi ƒëi·ªán
    async function handleCall(callType = 'regular') {
        const phoneNumber = phoneInput.value.trim();
        
        if (!phoneNumber) {
            messageElement.textContent = '‚ö†Ô∏è Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i';
            messageElement.style.color = '#ffcc00';
            phoneInput.focus();
            return;
        }
        
        // Hi·ªÉn th·ªã tr·∫°ng th√°i ƒëang x·ª≠ l√Ω
        const originalRegularText = callRegularButton.innerHTML;
        const originalZaloText = callZaloButton.innerHTML;
        
        if (callType === 'regular') {
            callRegularButton.innerHTML = '<span style="font-size: 20px;">‚è≥</span><span>ƒêANG X·ª¨ L√ù...</span>';
            callRegularButton.disabled = true;
            callRegularButton.style.opacity = '0.8';
        } else {
            callZaloButton.innerHTML = '<span style="font-size: 20px;">‚è≥</span><span>ƒêANG X·ª¨ L√ù...</span>';
            callZaloButton.disabled = true;
            callZaloButton.style.opacity = '0.8';
        }
        
        messageElement.textContent = '‚è≥ ƒêang l∆∞u th√¥ng tin v√† k·∫øt n·ªëi...';
        messageElement.style.color = '#ffcc00';
        
        try {
            // 1. L∆∞u lead v√†o h·ªá th·ªëng
            const result = await saveRubyLead(phoneNumber, callType);
            // Track Call / Zalo conversion (Meta CAPI)
            fetch('https://ruby-wings-chatbot-v4.onrender.com/api/track-call', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    event_id: result.event_id, 
                    phone: phoneNumber.replace(/\D/g, ''),
                    action: callType === 'zalo' ? 'Zalo Click' : 'Phone Call'
                })
            });


            // 2. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
            messageElement.innerHTML = '‚úÖ <strong>TH√ÄNH C√îNG!</strong> ƒê√£ g·ª≠i th√¥ng tin';
            messageElement.style.color = '#2ecc71';
            
            // 3. Chuy·ªÉn h∆∞·ªõng ƒë·∫øn cu·ªôc g·ªçi/Zalo C√îNG TY (FIX: G·ªçi ƒë·∫øn s·ªë c√¥ng ty thay v√¨ s·ªë kh√°ch h√†ng)
            setTimeout(() => {
                if (callType === 'zalo') {
                    // M·ªü Zalo C√îNG TY trong tab m·ªõi
                    window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                } else {
                    // G·ªçi ƒëi·ªán ƒë·∫øn S·ªê C√îNG TY
                    window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                }
                
                // ƒê√≥ng modal sau 1.5 gi√¢y
                setTimeout(() => {
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                    
                    // Kh√¥i ph·ª•c hi·ªáu ·ª©ng pulse
                    setTimeout(() => {
                        callButton.classList.add('ruby-pulse');
                    }, 500);
                }, 1500);
            }, 1000);
            
        } catch (error) {
            // X·ª≠ l√Ω l·ªói
            console.error('Ruby Call Widget Error:', error);
            messageElement.innerHTML = `‚ùå <strong>${error.message}</strong>`;
            messageElement.style.color = '#ff6b6b';
            
            // V·∫´n cho ph√©p g·ªçi n·∫øu API fail (fallback - G·ªåI ƒê·∫æN C√îNG TY)
            setTimeout(() => {
                const userConfirmed = confirm('H·ªá th·ªëng ƒëang b·∫≠n. B·∫°n v·∫´n mu·ªën ti·∫øp t·ª•c g·ªçi kh√¥ng?');
                
                if (userConfirmed) {
                    if (callType === 'zalo') {
                        window.open(`https://zalo.me/${RUBY_WINGS_PHONE}`, '_blank', 'noopener,noreferrer');
                    } else {
                        window.location.href = `tel:${RUBY_WINGS_PHONE}`;
                    }
                    callModal.style.display = 'none';
                    phoneInput.value = '';
                    messageElement.textContent = '';
                }
            }, 2000);
        } finally {
            // Kh√¥i ph·ª•c tr·∫°ng th√°i n√∫t
            if (callType === 'regular') {
                setTimeout(() => {
                    callRegularButton.innerHTML = originalRegularText;
                    callRegularButton.disabled = false;
                    callRegularButton.style.opacity = '1';
                }, 1000);
            } else {
                setTimeout(() => {
                    callZaloButton.innerHTML = originalZaloText;
                    callZaloButton.disabled = false;
                    callZaloButton.style.opacity = '1';
                }, 1000);
            }
        }
    }
    
    // G·∫Øn s·ª± ki·ªán cho n√∫t g·ªçi th∆∞·ªùng
    callRegularButton.addEventListener('click', () => handleCall('regular'));
    
    // G·∫Øn s·ª± ki·ªán cho n√∫t g·ªçi Zalo
    callZaloButton.addEventListener('click', () => handleCall('zalo'));
    
    // Cho ph√©p nh·∫•n Enter ƒë·ªÉ g·ªçi th∆∞·ªùng
    phoneInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleCall('regular');
        }
    });
    
    // Auto-format s·ªë ƒëi·ªán tho·∫°i
    phoneInput.addEventListener('input', (e) => {
        let value = e.target.value.replace(/\D/g, '');
        
        if (value.length > 0) {
            if (value.length <= 4) {
                value = value;
            } else if (value.length <= 7) {
                value = `${value.slice(0, 4)} ${value.slice(4)}`;
            } else {
                value = `${value.slice(0, 4)} ${value.slice(4, 7)} ${value.slice(7, 11)}`;
            }
        }
        
        e.target.value = value;
    });
    
    // ƒêi·ªÅu ch·ªânh v·ªã tr√≠ n·∫øu c√≥ chatbot
    function adjustPositionForChatbot() {
        const chatWidget = document.querySelector('#chatWidget, .chat-widget, [id*="chat"], [class*="chat"], .tawk-button, .zalo-chat-widget');
        if (chatWidget) {
            const chatRect = chatWidget.getBoundingClientRect();
            const callWidget = document.getElementById('ruby-call-widget');
            
            // ƒê·∫∑t n√∫t g·ªçi ƒëi·ªán cao h∆°n n√∫t chatbot 80px
            callWidget.style.bottom = `${chatRect.height + 80}px`;
        }
    }
    
    // Re-apply position on resize
    window.addEventListener('resize', () => {
        applyWidgetPosition();
        adjustPositionForChatbot();
    });
    
    // Ki·ªÉm tra v√† ƒëi·ªÅu ch·ªânh m·ªói 1 gi√¢y (ph√≤ng tr∆∞·ªùng h·ª£p chatbot load sau)
    const positionCheckInterval = setInterval(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    // Initial adjustments
    setTimeout(() => {
        adjustPositionForChatbot();
    }, 1000);
    
    console.log('‚úÖ Ruby Call Widget ƒë√£ s·∫µn s√†ng - Phi√™n b·∫£n ho√†n thi·ªán');
}

// Kh·ªüi t·∫°o khi DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initRubyCallWidget);
} else {
    initRubyCallWidget();
}

// ƒê·∫£m b·∫£o widget v·∫´n ho·∫°t ƒë·ªông khi chuy·ªÉn trang trong SPA
document.addEventListener('click', (e) => {
    if (e.target.matches('a[href*="#"]') || e.target.closest('a[href*="#"]')) {
        // Gi·ªØ widget hi·ªÉn th·ªã khi chuy·ªÉn anchor link
        setTimeout(() => {
            if (window.rubyCallWidgetInitialized) {
                const widget = document.getElementById('ruby-call-widget');
                widget.style.display = 'block';
            }
        }, 100);
    }
});

// Ch·ªëng ·∫©n widget khi scroll
window.rw_lastScrollTop = 0;
window.addEventListener('scroll', () => {
    const st = window.pageYOffset || document.documentElement.scrollTop;
    
    // Lu√¥n hi·ªÉn th·ªã widget, kh√¥ng ·∫©n khi scroll
    const widget = document.getElementById('ruby-call-widget');
    if (widget) {
        widget.style.display = 'block';
        widget.style.opacity = '1';
    }  
    window.rw_lastScrollTop = st <= 0 ? 0 : st;
}, false);
</script>
</body>
</html>
